{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"source/favicon.ico","path":"favicon.ico","modified":1,"renderable":0},{"_id":"source/images/decorator-1.png","path":"images/decorator-1.png","modified":1,"renderable":0},{"_id":"source/images/li-queue-in.png","path":"images/li-queue-in.png","modified":1,"renderable":0},{"_id":"source/images/redux-flow.jpg","path":"images/redux-flow.jpg","modified":1,"renderable":0},{"_id":"source/images/scroll-1.png","path":"images/scroll-1.png","modified":1,"renderable":0},{"_id":"source/images/webstorm-md-css-1.png","path":"images/webstorm-md-css-1.png","modified":1,"renderable":0},{"_id":"source/images/webstorm-save-file.png","path":"images/webstorm-save-file.png","modified":1,"renderable":0},{"_id":"source/images/dva-flow.png","path":"images/dva-flow.png","modified":1,"renderable":0},{"_id":"source/images/react-redux-flow.png","path":"images/react-redux-flow.png","modified":1,"renderable":0},{"_id":"themes/strict/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/strict/source/fonts/icon.eot","path":"fonts/icon.eot","modified":1,"renderable":1},{"_id":"themes/strict/source/fonts/icon.svg","path":"fonts/icon.svg","modified":1,"renderable":1},{"_id":"themes/strict/source/fonts/icon.ttf","path":"fonts/icon.ttf","modified":1,"renderable":1},{"_id":"themes/strict/source/fonts/icon.woff","path":"fonts/icon.woff","modified":1,"renderable":1},{"_id":"themes/strict/source/js/jquery-modal.js","path":"js/jquery-modal.js","modified":1,"renderable":1},{"_id":"themes/strict/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/strict/source/img/bg-mikasa-white.jpeg","path":"img/bg-mikasa-white.jpeg","modified":1,"renderable":1},{"_id":"themes/strict/source/js/jquery-3.1.1.min.js","path":"js/jquery-3.1.1.min.js","modified":1,"renderable":1},{"_id":"source/images/aise-normal.png","path":"images/aise-normal.png","modified":1,"renderable":0},{"_id":"themes/strict/source/img/bg-1.png","path":"img/bg-1.png","modified":1,"renderable":1},{"_id":"source/images/aise-broken.png","path":"images/aise-broken.png","modified":1,"renderable":0}],"Cache":[{"_id":"source/404.html","hash":"f7d32c6d1ddac7caa964d346c19e920fa7b3986f","modified":1479778809720},{"_id":"source/CNAME","hash":"ccd11be900fb36098ec8a133df91467c0c0b4a6a","modified":1479778809720},{"_id":"source/README.md","hash":"2002f06cfffb64e8d4e17d4049c8393294a4ad58","modified":1479778809720},{"_id":"source/favicon.ico","hash":"c0159d635085448ccc0aa746d03b48469bffb12c","modified":1479778809782},{"_id":"themes/strict/_config.yml","hash":"1c6e5040105e983d3ded52954b18be4e8e23a4b1","modified":1483423723376},{"_id":"source/_drafts/canvas-in-action.md","hash":"b1dc76ec692a7edecb7948c2d1c5e4dddcd67238","modified":1479778809720},{"_id":"source/_drafts/git-in-action.md","hash":"af4e1cd6d80ca6b4eeb40ab112868768df6189b5","modified":1479778809720},{"_id":"source/_drafts/tmp-in-weaver-approve-tdwalll-user.md","hash":"7b893923625b21a2f0310237270bdf9a276f3b7e","modified":1482484536699},{"_id":"source/_drafts/tmp-in-weaver-docs.md","hash":"d42f1f0b66e5a51d645f9982b39aee4ad539b1d9","modified":1483599175924},{"_id":"source/_drafts/tmp-in-weaver-guifan.md","hash":"e1ab879f989688398bdf9807e82ec08ceedf3b4e","modified":1481197719000},{"_id":"source/_drafts/tmp-in-weaver-location-base.md","hash":"09611458f848c91e9610e558ced80df0df95ae96","modified":1481779974325},{"_id":"source/_drafts/tmp-in-weaver-miaosha.md","hash":"83e79b4497d2622b68209e5e498fc1c4c90da513","modified":1484127311255},{"_id":"source/_drafts/tmp-in-weaver-new-requirements.md","hash":"ca07bf6b41d7bbd1b61092225462260a4750dac8","modified":1484876891000},{"_id":"source/_drafts/tmp-in-weaver-news.md","hash":"7c8eb61acff429e111b35840a68f70f27e7c579f","modified":1481197729000},{"_id":"source/_drafts/tmp-in-weaver-tdwall.md","hash":"b4a569ecfdc9bcca92a9e49d2cbc2d24f7970007","modified":1483065885901},{"_id":"source/_drafts/tmp-in-weaver-tenant.md","hash":"dff0f472b03cae10f8dc3d12708bc1c0a68015fe","modified":1484892466200},{"_id":"source/_drafts/tmp-in-weaver-vote.md","hash":"e62dc8573556013434790bfcdd1c155f5a9db0e8","modified":1483436216407},{"_id":"source/_drafts/tmp-in-weaver-wx-menu.md","hash":"2aed04f3cc1407320336e44903df333d9917c6dd","modified":1483065816000},{"_id":"source/_drafts/tmp-in-weaver.md","hash":"3ef81d11d7e77f54fd5b30507d288dc5195ffe99","modified":1484880889000},{"_id":"source/_posts/baseview-in-backbone.md","hash":"f885428706520ccabcdcb3a1d13205bc82106330","modified":1479778809720},{"_id":"source/_posts/battleship-girls.md","hash":"9bdded1fc76d3e506df1701b806b21674934fe27","modified":1479778809735},{"_id":"source/_posts/correct-ugly-markdown-css-in-webstorm.md","hash":"25ae315485ad2cc760ab77d1a97a345982727267","modified":1482478661376},{"_id":"source/_posts/css-animation-queue-list.md","hash":"a75b99a5f99df752ddeccc612950a228b669ac31","modified":1479778809735},{"_id":"source/_posts/decorator-in-js.md","hash":"fa3d0335412925d45cf52485a25be8e20246b3cc","modified":1485239067531},{"_id":"source/_posts/dva-in-action.md","hash":"e96ec8a54f2522d9627212442bc066501f80a5a1","modified":1485238681627},{"_id":"source/_posts/esekesu-senkanno-onnanoko.md","hash":"dd72f7b6147fe5dc6a5e9ed2d8a8c5fcb0b9ed8f","modified":1485239067531},{"_id":"source/_posts/for-in-scss.md","hash":"6a6384ae79a4d306ad174ac45f667c508c1ddf33","modified":1479778809735},{"_id":"source/_posts/formdata-in-action.md","hash":"c5b8df5105497988dc25fbe8936bf2e0eb686c4c","modified":1479778809735},{"_id":"source/_posts/git-remember-password-in-window-and-linux.md","hash":"da56f267e60aeb2c4e08485d6c8c40cd21f4bde8","modified":1479778809735},{"_id":"source/_posts/higashino-keigo.md","hash":"0f082f0e03a6f7ba814d42ece5ea3415cfcb89a2","modified":1485238286390},{"_id":"source/_posts/js-bind-this.md","hash":"d2bce9ed9f409d582e325d6fdf5c485597ece3ad","modified":1483070116592},{"_id":"source/_posts/kill-process-in-window.md","hash":"ebeaad3947bd454aa96ea434e8e33427e5d0cc16","modified":1481197820425},{"_id":"source/_posts/kill-process.md","hash":"aee2298edf4d43b4cfde9386503676c9679074b7","modified":1481197826299},{"_id":"source/_posts/menu-with-moved-elfish.md","hash":"0bedd1111affc26f5dc4fbf03883ec4060e574e0","modified":1479778809751},{"_id":"source/_posts/navicat-10-1-7-key.md","hash":"658b481b8d975386ef75f6b7c31f103f453e8617","modified":1479778809751},{"_id":"source/_posts/modify-wamp-mysql-password.md","hash":"e6e021d2977ef4b1457da09032fe4ae0200266fb","modified":1479778809751},{"_id":"source/_posts/prevent-deep-div-scroll-with-the-top-element.md","hash":"7b8a8cb1fe3b002f8aa8ca255ddee37192ac526c","modified":1479778809751},{"_id":"source/_posts/protect-yourself-in-network.md","hash":"5b0a2bf7ef90bc59deea95abe44d1491122530a8","modified":1479778809751},{"_id":"source/_posts/show-a-default-image-when-the-image-is-broken.md","hash":"ea73292a6b4653ae80d2fc3e8ccbe7ca9eb4033a","modified":1479778809766},{"_id":"source/_posts/splice-in-javascript.md","hash":"38071edf3a557a6c734fae73e41067f030763a0f","modified":1483494626000},{"_id":"source/_posts/telephone-number-not-recognize-in-wx.md","hash":"375be2496320e61861d3dc678fa349d227e0597a","modified":1479778809766},{"_id":"source/_posts/test-post-assets-folder.md","hash":"3f0e2b73da76a94c5883236627b0422ef1fd04bb","modified":1485228859077},{"_id":"source/_posts/textarea-height-auto-increase.md","hash":"52cf74aa6c21189a19d993c6c68c7a91dba07d8a","modified":1484894463831},{"_id":"source/_posts/ths-difference-between-splice-and-slice.md","hash":"352d59567d733eeaf9effbc0545f3d7baa7067f7","modified":1479778809766},{"_id":"source/_posts/use-terminal-to-update-win10-key.md","hash":"202e836aff8d11cfde84eb0e98e94cabe0c12cdd","modified":1481871489484},{"_id":"source/_posts/use-js-to-convert-ts-to-data.md","hash":"81fa639ef12dff6f0389b6f1434f3657091a502e","modified":1479778809766},{"_id":"source/_posts/wamp-mysql-chinese-question-mark.md","hash":"946a7f6656990ded7ecb1125b487e1b074adbce3","modified":1479778809766},{"_id":"source/_posts/webpack-dev-server-vs-webstorm.md","hash":"7373f577744c4b0025897f3572fcdd4c3fbd370c","modified":1485239064860},{"_id":"source/_posts/write-a-compatible-js-module.md","hash":"24853a140ea4ff416b604e07da5bc12368affee4","modified":1479778809766},{"_id":"source/_posts/wrong-clearfix-make-me-crazy.md","hash":"3eed8e319b68488d45f5a3c8aff6d7c205c11b18","modified":1479778809782},{"_id":"source/_posts/zepto-plugin.md","hash":"a7b4c5019d4d47a8a19d49ab90dd9bfff9354176","modified":1479778809782},{"_id":"source/categories/index.md","hash":"34c12a3f13564f923241b825af9ae293ce97ce18","modified":1479778809782},{"_id":"source/about/index.md","hash":"186904652c5c278d19a3cfb9418b09ea1a4ab927","modified":1479778809782},{"_id":"source/_posts/remove-svn-folder.md","hash":"023622cf8aaf0521f20076089f5967d5afe3074b","modified":1485052205297},{"_id":"source/images/decorator-1.png","hash":"010f8449752923ce925d9219dd91161e25d2a6b9","modified":1482286880462},{"_id":"source/images/li-queue-in.png","hash":"e8768cc7bbb1baa4f447c70d38ae423b7228227a","modified":1479778809799},{"_id":"source/images/redux-flow.jpg","hash":"3db24afe31e7218b4ac6cc74497204250b2f5f3a","modified":1485140520516},{"_id":"source/images/scroll-1.png","hash":"87d22d5e97c1f6781584380c2788ab91da10d15e","modified":1479778809799},{"_id":"source/images/webstorm-md-css-1.png","hash":"044e4bf7e5da470a8fc99ada0ccc72d9c1ee3ff6","modified":1482478268950},{"_id":"source/images/webstorm-save-file.png","hash":"9ae1b64c854c0c1f74904a3469cee6762e94c95a","modified":1481197221984},{"_id":"source/tags/index.md","hash":"2ede22c2cc39d67cccec20385bd24c70460db51f","modified":1483426815127},{"_id":"themes/strict/layout/archive.jade","hash":"710eab8c8bbe8d19f17f58f026522b462c5fad1f","modified":1484191684555},{"_id":"themes/strict/layout/category.jade","hash":"d1ed33f34d91e465394b82c7ce4f89dc596ce7ba","modified":1479778809830},{"_id":"themes/strict/layout/index.jade","hash":"7bcb23bc9fc56c7aadb18836b5f0c958d06c04f6","modified":1483413188000},{"_id":"themes/strict/layout/page.jade","hash":"a4b4c5504cd48f585f1961875827546cc73aa382","modified":1479778809845},{"_id":"themes/strict/layout/post.jade","hash":"2858d13c64f6b80122264c7a8a24236fecbe5b84","modified":1479778809845},{"_id":"themes/strict/layout/tag.jade","hash":"fdc46250473ed96748a80dc56c62f4160ee6824c","modified":1483426871198},{"_id":"source/images/dva-flow.png","hash":"d5e074d43e0d1256c35d6a1ab3d4dc5a14255c90","modified":1485135763000},{"_id":"source/images/react-redux-flow.png","hash":"4f37a9cb102e2a6ac121d4e7cdb20caf278b576b","modified":1485140523341},{"_id":"themes/strict/layout/_views/foot.jade","hash":"59ef56b66f4dc3e0e2b748106bb94673194b1a5b","modified":1485054156000},{"_id":"themes/strict/layout/_views/head.jade","hash":"b131dd9fdfdd0e4d7d0d152a739b2b3b69f2e578","modified":1485250803570},{"_id":"themes/strict/layout/_views/index.jade","hash":"578a41b66f55ea251126d8649b1c582a6879e0b4","modified":1484901901277},{"_id":"themes/strict/layout/_views/main.jade","hash":"c66b103b0d2db80ef9cd52c933491bbc3144f5be","modified":1485053258609},{"_id":"themes/strict/layout/_views/menu.jade","hash":"77a33ac339763dda1334edfca8ca6ec1ae7a5589","modified":1479778809830},{"_id":"themes/strict/layout/_views/nav.jade","hash":"12e44f11add7900c41b165b64acb1fc04e6209aa","modified":1479778809830},{"_id":"themes/strict/layout/_views/post.jade","hash":"54c5623190f081e5ebfff7e4359e99b80d4fd027","modified":1484191713663},{"_id":"themes/strict/source/css/_main-r.styl","hash":"af2b0990b4a0dc258107bdaecc2083a03bad2971","modified":1483414804434},{"_id":"themes/strict/source/css/_var.styl","hash":"d54daba76b4885fca0d5415544032643fa934e54","modified":1484190624603},{"_id":"themes/strict/source/css/main.styl","hash":"5d9337a2999423c0c52d27ec4ef1b6831f1aef0b","modified":1479778809861},{"_id":"themes/strict/source/fonts/icon.eot","hash":"9097fa8611053f4c2e5f35cd2a64efc40bd8b685","modified":1479778809877},{"_id":"themes/strict/source/fonts/icon.svg","hash":"bd5e9e4f5343c9d49ede3145417c87155334881e","modified":1479778809892},{"_id":"themes/strict/source/fonts/icon.ttf","hash":"9a18ee1b1f245f6cc2c61fd1ebe58266b6c451ba","modified":1479778809892},{"_id":"themes/strict/source/fonts/icon.woff","hash":"7d15057502dd0086931b763ebc62458c8669b4ed","modified":1479778809892},{"_id":"themes/strict/source/js/jquery-modal.js","hash":"9e79a4c60981983df85b66f4d75f5f7a876d07df","modified":1485250727000},{"_id":"themes/strict/source/js/main.js","hash":"72b4f15ab33cf1ebcf936bd4b5cba1484746a35d","modified":1485250607699},{"_id":"themes/strict/source/img/bg-mikasa-white.jpeg","hash":"4377f94924ad6e73b6d5db6fb10be28b1e9e58a9","modified":1479778809892},{"_id":"themes/strict/source/js/jquery-3.1.1.min.js","hash":"f647a6d37dc4ca055ced3cf64bbc1f490070acba","modified":1485053434981},{"_id":"source/images/aise-normal.png","hash":"24e114a88b0da9d2a99ea6cae9159fad3df26b7b","modified":1479778809799},{"_id":"themes/strict/source/css/base/_base.styl","hash":"2cc9c5734c248faf5d2ceae8e66292533f25eeec","modified":1479778809861},{"_id":"themes/strict/source/css/base/_font.styl","hash":"7c16dcc09c5897d2433476fd8077e1c1117a26ae","modified":1479778809861},{"_id":"themes/strict/source/css/base/_mixin.styl","hash":"a30fbdd99e796ba2015e561a650dd031b25a9aed","modified":1479778809861},{"_id":"themes/strict/source/css/base/_reset.styl","hash":"ac35c98496a68343d295e6f9178cc783c00cc0ed","modified":1479778809861},{"_id":"themes/strict/source/css/base/_util.styl","hash":"e01fda8bf22966b39dab3c978155780c9899a571","modified":1479778809861},{"_id":"themes/strict/source/css/partial/_main.styl","hash":"5ba37e30ffe69ef5f8415125c08e5eddb190b49a","modified":1485055547639},{"_id":"themes/strict/source/css/partial/_post.styl","hash":"b4ccc4a77a42244f5a4e152bb793b118765c3069","modified":1485239047319},{"_id":"themes/strict/source/css/vendor/_echo.styl","hash":"712ffb3b33bb877162617a209be2e8916cb34a52","modified":1484895333133},{"_id":"themes/strict/source/css/vendor/_highlight.styl","hash":"fff40eea5f1b06de2f211b2a27e0de541ac1de07","modified":1485052261000},{"_id":"themes/strict/source/css/vendor/_normalize.styl","hash":"942fe069cfb511f7168da1a4c50b1d88b85b8e74","modified":1479778809877},{"_id":"themes/strict/source/img/bg-1.png","hash":"2fdd542b206736c4c75242bb45aab995c9cff6b4","modified":1479778809892},{"_id":"source/images/aise-broken.png","hash":"d7ef6c1cdf8aee201a4a5c3b16626766fff3cf7c","modified":1479778809799}],"Category":[{"name":"JavaScript","_id":"ciybc0bos00068gny2oyrnxbs"},{"name":"GIT","_id":"ciybc0bp8000c8gny2tbjbcbn"},{"name":"Backbone","_id":"ciybc0bq0000t8gnyvzlws774"},{"name":"戦艦の女の子","_id":"ciybc0bq8000y8gnymgvbqwrk"},{"name":"WebStorm","_id":"ciybc0bqe00138gnynt2v9yo5"},{"name":"CSS","_id":"ciybc0bqh00198gnyp3tn6bw4"},{"name":"React","_id":"ciybc0bqj001h8gny5b6p8cco"},{"name":"SASS","_id":"ciybc0bqr001q8gny3y9kkqqd"},{"name":"form","_id":"ciybc0bqu001v8gnyrmuufd59"},{"name":"文学","_id":"ciybc0bqw00228gnyx3k6xlkg"},{"name":"Window","_id":"ciybc0bqy00268gny82sccime"},{"name":"JavaScript","parent":"ciybc0bqj001h8gny5b6p8cco","_id":"ciybc0br3002e8gny3wsh3jwz"},{"name":"Linux","_id":"ciybc0br6002l8gny7fcykmdf"},{"name":"CSS Animation","_id":"ciybc0br9002q8gnyi0c3425x"},{"name":"MySQL","_id":"ciybc0brb002w8gnyvpljhre6"},{"name":"JavaScript","parent":"ciybc0bqu001v8gnyrmuufd59","_id":"ciybc0brl003b8gny097mold8"},{"name":"生活杂记","_id":"ciybc0brm003i8gnyiyh2catw"},{"name":"javascript","_id":"ciybc0brn003l8gnyvc6b2qnj"},{"name":"微信开发","_id":"ciybc0brq003r8gnyisfu9ybo"},{"name":"HTML","_id":"ciybc0brq003t8gnycioe4yjm"},{"name":"Javascript","_id":"ciybc0brq003w8gnyv9zsjc4h"},{"name":"CSS","parent":"ciybc0br9002q8gnyi0c3425x","_id":"ciybc0bru00468gnyfjor89ok"},{"name":"css","_id":"ciybc0brw004a8gnys9fvmpbp"},{"name":"SVN","_id":"ciybc0brx004d8gny1yqcj1wa"},{"name":"[object Object]","parent":"ciybc0brn003l8gnyvc6b2qnj","_id":"ciybc0bry004h8gnyjlpa4zmy"}],"Data":[],"Page":[{"_content":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homePageUrl=\"your site url \" homePageName=\"回到我的主页\"></script>\n\n</body>\n</html>","source":"404.html","raw":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homePageUrl=\"your site url \" homePageName=\"回到我的主页\"></script>\n\n</body>\n</html>","date":"2016-11-22T01:40:09.720Z","updated":"2016-11-22T01:40:09.720Z","path":"404.html","title":"","comments":1,"layout":"page","_id":"ciybc0bd100008gny33cqtemh","content":"<!DOCTYPE HTML><html><head><meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"><meta name=\"robots\" content=\"all\"><meta name=\"robots\" content=\"index,follow\"></head><body><script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homepageurl=\"your site url \" homepagename=\"回到我的主页\"></script></body></html>","excerpt":"","more":"<!DOCTYPE HTML><html><head><meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"><meta name=\"robots\" content=\"all\"><meta name=\"robots\" content=\"index,follow\"></head><body><script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homepageurl=\"your site url \" homepagename=\"回到我的主页\"></script></body></html>"},{"_content":"# I am Oliver~\n","source":"README.md","raw":"# I am Oliver~\n","date":"2016-11-22T01:40:09.720Z","updated":"2016-11-22T01:40:09.720Z","path":"README.html","title":"","comments":1,"layout":"page","_id":"ciybc0bda00018gnyyru3rt6c","content":"<h1 id=\"I-am-Oliver\"><a href=\"#I-am-Oliver\" class=\"headerlink\" title=\"I am Oliver~\"></a>I am Oliver~</h1>","excerpt":"","more":"<h1 id=\"I-am-Oliver\"><a href=\"#I-am-Oliver\" class=\"headerlink\" title=\"I am Oliver~\"></a>I am Oliver~</h1>"},{"title":"分类","date":"2015-11-07T09:35:00.000Z","type":"カタログ","_content":"","source":"categories/index.md","raw":"title: 分类\ndate: 2015-11-07 17:35:00\ntype: \"カタログ\"\n---","updated":"2016-11-22T01:40:09.782Z","path":"categories/index.html","comments":1,"layout":"page","_id":"ciybc0boo00038gny08y69nb1","content":"","excerpt":"","more":""},{"title":"about","date":"2015-11-07T09:39:49.000Z","_content":"","source":"about/index.md","raw":"title: about\ndate: 2015-11-07 17:39:49\n---\n","updated":"2016-11-22T01:40:09.782Z","path":"about/index.html","comments":1,"layout":"page","_id":"ciybc0bor00058gny0z509orb","content":"","excerpt":"","more":""},{"title":"テッガ","date":"2015-11-07T09:35:00.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"title: テッガ\ndate: 2015-11-07 17:35:00\ntype: \"tags\"\n---","updated":"2017-01-03T07:00:15.127Z","path":"tags/index.html","comments":1,"layout":"page","_id":"ciybc0box00098gnycwdm9rek","content":"","excerpt":"","more":""}],"Post":[{"title":"Canvas 方法小结","date":"2016-06-27T03:11:11.000Z","_content":"\n继上次 WebGL 魔方没有完成之后, 最近又想要写一个魔方, 同样的, 人生就需要一次说写就写的旅程。\n\n## 原理\n要用 Canvas 的 2d 做出 3d 的魔方,  \n\n## 坐标系转换 \n\n### 3D 转平面\n\n```js\n// ...\ngetPositionInTwoDimensionalSystem: function() {\n    // focalLength 表示当前焦距，一般可设为一个常量\n    var focalLength = 300;\n    // 把z方向扁平化\n    var scale = focalLength / (focalLength + this.z);\n    this.x2 = this.x * scale;\n    this.y2 = this.y * scale;\n},\n// ...\n\n\nto2Dx: function() {\n    var x = this.x,\n        y = this.y + f;\n    return VW * x / (VW + y);\n},\nto2Dy: function() {\n    var y = this.y + f,\n        z = this.z + h;\n    return -(VW * z + VH * y) / (VW + y);\n},\n\n```\n\n### ","source":"_drafts/canvas-in-action.md","raw":"title:  Canvas 方法小结\ntags:\n  - canvas\ncategories:\n  - JavaScript\ndate: 2016-06-27 11:11:11\n---\n\n继上次 WebGL 魔方没有完成之后, 最近又想要写一个魔方, 同样的, 人生就需要一次说写就写的旅程。\n\n## 原理\n要用 Canvas 的 2d 做出 3d 的魔方,  \n\n## 坐标系转换 \n\n### 3D 转平面\n\n```js\n// ...\ngetPositionInTwoDimensionalSystem: function() {\n    // focalLength 表示当前焦距，一般可设为一个常量\n    var focalLength = 300;\n    // 把z方向扁平化\n    var scale = focalLength / (focalLength + this.z);\n    this.x2 = this.x * scale;\n    this.y2 = this.y * scale;\n},\n// ...\n\n\nto2Dx: function() {\n    var x = this.x,\n        y = this.y + f;\n    return VW * x / (VW + y);\n},\nto2Dy: function() {\n    var y = this.y + f,\n        z = this.z + h;\n    return -(VW * z + VH * y) / (VW + y);\n},\n\n```\n\n### ","slug":"canvas-in-action","published":0,"updated":"2016-11-22T01:40:09.720Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bol00028gnywn791n7e","content":"<p>继上次 WebGL 魔方没有完成之后, 最近又想要写一个魔方, 同样的, 人生就需要一次说写就写的旅程。</p><h2 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h2><p>要用 Canvas 的 2d 做出 3d 的魔方,</p><h2 id=\"坐标系转换\"><a href=\"#坐标系转换\" class=\"headerlink\" title=\"坐标系转换\"></a>坐标系转换</h2><h3 id=\"3D-转平面\"><a href=\"#3D-转平面\" class=\"headerlink\" title=\"3D 转平面\"></a>3D 转平面</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ...</span></span>\n<span class=\"line\">getPositionInTwoDimensionalSystem: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"comment\">// focalLength 表示当前焦距，一般可设为一个常量</span></span>\n<span class=\"line\">    <span class=\"keyword\">var</span> focalLength = <span class=\"number\">300</span>;</span>\n<span class=\"line\">    <span class=\"comment\">// 把z方向扁平化</span></span>\n<span class=\"line\">    <span class=\"keyword\">var</span> scale = focalLength / (focalLength + <span class=\"keyword\">this</span>.z);</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.x2 = <span class=\"keyword\">this</span>.x * scale;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.y2 = <span class=\"keyword\">this</span>.y * scale;</span>\n<span class=\"line\">&#125;,</span>\n<span class=\"line\"><span class=\"comment\">// ...</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\">to2Dx: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">var</span> x = <span class=\"keyword\">this</span>.x,</span>\n<span class=\"line\">        y = <span class=\"keyword\">this</span>.y + f;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> VW * x / (VW + y);</span>\n<span class=\"line\">&#125;,</span>\n<span class=\"line\"><span class=\"attr\">to2Dy</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">var</span> y = <span class=\"keyword\">this</span>.y + f,</span>\n<span class=\"line\">        z = <span class=\"keyword\">this</span>.z + h;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> -(VW * z + VH * y) / (VW + y);</span>\n<span class=\"line\">&#125;,</span>\n</pre></td></tr></table></figure><p>###</p>","excerpt":"","more":"<p>继上次 WebGL 魔方没有完成之后, 最近又想要写一个魔方, 同样的, 人生就需要一次说写就写的旅程。</p><h2 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h2><p>要用 Canvas 的 2d 做出 3d 的魔方,</p><h2 id=\"坐标系转换\"><a href=\"#坐标系转换\" class=\"headerlink\" title=\"坐标系转换\"></a>坐标系转换</h2><h3 id=\"3D-转平面\"><a href=\"#3D-转平面\" class=\"headerlink\" title=\"3D 转平面\"></a>3D 转平面</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ...</span></span>\n<span class=\"line\">getPositionInTwoDimensionalSystem: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"comment\">// focalLength 表示当前焦距，一般可设为一个常量</span></span>\n<span class=\"line\">    <span class=\"keyword\">var</span> focalLength = <span class=\"number\">300</span>;</span>\n<span class=\"line\">    <span class=\"comment\">// 把z方向扁平化</span></span>\n<span class=\"line\">    <span class=\"keyword\">var</span> scale = focalLength / (focalLength + <span class=\"keyword\">this</span>.z);</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.x2 = <span class=\"keyword\">this</span>.x * scale;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.y2 = <span class=\"keyword\">this</span>.y * scale;</span>\n<span class=\"line\">&#125;,</span>\n<span class=\"line\"><span class=\"comment\">// ...</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\">to2Dx: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">var</span> x = <span class=\"keyword\">this</span>.x,</span>\n<span class=\"line\">        y = <span class=\"keyword\">this</span>.y + f;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> VW * x / (VW + y);</span>\n<span class=\"line\">&#125;,</span>\n<span class=\"line\"><span class=\"attr\">to2Dy</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">var</span> y = <span class=\"keyword\">this</span>.y + f,</span>\n<span class=\"line\">        z = <span class=\"keyword\">this</span>.z + h;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> -(VW * z + VH * y) / (VW + y);</span>\n<span class=\"line\">&#125;,</span>\n</pre></td></tr></table></figure><p>###</p>"},{"title":"tmp-in-weaver-approve-tdwalll-user","draft":"true","date":"2016-11-22T02:44:30.000Z","_content":"\n```sql\nField          Type           Null    Key     Default  Comment                      \n-------------  -------------  ------  ------  -------  ---------------------------\nid             varchar(32)    NO      PRI     (NULL)                                          \ntdwallid       varchar(32)    YES             (NULL)   签到墙ID   \n\nfileid         varchar(32)    YES             (NULL)   签到上传的图片        \nremark         varchar(2000)  YES             (NULL)   签到发送的文字        \nifapprove      tinyint(4)     YES             (NULL)   是否审核通过 0否1是  \nnickname       varchar(200)   YES             (NULL)   用户昵称                 \nuserimg        varchar(1000)  YES             (NULL)   用户头像                 \n```\n\n```\n/eb/tdwall/data/list/:tdwallid? pageNo pageSize\n\n/eb/tdwall/data/list/updateApprove/:dataid?ifapprove=0 or 1\n```","source":"_drafts/tmp-in-weaver-approve-tdwalll-user.md","raw":"title: tmp-in-weaver-approve-tdwalll-user\ntags:\n  - null\ncategories:\n  - null\ndraft: 'true'\ndate: 2016-11-22 10:44:30\n---\n\n```sql\nField          Type           Null    Key     Default  Comment                      \n-------------  -------------  ------  ------  -------  ---------------------------\nid             varchar(32)    NO      PRI     (NULL)                                          \ntdwallid       varchar(32)    YES             (NULL)   签到墙ID   \n\nfileid         varchar(32)    YES             (NULL)   签到上传的图片        \nremark         varchar(2000)  YES             (NULL)   签到发送的文字        \nifapprove      tinyint(4)     YES             (NULL)   是否审核通过 0否1是  \nnickname       varchar(200)   YES             (NULL)   用户昵称                 \nuserimg        varchar(1000)  YES             (NULL)   用户头像                 \n```\n\n```\n/eb/tdwall/data/list/:tdwallid? pageNo pageSize\n\n/eb/tdwall/data/list/updateApprove/:dataid?ifapprove=0 or 1\n```","slug":"tmp-in-weaver-approve-tdwalll-user","published":0,"updated":"2016-12-23T09:15:36.699Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bop00048gnycz3zhy7i","content":"<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">Field          Type           Null    Key     Default  <span class=\"keyword\">Comment</span>                      </span>\n<span class=\"line\"><span class=\"comment\">-------------  -------------  ------  ------  -------  ---------------------------</span></span>\n<span class=\"line\"><span class=\"keyword\">id</span>             <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"keyword\">NO</span>      PRI     (<span class=\"literal\">NULL</span>)                                          </span>\n<span class=\"line\">tdwallid       <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    YES             (<span class=\"literal\">NULL</span>)   签到墙<span class=\"keyword\">ID</span>   </span>\n<span class=\"line\"></span>\n<span class=\"line\">fileid         <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    YES             (<span class=\"literal\">NULL</span>)   签到上传的图片        </span>\n<span class=\"line\">remark         <span class=\"built_in\">varchar</span>(<span class=\"number\">2000</span>)  YES             (<span class=\"literal\">NULL</span>)   签到发送的文字        </span>\n<span class=\"line\">ifapprove      tinyint(<span class=\"number\">4</span>)     YES             (<span class=\"literal\">NULL</span>)   是否审核通过 <span class=\"number\">0</span>否<span class=\"number\">1</span>是  </span>\n<span class=\"line\">nickname       <span class=\"built_in\">varchar</span>(<span class=\"number\">200</span>)   YES             (<span class=\"literal\">NULL</span>)   用户昵称                 </span>\n<span class=\"line\">userimg        <span class=\"built_in\">varchar</span>(<span class=\"number\">1000</span>)  YES             (<span class=\"literal\">NULL</span>)   用户头像</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/tdwall/data/list/:tdwallid? pageNo pageSize</span>\n<span class=\"line\"></span>\n<span class=\"line\">/eb/tdwall/data/list/updateApprove/:dataid?ifapprove=0 or 1</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">Field          Type           Null    Key     Default  <span class=\"keyword\">Comment</span>                      </span>\n<span class=\"line\"><span class=\"comment\">-------------  -------------  ------  ------  -------  ---------------------------</span></span>\n<span class=\"line\"><span class=\"keyword\">id</span>             <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"keyword\">NO</span>      PRI     (<span class=\"literal\">NULL</span>)                                          </span>\n<span class=\"line\">tdwallid       <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    YES             (<span class=\"literal\">NULL</span>)   签到墙<span class=\"keyword\">ID</span>   </span>\n<span class=\"line\"></span>\n<span class=\"line\">fileid         <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    YES             (<span class=\"literal\">NULL</span>)   签到上传的图片        </span>\n<span class=\"line\">remark         <span class=\"built_in\">varchar</span>(<span class=\"number\">2000</span>)  YES             (<span class=\"literal\">NULL</span>)   签到发送的文字        </span>\n<span class=\"line\">ifapprove      tinyint(<span class=\"number\">4</span>)     YES             (<span class=\"literal\">NULL</span>)   是否审核通过 <span class=\"number\">0</span>否<span class=\"number\">1</span>是  </span>\n<span class=\"line\">nickname       <span class=\"built_in\">varchar</span>(<span class=\"number\">200</span>)   YES             (<span class=\"literal\">NULL</span>)   用户昵称                 </span>\n<span class=\"line\">userimg        <span class=\"built_in\">varchar</span>(<span class=\"number\">1000</span>)  YES             (<span class=\"literal\">NULL</span>)   用户头像</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/tdwall/data/list/:tdwallid? pageNo pageSize</span>\n<span class=\"line\"></span>\n<span class=\"line\">/eb/tdwall/data/list/updateApprove/:dataid?ifapprove=0 or 1</span>\n</pre></td></tr></table></figure>"},{"title":"git in action","_content":"\n# git 的工作流\n\n```sh\ngit-flow feature start cs_send_message_to_doctor\n```\n\n# branch\n\n# stash\n* git stash: 备份当前的工作区的内容，从最近的一次提交中读取相关内容，让工作区保证和上次提交的内容一致。同时，将当前的工作区内容保存到Git栈中。\n* git stash pop: 从Git栈中读取最近一次保存的内容，恢复工作区的相关内容。由于可能存在多个Stash的内容，所以用栈来管理，pop会从最近的一个stash中读取内容并恢复。\n* git stash list: 显示Git栈内的所有备份，可以利用这个列表来决定从那个地方恢复。\n* git stash clear: 清空Git栈。\n* git stash apply stash@{n}: 恢复到第 n 个\n\n### git stash apply 的例子\n```shell\n$ git stash list\nstash@{0}: WIP on master: e95dc37 Require administrator authority...\nstash@{1}: WIP on md_develop: fcaa18f Add an object to recieve md...\n\n$ git stash apply stash@{1}\n```\n\n> 而且，pop 出来的内容只是你上次 stash 时候的内容，在这之间，如果对stash的文件做了修改，`stash pop` 之后就没了。  \n\n> 所以在 `stash pop` 之前尽量`commit`一下，然后用 `cherry-pick` 来通过增量的方法将修复的内容合并到新版本上，如果有冲突需要手动解决。\n\n# fetch 和 pull 的区别\n\n# cherry-pick\n\n# revert 和 reset\n- git revert 是撤销某次操作，此次操作之前的commit都会被保留\n- git reset 是撤销某次提交，但是此次之后的修改都会被退回到暂存区\n","source":"_drafts/git-in-action.md","raw":"title: git in action\ntags:\n  - git\ncategories:\n  - GIT\n---\n\n# git 的工作流\n\n```sh\ngit-flow feature start cs_send_message_to_doctor\n```\n\n# branch\n\n# stash\n* git stash: 备份当前的工作区的内容，从最近的一次提交中读取相关内容，让工作区保证和上次提交的内容一致。同时，将当前的工作区内容保存到Git栈中。\n* git stash pop: 从Git栈中读取最近一次保存的内容，恢复工作区的相关内容。由于可能存在多个Stash的内容，所以用栈来管理，pop会从最近的一个stash中读取内容并恢复。\n* git stash list: 显示Git栈内的所有备份，可以利用这个列表来决定从那个地方恢复。\n* git stash clear: 清空Git栈。\n* git stash apply stash@{n}: 恢复到第 n 个\n\n### git stash apply 的例子\n```shell\n$ git stash list\nstash@{0}: WIP on master: e95dc37 Require administrator authority...\nstash@{1}: WIP on md_develop: fcaa18f Add an object to recieve md...\n\n$ git stash apply stash@{1}\n```\n\n> 而且，pop 出来的内容只是你上次 stash 时候的内容，在这之间，如果对stash的文件做了修改，`stash pop` 之后就没了。  \n\n> 所以在 `stash pop` 之前尽量`commit`一下，然后用 `cherry-pick` 来通过增量的方法将修复的内容合并到新版本上，如果有冲突需要手动解决。\n\n# fetch 和 pull 的区别\n\n# cherry-pick\n\n# revert 和 reset\n- git revert 是撤销某次操作，此次操作之前的commit都会被保留\n- git reset 是撤销某次提交，但是此次之后的修改都会被退回到暂存区\n","slug":"git-in-action","published":0,"date":"2016-11-22T01:40:09.720Z","updated":"2016-11-22T01:40:09.720Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bou00088gnyvx0ypf5b","content":"<h1 id=\"git-的工作流\"><a href=\"#git-的工作流\" class=\"headerlink\" title=\"git 的工作流\"></a>git 的工作流</h1><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">git-flow feature start cs_send_message_to_doctor</span>\n</pre></td></tr></table></figure><h1 id=\"branch\"><a href=\"#branch\" class=\"headerlink\" title=\"branch\"></a>branch</h1><h1 id=\"stash\"><a href=\"#stash\" class=\"headerlink\" title=\"stash\"></a>stash</h1><ul><li>git stash: 备份当前的工作区的内容，从最近的一次提交中读取相关内容，让工作区保证和上次提交的内容一致。同时，将当前的工作区内容保存到Git栈中。</li><li>git stash pop: 从Git栈中读取最近一次保存的内容，恢复工作区的相关内容。由于可能存在多个Stash的内容，所以用栈来管理，pop会从最近的一个stash中读取内容并恢复。</li><li>git stash list: 显示Git栈内的所有备份，可以利用这个列表来决定从那个地方恢复。</li><li>git stash clear: 清空Git栈。</li><li>git stash apply stash@{n}: 恢复到第 n 个</li></ul><h3 id=\"git-stash-apply-的例子\"><a href=\"#git-stash-apply-的例子\" class=\"headerlink\" title=\"git stash apply 的例子\"></a>git stash apply 的例子</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$ git stash list</span>\n<span class=\"line\">stash@&#123;0&#125;: WIP on master: e95dc37 Require administrator authority...</span>\n<span class=\"line\">stash@&#123;1&#125;: WIP on md_develop: fcaa18f Add an object to recieve md...</span>\n<span class=\"line\"></span>\n<span class=\"line\">$ git stash apply stash@&#123;1&#125;</span>\n</pre></td></tr></table></figure><blockquote><p>而且，pop 出来的内容只是你上次 stash 时候的内容，在这之间，如果对stash的文件做了修改，<code>stash pop</code> 之后就没了。</p><p>所以在 <code>stash pop</code> 之前尽量<code>commit</code>一下，然后用 <code>cherry-pick</code> 来通过增量的方法将修复的内容合并到新版本上，如果有冲突需要手动解决。</p></blockquote><h1 id=\"fetch-和-pull-的区别\"><a href=\"#fetch-和-pull-的区别\" class=\"headerlink\" title=\"fetch 和 pull 的区别\"></a>fetch 和 pull 的区别</h1><h1 id=\"cherry-pick\"><a href=\"#cherry-pick\" class=\"headerlink\" title=\"cherry-pick\"></a>cherry-pick</h1><h1 id=\"revert-和-reset\"><a href=\"#revert-和-reset\" class=\"headerlink\" title=\"revert 和 reset\"></a>revert 和 reset</h1><ul><li>git revert 是撤销某次操作，此次操作之前的commit都会被保留</li><li>git reset 是撤销某次提交，但是此次之后的修改都会被退回到暂存区</li></ul>","excerpt":"","more":"<h1 id=\"git-的工作流\"><a href=\"#git-的工作流\" class=\"headerlink\" title=\"git 的工作流\"></a>git 的工作流</h1><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">git-flow feature start cs_send_message_to_doctor</span>\n</pre></td></tr></table></figure><h1 id=\"branch\"><a href=\"#branch\" class=\"headerlink\" title=\"branch\"></a>branch</h1><h1 id=\"stash\"><a href=\"#stash\" class=\"headerlink\" title=\"stash\"></a>stash</h1><ul><li>git stash: 备份当前的工作区的内容，从最近的一次提交中读取相关内容，让工作区保证和上次提交的内容一致。同时，将当前的工作区内容保存到Git栈中。</li><li>git stash pop: 从Git栈中读取最近一次保存的内容，恢复工作区的相关内容。由于可能存在多个Stash的内容，所以用栈来管理，pop会从最近的一个stash中读取内容并恢复。</li><li>git stash list: 显示Git栈内的所有备份，可以利用这个列表来决定从那个地方恢复。</li><li>git stash clear: 清空Git栈。</li><li>git stash apply stash@{n}: 恢复到第 n 个</li></ul><h3 id=\"git-stash-apply-的例子\"><a href=\"#git-stash-apply-的例子\" class=\"headerlink\" title=\"git stash apply 的例子\"></a>git stash apply 的例子</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$ git stash list</span>\n<span class=\"line\">stash@&#123;0&#125;: WIP on master: e95dc37 Require administrator authority...</span>\n<span class=\"line\">stash@&#123;1&#125;: WIP on md_develop: fcaa18f Add an object to recieve md...</span>\n<span class=\"line\"></span>\n<span class=\"line\">$ git stash apply stash@&#123;1&#125;</span>\n</pre></td></tr></table></figure><blockquote><p>而且，pop 出来的内容只是你上次 stash 时候的内容，在这之间，如果对stash的文件做了修改，<code>stash pop</code> 之后就没了。</p><p>所以在 <code>stash pop</code> 之前尽量<code>commit</code>一下，然后用 <code>cherry-pick</code> 来通过增量的方法将修复的内容合并到新版本上，如果有冲突需要手动解决。</p></blockquote><h1 id=\"fetch-和-pull-的区别\"><a href=\"#fetch-和-pull-的区别\" class=\"headerlink\" title=\"fetch 和 pull 的区别\"></a>fetch 和 pull 的区别</h1><h1 id=\"cherry-pick\"><a href=\"#cherry-pick\" class=\"headerlink\" title=\"cherry-pick\"></a>cherry-pick</h1><h1 id=\"revert-和-reset\"><a href=\"#revert-和-reset\" class=\"headerlink\" title=\"revert 和 reset\"></a>revert 和 reset</h1><ul><li>git revert 是撤销某次操作，此次操作之前的commit都会被保留</li><li>git reset 是撤销某次提交，但是此次之后的修改都会被退回到暂存区</li></ul>"},{"title":"tmp-in-weaver-docs","_content":"\n\n","source":"_drafts/tmp-in-weaver-docs.md","raw":"title: tmp-in-weaver-docs\ntags:\n  - null\ncategories:\n  - null\n---\n\n\n","slug":"tmp-in-weaver-docs","published":0,"date":"2017-01-05T06:52:49.636Z","updated":"2017-01-05T06:52:55.924Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bp6000a8gnymazw35n8","content":"","excerpt":"","more":""},{"title":"tmp in weaver - location-base","draft":"true","date":"2016-11-22T02:44:30.000Z","_content":"# 导航设置\n## 表结构\n```sql\nCREATE TABLE `eb_location_base` (\n  `id` varchar(32) NOT NULL,\n  `name` text COMMENT '位置名称',\n  `desc` text COMMENT '位置描述',\n  `descaddr` text COMMENT '详细地址',\n  `lng` varchar(200) DEFAULT NULL COMMENT '经度',\n  `lat` varchar(200) DEFAULT NULL COMMENT '纬度',\n  `createtime` datetime DEFAULT NULL COMMENT '创建时间',\n  `updatetime` datetime DEFAULT NULL COMMENT '最后更新时间',\n  `userid` varchar(32) DEFAULT NULL COMMENT '创建人ID',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n```\n\n## API\n```shell\n/ebridge/location/saveOrUpdate 保存或者更新\n/ebridge/location/delete 删除\n/ebridge/location/getElbById 根据ID获取单个数据\n/ebridge/location/getElbList 获取列表的\n```\n\n```\n标题：单行文本\n描述：单行文本\n详细地址：\n定位点选择：（从百度地图选择经纬度坐标）\n\nhttp://developer.baidu.com/map/jsdemo.htm#i1_1\n```\n\n\n```js\n\t// 百度地图API功能\n\tvar map = new BMap.Map(\"allmap\");          \n\tmap.centerAndZoom('上海', 11);\n  map.addEventListener(\"click\", function(e){\n\t\talert(e.point.lng + \",\" + e.point.lat);\n\t});\n\n\tvar local = new BMap.LocalSearch(map, {\n\t\trenderOptions:{map: map}\n\t});\n\n\tlocal.search(\"开元名都大酒店\");\n```\n\n\n```js\n// 百度地图API功能\n\tvar map = new BMap.Map(\"allmap\");\n\tmap.centerAndZoom(new BMap.Point(116.404, 39.915), 11);\n\n\tvar top_left_control = new BMap.ScaleControl({anchor: BMAP_ANCHOR_TOP_LEFT});// 左上角，添加比例尺\n\tvar top_left_navigation = new BMap.NavigationControl();  //左上角，添加默认缩放平移控件\n\tvar top_right_navigation = new BMap.NavigationControl({anchor: BMAP_ANCHOR_TOP_RIGHT, type: BMAP_NAVIGATION_CONTROL_SMALL}); //右上角，仅包含平移和缩放按钮\n\t/*\n  缩放控件type有四种类型:\n\tBMAP_NAVIGATION_CONTROL_SMALL：仅包含平移和缩放按钮；\n  BMAP_NAVIGATION_CONTROL_PAN:仅包含平移按钮；\n  BMAP_NAVIGATION_CONTROL_ZOOM：仅包含缩放按钮\n  */\n\t\n\t//添加控件和比例尺\n\tfunction add_control(){\n\t\tmap.addControl(top_left_control);        \n\t\tmap.addControl(top_left_navigation);     \n\t\tmap.addControl(top_right_navigation);    \n\t}\n\t//移除控件和比例尺\n\tfunction delete_control(){\n\t\tmap.removeControl(top_left_control);     \n\t\tmap.removeControl(top_left_navigation);  \n\t\tmap.removeControl(top_right_navigation); \n\t}\n```\n\n\n```js\nvar map = new BMap.Map(\"container\");\nmap.centerAndZoom(new BMap.Point(121.461165, 31.234095), 11);\n\nfunction search () {\n  var myAddress = document.getElementById('searchValue').value;\n\n  var myGeo = new BMap.Geocoder();\n  myGeo.getPoint(myAddress, function(point) { //我输入的是“知春路”，第一步getPoint是地址解析。\n    if (point) {\n      map.centerAndZoom(point, 16);\n      map.addOverlay(new BMap.Marker(point));\n\n      myGeo.getLocation(point, function(rs) { //这里弹出“知春路”的详细地址信息，第二步getLocation是反地址解析。\n        var addComp = rs.addressComponents;\n        console.log(addComp);\n      });\n    }\n  }, \"上海市\"); //必须设置城市\n}\n```\n\n# 议程设置\n## 表结构\n## API\n\n# 议程查看\n## 表结构\n## API","source":"_drafts/tmp-in-weaver-location-base.md","raw":"title: tmp in weaver - location-base\ntags:\n  - null\ncategories:\n  - null\ndraft: 'true'\ndate: 2016-11-22 10:44:30\n---\n# 导航设置\n## 表结构\n```sql\nCREATE TABLE `eb_location_base` (\n  `id` varchar(32) NOT NULL,\n  `name` text COMMENT '位置名称',\n  `desc` text COMMENT '位置描述',\n  `descaddr` text COMMENT '详细地址',\n  `lng` varchar(200) DEFAULT NULL COMMENT '经度',\n  `lat` varchar(200) DEFAULT NULL COMMENT '纬度',\n  `createtime` datetime DEFAULT NULL COMMENT '创建时间',\n  `updatetime` datetime DEFAULT NULL COMMENT '最后更新时间',\n  `userid` varchar(32) DEFAULT NULL COMMENT '创建人ID',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n```\n\n## API\n```shell\n/ebridge/location/saveOrUpdate 保存或者更新\n/ebridge/location/delete 删除\n/ebridge/location/getElbById 根据ID获取单个数据\n/ebridge/location/getElbList 获取列表的\n```\n\n```\n标题：单行文本\n描述：单行文本\n详细地址：\n定位点选择：（从百度地图选择经纬度坐标）\n\nhttp://developer.baidu.com/map/jsdemo.htm#i1_1\n```\n\n\n```js\n\t// 百度地图API功能\n\tvar map = new BMap.Map(\"allmap\");          \n\tmap.centerAndZoom('上海', 11);\n  map.addEventListener(\"click\", function(e){\n\t\talert(e.point.lng + \",\" + e.point.lat);\n\t});\n\n\tvar local = new BMap.LocalSearch(map, {\n\t\trenderOptions:{map: map}\n\t});\n\n\tlocal.search(\"开元名都大酒店\");\n```\n\n\n```js\n// 百度地图API功能\n\tvar map = new BMap.Map(\"allmap\");\n\tmap.centerAndZoom(new BMap.Point(116.404, 39.915), 11);\n\n\tvar top_left_control = new BMap.ScaleControl({anchor: BMAP_ANCHOR_TOP_LEFT});// 左上角，添加比例尺\n\tvar top_left_navigation = new BMap.NavigationControl();  //左上角，添加默认缩放平移控件\n\tvar top_right_navigation = new BMap.NavigationControl({anchor: BMAP_ANCHOR_TOP_RIGHT, type: BMAP_NAVIGATION_CONTROL_SMALL}); //右上角，仅包含平移和缩放按钮\n\t/*\n  缩放控件type有四种类型:\n\tBMAP_NAVIGATION_CONTROL_SMALL：仅包含平移和缩放按钮；\n  BMAP_NAVIGATION_CONTROL_PAN:仅包含平移按钮；\n  BMAP_NAVIGATION_CONTROL_ZOOM：仅包含缩放按钮\n  */\n\t\n\t//添加控件和比例尺\n\tfunction add_control(){\n\t\tmap.addControl(top_left_control);        \n\t\tmap.addControl(top_left_navigation);     \n\t\tmap.addControl(top_right_navigation);    \n\t}\n\t//移除控件和比例尺\n\tfunction delete_control(){\n\t\tmap.removeControl(top_left_control);     \n\t\tmap.removeControl(top_left_navigation);  \n\t\tmap.removeControl(top_right_navigation); \n\t}\n```\n\n\n```js\nvar map = new BMap.Map(\"container\");\nmap.centerAndZoom(new BMap.Point(121.461165, 31.234095), 11);\n\nfunction search () {\n  var myAddress = document.getElementById('searchValue').value;\n\n  var myGeo = new BMap.Geocoder();\n  myGeo.getPoint(myAddress, function(point) { //我输入的是“知春路”，第一步getPoint是地址解析。\n    if (point) {\n      map.centerAndZoom(point, 16);\n      map.addOverlay(new BMap.Marker(point));\n\n      myGeo.getLocation(point, function(rs) { //这里弹出“知春路”的详细地址信息，第二步getLocation是反地址解析。\n        var addComp = rs.addressComponents;\n        console.log(addComp);\n      });\n    }\n  }, \"上海市\"); //必须设置城市\n}\n```\n\n# 议程设置\n## 表结构\n## API\n\n# 议程查看\n## 表结构\n## API","slug":"tmp-in-weaver-location-base","published":0,"updated":"2016-12-15T05:32:54.325Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bp8000b8gnyt56xbocq","content":"<h1 id=\"导航设置\"><a href=\"#导航设置\" class=\"headerlink\" title=\"导航设置\"></a>导航设置</h1><h2 id=\"表结构\"><a href=\"#表结构\" class=\"headerlink\" title=\"表结构\"></a>表结构</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`eb_location_base`</span> (</span>\n<span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`name`</span> <span class=\"built_in\">text</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'位置名称'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`desc`</span> <span class=\"built_in\">text</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'位置描述'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`descaddr`</span> <span class=\"built_in\">text</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'详细地址'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`lng`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">200</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'经度'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`lat`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">200</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'纬度'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`createtime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`updatetime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'最后更新时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`userid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建人ID'</span>,</span>\n<span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`id`</span>)</span>\n<span class=\"line\">) <span class=\"keyword\">ENGINE</span>=<span class=\"keyword\">InnoDB</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8</span>\n</pre></td></tr></table></figure><h2 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/ebridge/location/saveOrUpdate 保存或者更新</span>\n<span class=\"line\">/ebridge/location/delete 删除</span>\n<span class=\"line\">/ebridge/location/getElbById 根据ID获取单个数据</span>\n<span class=\"line\">/ebridge/location/getElbList 获取列表的</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">标题：单行文本</span>\n<span class=\"line\">描述：单行文本</span>\n<span class=\"line\">详细地址：</span>\n<span class=\"line\">定位点选择：（从百度地图选择经纬度坐标）</span>\n<span class=\"line\"></span>\n<span class=\"line\">http://developer.baidu.com/map/jsdemo.htm#i1_1</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 百度地图API功能</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> map = <span class=\"keyword\">new</span> BMap.Map(<span class=\"string\">\"allmap\"</span>);          </span>\n<span class=\"line\">map.centerAndZoom(<span class=\"string\">'上海'</span>, <span class=\"number\">11</span>);</span>\n<span class=\"line\"> map.addEventListener(<span class=\"string\">\"click\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span>\n<span class=\"line\">truealert(e.point.lng + <span class=\"string\">\",\"</span> + e.point.lat);</span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">var</span> local = <span class=\"keyword\">new</span> BMap.LocalSearch(map, &#123;</span>\n<span class=\"line\">true<span class=\"attr\">renderOptions</span>:&#123;<span class=\"attr\">map</span>: map&#125;</span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">local.search(<span class=\"string\">\"开元名都大酒店\"</span>);</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 百度地图API功能</span></span>\n<span class=\"line\">true<span class=\"keyword\">var</span> map = <span class=\"keyword\">new</span> BMap.Map(<span class=\"string\">\"allmap\"</span>);</span>\n<span class=\"line\">truemap.centerAndZoom(<span class=\"keyword\">new</span> BMap.Point(<span class=\"number\">116.404</span>, <span class=\"number\">39.915</span>), <span class=\"number\">11</span>);</span>\n<span class=\"line\"></span>\n<span class=\"line\">true<span class=\"keyword\">var</span> top_left_control = <span class=\"keyword\">new</span> BMap.ScaleControl(&#123;<span class=\"attr\">anchor</span>: BMAP_ANCHOR_TOP_LEFT&#125;);<span class=\"comment\">// 左上角，添加比例尺</span></span>\n<span class=\"line\">true<span class=\"keyword\">var</span> top_left_navigation = <span class=\"keyword\">new</span> BMap.NavigationControl();  <span class=\"comment\">//左上角，添加默认缩放平移控件</span></span>\n<span class=\"line\">true<span class=\"keyword\">var</span> top_right_navigation = <span class=\"keyword\">new</span> BMap.NavigationControl(&#123;<span class=\"attr\">anchor</span>: BMAP_ANCHOR_TOP_RIGHT, <span class=\"attr\">type</span>: BMAP_NAVIGATION_CONTROL_SMALL&#125;); <span class=\"comment\">//右上角，仅包含平移和缩放按钮</span></span>\n<span class=\"line\">true<span class=\"comment\">/*</span>\n<span class=\"line\">  缩放控件type有四种类型:</span>\n<span class=\"line\">trueBMAP_NAVIGATION_CONTROL_SMALL：仅包含平移和缩放按钮；</span>\n<span class=\"line\">  BMAP_NAVIGATION_CONTROL_PAN:仅包含平移按钮；</span>\n<span class=\"line\">  BMAP_NAVIGATION_CONTROL_ZOOM：仅包含缩放按钮</span>\n<span class=\"line\">  */</span></span>\n<span class=\"line\">true</span>\n<span class=\"line\">true<span class=\"comment\">//添加控件和比例尺</span></span>\n<span class=\"line\">true<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">add_control</span>(<span class=\"params\"></span>)</span>&#123;</span>\n<span class=\"line\">truetruemap.addControl(top_left_control);        </span>\n<span class=\"line\">truetruemap.addControl(top_left_navigation);     </span>\n<span class=\"line\">truetruemap.addControl(top_right_navigation);    </span>\n<span class=\"line\">true&#125;</span>\n<span class=\"line\">true<span class=\"comment\">//移除控件和比例尺</span></span>\n<span class=\"line\">true<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">delete_control</span>(<span class=\"params\"></span>)</span>&#123;</span>\n<span class=\"line\">truetruemap.removeControl(top_left_control);     </span>\n<span class=\"line\">truetruemap.removeControl(top_left_navigation);  </span>\n<span class=\"line\">truetruemap.removeControl(top_right_navigation); </span>\n<span class=\"line\">true&#125;</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> map = <span class=\"keyword\">new</span> BMap.Map(<span class=\"string\">\"container\"</span>);</span>\n<span class=\"line\">map.centerAndZoom(<span class=\"keyword\">new</span> BMap.Point(<span class=\"number\">121.461165</span>, <span class=\"number\">31.234095</span>), <span class=\"number\">11</span>);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">search</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">var</span> myAddress = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'searchValue'</span>).value;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">var</span> myGeo = <span class=\"keyword\">new</span> BMap.Geocoder();</span>\n<span class=\"line\">  myGeo.getPoint(myAddress, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">point</span>) </span>&#123; <span class=\"comment\">//我输入的是“知春路”，第一步getPoint是地址解析。</span></span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (point) &#123;</span>\n<span class=\"line\">      map.centerAndZoom(point, <span class=\"number\">16</span>);</span>\n<span class=\"line\">      map.addOverlay(<span class=\"keyword\">new</span> BMap.Marker(point));</span>\n<span class=\"line\"></span>\n<span class=\"line\">      myGeo.getLocation(point, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">rs</span>) </span>&#123; <span class=\"comment\">//这里弹出“知春路”的详细地址信息，第二步getLocation是反地址解析。</span></span>\n<span class=\"line\">        <span class=\"keyword\">var</span> addComp = rs.addressComponents;</span>\n<span class=\"line\">        <span class=\"built_in\">console</span>.log(addComp);</span>\n<span class=\"line\">      &#125;);</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;, <span class=\"string\">\"上海市\"</span>); <span class=\"comment\">//必须设置城市</span></span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><h1 id=\"议程设置\"><a href=\"#议程设置\" class=\"headerlink\" title=\"议程设置\"></a>议程设置</h1><h2 id=\"表结构-1\"><a href=\"#表结构-1\" class=\"headerlink\" title=\"表结构\"></a>表结构</h2><h2 id=\"API-1\"><a href=\"#API-1\" class=\"headerlink\" title=\"API\"></a>API</h2><h1 id=\"议程查看\"><a href=\"#议程查看\" class=\"headerlink\" title=\"议程查看\"></a>议程查看</h1><h2 id=\"表结构-2\"><a href=\"#表结构-2\" class=\"headerlink\" title=\"表结构\"></a>表结构</h2><h2 id=\"API-2\"><a href=\"#API-2\" class=\"headerlink\" title=\"API\"></a>API</h2>","excerpt":"","more":"<h1 id=\"导航设置\"><a href=\"#导航设置\" class=\"headerlink\" title=\"导航设置\"></a>导航设置</h1><h2 id=\"表结构\"><a href=\"#表结构\" class=\"headerlink\" title=\"表结构\"></a>表结构</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`eb_location_base`</span> (</span>\n<span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`name`</span> <span class=\"built_in\">text</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'位置名称'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`desc`</span> <span class=\"built_in\">text</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'位置描述'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`descaddr`</span> <span class=\"built_in\">text</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'详细地址'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`lng`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">200</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'经度'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`lat`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">200</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'纬度'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`createtime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`updatetime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'最后更新时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`userid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建人ID'</span>,</span>\n<span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`id`</span>)</span>\n<span class=\"line\">) <span class=\"keyword\">ENGINE</span>=<span class=\"keyword\">InnoDB</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8</span>\n</pre></td></tr></table></figure><h2 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/ebridge/location/saveOrUpdate 保存或者更新</span>\n<span class=\"line\">/ebridge/location/delete 删除</span>\n<span class=\"line\">/ebridge/location/getElbById 根据ID获取单个数据</span>\n<span class=\"line\">/ebridge/location/getElbList 获取列表的</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">标题：单行文本</span>\n<span class=\"line\">描述：单行文本</span>\n<span class=\"line\">详细地址：</span>\n<span class=\"line\">定位点选择：（从百度地图选择经纬度坐标）</span>\n<span class=\"line\"></span>\n<span class=\"line\">http://developer.baidu.com/map/jsdemo.htm#i1_1</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 百度地图API功能</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> map = <span class=\"keyword\">new</span> BMap.Map(<span class=\"string\">\"allmap\"</span>);          </span>\n<span class=\"line\">map.centerAndZoom(<span class=\"string\">'上海'</span>, <span class=\"number\">11</span>);</span>\n<span class=\"line\"> map.addEventListener(<span class=\"string\">\"click\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span>\n<span class=\"line\">truealert(e.point.lng + <span class=\"string\">\",\"</span> + e.point.lat);</span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">var</span> local = <span class=\"keyword\">new</span> BMap.LocalSearch(map, &#123;</span>\n<span class=\"line\">true<span class=\"attr\">renderOptions</span>:&#123;<span class=\"attr\">map</span>: map&#125;</span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">local.search(<span class=\"string\">\"开元名都大酒店\"</span>);</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 百度地图API功能</span></span>\n<span class=\"line\">true<span class=\"keyword\">var</span> map = <span class=\"keyword\">new</span> BMap.Map(<span class=\"string\">\"allmap\"</span>);</span>\n<span class=\"line\">truemap.centerAndZoom(<span class=\"keyword\">new</span> BMap.Point(<span class=\"number\">116.404</span>, <span class=\"number\">39.915</span>), <span class=\"number\">11</span>);</span>\n<span class=\"line\"></span>\n<span class=\"line\">true<span class=\"keyword\">var</span> top_left_control = <span class=\"keyword\">new</span> BMap.ScaleControl(&#123;<span class=\"attr\">anchor</span>: BMAP_ANCHOR_TOP_LEFT&#125;);<span class=\"comment\">// 左上角，添加比例尺</span></span>\n<span class=\"line\">true<span class=\"keyword\">var</span> top_left_navigation = <span class=\"keyword\">new</span> BMap.NavigationControl();  <span class=\"comment\">//左上角，添加默认缩放平移控件</span></span>\n<span class=\"line\">true<span class=\"keyword\">var</span> top_right_navigation = <span class=\"keyword\">new</span> BMap.NavigationControl(&#123;<span class=\"attr\">anchor</span>: BMAP_ANCHOR_TOP_RIGHT, <span class=\"attr\">type</span>: BMAP_NAVIGATION_CONTROL_SMALL&#125;); <span class=\"comment\">//右上角，仅包含平移和缩放按钮</span></span>\n<span class=\"line\">true<span class=\"comment\">/*</span>\n<span class=\"line\">  缩放控件type有四种类型:</span>\n<span class=\"line\">trueBMAP_NAVIGATION_CONTROL_SMALL：仅包含平移和缩放按钮；</span>\n<span class=\"line\">  BMAP_NAVIGATION_CONTROL_PAN:仅包含平移按钮；</span>\n<span class=\"line\">  BMAP_NAVIGATION_CONTROL_ZOOM：仅包含缩放按钮</span>\n<span class=\"line\">  */</span></span>\n<span class=\"line\">true</span>\n<span class=\"line\">true<span class=\"comment\">//添加控件和比例尺</span></span>\n<span class=\"line\">true<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">add_control</span>(<span class=\"params\"></span>)</span>&#123;</span>\n<span class=\"line\">truetruemap.addControl(top_left_control);        </span>\n<span class=\"line\">truetruemap.addControl(top_left_navigation);     </span>\n<span class=\"line\">truetruemap.addControl(top_right_navigation);    </span>\n<span class=\"line\">true&#125;</span>\n<span class=\"line\">true<span class=\"comment\">//移除控件和比例尺</span></span>\n<span class=\"line\">true<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">delete_control</span>(<span class=\"params\"></span>)</span>&#123;</span>\n<span class=\"line\">truetruemap.removeControl(top_left_control);     </span>\n<span class=\"line\">truetruemap.removeControl(top_left_navigation);  </span>\n<span class=\"line\">truetruemap.removeControl(top_right_navigation); </span>\n<span class=\"line\">true&#125;</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> map = <span class=\"keyword\">new</span> BMap.Map(<span class=\"string\">\"container\"</span>);</span>\n<span class=\"line\">map.centerAndZoom(<span class=\"keyword\">new</span> BMap.Point(<span class=\"number\">121.461165</span>, <span class=\"number\">31.234095</span>), <span class=\"number\">11</span>);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">search</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">var</span> myAddress = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'searchValue'</span>).value;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">var</span> myGeo = <span class=\"keyword\">new</span> BMap.Geocoder();</span>\n<span class=\"line\">  myGeo.getPoint(myAddress, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">point</span>) </span>&#123; <span class=\"comment\">//我输入的是“知春路”，第一步getPoint是地址解析。</span></span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (point) &#123;</span>\n<span class=\"line\">      map.centerAndZoom(point, <span class=\"number\">16</span>);</span>\n<span class=\"line\">      map.addOverlay(<span class=\"keyword\">new</span> BMap.Marker(point));</span>\n<span class=\"line\"></span>\n<span class=\"line\">      myGeo.getLocation(point, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">rs</span>) </span>&#123; <span class=\"comment\">//这里弹出“知春路”的详细地址信息，第二步getLocation是反地址解析。</span></span>\n<span class=\"line\">        <span class=\"keyword\">var</span> addComp = rs.addressComponents;</span>\n<span class=\"line\">        <span class=\"built_in\">console</span>.log(addComp);</span>\n<span class=\"line\">      &#125;);</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;, <span class=\"string\">\"上海市\"</span>); <span class=\"comment\">//必须设置城市</span></span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><h1 id=\"议程设置\"><a href=\"#议程设置\" class=\"headerlink\" title=\"议程设置\"></a>议程设置</h1><h2 id=\"表结构-1\"><a href=\"#表结构-1\" class=\"headerlink\" title=\"表结构\"></a>表结构</h2><h2 id=\"API-1\"><a href=\"#API-1\" class=\"headerlink\" title=\"API\"></a>API</h2><h1 id=\"议程查看\"><a href=\"#议程查看\" class=\"headerlink\" title=\"议程查看\"></a>议程查看</h1><h2 id=\"表结构-2\"><a href=\"#表结构-2\" class=\"headerlink\" title=\"表结构\"></a>表结构</h2><h2 id=\"API-2\"><a href=\"#API-2\" class=\"headerlink\" title=\"API\"></a>API</h2>"},{"title":"'tmp-in-weaver-guifan'","draft":"true","date":"2016-12-08T10:20:56.000Z","_content":"\n```\nPC端访问入口   /eb/ 开头\n移动端访问入口 /ebclient/ 开头\n\n类名：\n  EbXxxxController\n  EbXxxxService\n  EbXxxxModel\n  EbXxxxBean\n  EbXxxxUtils\n```\n\n```\n页面：\nPC端： /webpage/p/xxxx/xxxx.html  小写\n\n  /webpage/p/xxxx/css\n  /webpage/p/xxxx/js\n  /webpage/p/xxxx/image\n\n移动端：/webpage/m/xxxx/xxxx.html 小写\n\n  /webpage/m/xxxx/css\n  /webpage/m/xxxx/js\n  /webpage/m/xxxx/image\n```\n\n```\n数据库：\n  eb_xxx_ 开头\n每张表必须包含字段\n  id varchar(32) 唯一标识\n  creatorid varchar(32)  创建人\n  createtime datetime  创建时间\n  updaterid varchar(32) 修改人\n  updatetime datetime 修改时间\n  tenantid varchar(32) 租户ID\n```\n\n\n如果是人员类数据表，还需要一个字段，对应 eb_userdata 表的 ID，即所有人员相关的数据都会对应 eb_userdata 表中的一条数据，可以调用 EbUserDataModel.findByUserDataBean 方法来获取，具体调用逻辑可以与我沟通确认\n\nsysuserdataid varchar(32) 基础用户数据表ID\n\n以上规则后续请严格遵循（已有的不规范的如果调整方便最好都统一调整好），其他规则会不断补充！","source":"_drafts/tmp-in-weaver-guifan.md","raw":"title: '''tmp-in-weaver-guifan'''\ntags:\n  - null\ncategories:\n  - null\ndraft: 'true'\ndate: 2016-12-08 18:20:56\n---\n\n```\nPC端访问入口   /eb/ 开头\n移动端访问入口 /ebclient/ 开头\n\n类名：\n  EbXxxxController\n  EbXxxxService\n  EbXxxxModel\n  EbXxxxBean\n  EbXxxxUtils\n```\n\n```\n页面：\nPC端： /webpage/p/xxxx/xxxx.html  小写\n\n  /webpage/p/xxxx/css\n  /webpage/p/xxxx/js\n  /webpage/p/xxxx/image\n\n移动端：/webpage/m/xxxx/xxxx.html 小写\n\n  /webpage/m/xxxx/css\n  /webpage/m/xxxx/js\n  /webpage/m/xxxx/image\n```\n\n```\n数据库：\n  eb_xxx_ 开头\n每张表必须包含字段\n  id varchar(32) 唯一标识\n  creatorid varchar(32)  创建人\n  createtime datetime  创建时间\n  updaterid varchar(32) 修改人\n  updatetime datetime 修改时间\n  tenantid varchar(32) 租户ID\n```\n\n\n如果是人员类数据表，还需要一个字段，对应 eb_userdata 表的 ID，即所有人员相关的数据都会对应 eb_userdata 表中的一条数据，可以调用 EbUserDataModel.findByUserDataBean 方法来获取，具体调用逻辑可以与我沟通确认\n\nsysuserdataid varchar(32) 基础用户数据表ID\n\n以上规则后续请严格遵循（已有的不规范的如果调整方便最好都统一调整好），其他规则会不断补充！","slug":"tmp-in-weaver-guifan","published":0,"updated":"2016-12-08T11:48:39.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bpa000f8gny27f2t048","content":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">PC端访问入口   /eb/ 开头</span>\n<span class=\"line\">移动端访问入口 /ebclient/ 开头</span>\n<span class=\"line\"></span>\n<span class=\"line\">类名：</span>\n<span class=\"line\">  EbXxxxController</span>\n<span class=\"line\">  EbXxxxService</span>\n<span class=\"line\">  EbXxxxModel</span>\n<span class=\"line\">  EbXxxxBean</span>\n<span class=\"line\">  EbXxxxUtils</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">页面：</span>\n<span class=\"line\">PC端： /webpage/p/xxxx/xxxx.html  小写</span>\n<span class=\"line\"></span>\n<span class=\"line\">  /webpage/p/xxxx/css</span>\n<span class=\"line\">  /webpage/p/xxxx/js</span>\n<span class=\"line\">  /webpage/p/xxxx/image</span>\n<span class=\"line\"></span>\n<span class=\"line\">移动端：/webpage/m/xxxx/xxxx.html 小写</span>\n<span class=\"line\"></span>\n<span class=\"line\">  /webpage/m/xxxx/css</span>\n<span class=\"line\">  /webpage/m/xxxx/js</span>\n<span class=\"line\">  /webpage/m/xxxx/image</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">数据库：</span>\n<span class=\"line\">  eb_xxx_ 开头</span>\n<span class=\"line\">每张表必须包含字段</span>\n<span class=\"line\">  id varchar(32) 唯一标识</span>\n<span class=\"line\">  creatorid varchar(32)  创建人</span>\n<span class=\"line\">  createtime datetime  创建时间</span>\n<span class=\"line\">  updaterid varchar(32) 修改人</span>\n<span class=\"line\">  updatetime datetime 修改时间</span>\n<span class=\"line\">  tenantid varchar(32) 租户ID</span>\n</pre></td></tr></table></figure><p>如果是人员类数据表，还需要一个字段，对应 eb_userdata 表的 ID，即所有人员相关的数据都会对应 eb_userdata 表中的一条数据，可以调用 EbUserDataModel.findByUserDataBean 方法来获取，具体调用逻辑可以与我沟通确认</p><p>sysuserdataid varchar(32) 基础用户数据表ID</p><p>以上规则后续请严格遵循（已有的不规范的如果调整方便最好都统一调整好），其他规则会不断补充！</p>","excerpt":"","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">PC端访问入口   /eb/ 开头</span>\n<span class=\"line\">移动端访问入口 /ebclient/ 开头</span>\n<span class=\"line\"></span>\n<span class=\"line\">类名：</span>\n<span class=\"line\">  EbXxxxController</span>\n<span class=\"line\">  EbXxxxService</span>\n<span class=\"line\">  EbXxxxModel</span>\n<span class=\"line\">  EbXxxxBean</span>\n<span class=\"line\">  EbXxxxUtils</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">页面：</span>\n<span class=\"line\">PC端： /webpage/p/xxxx/xxxx.html  小写</span>\n<span class=\"line\"></span>\n<span class=\"line\">  /webpage/p/xxxx/css</span>\n<span class=\"line\">  /webpage/p/xxxx/js</span>\n<span class=\"line\">  /webpage/p/xxxx/image</span>\n<span class=\"line\"></span>\n<span class=\"line\">移动端：/webpage/m/xxxx/xxxx.html 小写</span>\n<span class=\"line\"></span>\n<span class=\"line\">  /webpage/m/xxxx/css</span>\n<span class=\"line\">  /webpage/m/xxxx/js</span>\n<span class=\"line\">  /webpage/m/xxxx/image</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">数据库：</span>\n<span class=\"line\">  eb_xxx_ 开头</span>\n<span class=\"line\">每张表必须包含字段</span>\n<span class=\"line\">  id varchar(32) 唯一标识</span>\n<span class=\"line\">  creatorid varchar(32)  创建人</span>\n<span class=\"line\">  createtime datetime  创建时间</span>\n<span class=\"line\">  updaterid varchar(32) 修改人</span>\n<span class=\"line\">  updatetime datetime 修改时间</span>\n<span class=\"line\">  tenantid varchar(32) 租户ID</span>\n</pre></td></tr></table></figure><p>如果是人员类数据表，还需要一个字段，对应 eb_userdata 表的 ID，即所有人员相关的数据都会对应 eb_userdata 表中的一条数据，可以调用 EbUserDataModel.findByUserDataBean 方法来获取，具体调用逻辑可以与我沟通确认</p><p>sysuserdataid varchar(32) 基础用户数据表ID</p><p>以上规则后续请严格遵循（已有的不规范的如果调整方便最好都统一调整好），其他规则会不断补充！</p>"},{"title":"tmp-in-weaver-miaosha","_content":"\n\n具体逻辑\n\n1、新建，往数据库插入数据\n\n2、点击立即开始：修改活动状态，为进行中、实际开始时间为当前时间、然后推送消息给用户\n\n3、用户收到信息，点击进入\n     如果没用有包了则显示已结束\n     如果还有红包则显示抢\n    点击【抢】告知结果，\n    如果抢到 则发送红包给他\n    如果没抢到则告知没抢到\n    \n4、展示抢的结果\n\n5、大屏幕上实时展示抢到的红包的用户——和去年的摇一摇红包一样\n\n----------------------------------\n\n\n秒杀功能。需求见上面发送的。\n\n1、PC端操作界面就是我刚才发的界面\n\n2、移动端 就是去年的红包功能的 抢红包部分  拷贝过来修改\n\n3、大屏幕样式 和效果就用去年 摇一摇红包的效果\n\n@王仲海 负责  ，PC刚才发送的界面前端编写\n\n@王洪亮，负责后端对接\n\n@ 丁坤宇 负责整体协调及大屏幕编写\n\n@陈伟，负责移动端 墙红包的界面调整\n\n@章宏武 协助补充完成相关逻辑\n\n\n\n@王朋飞，@吕德强  你们重点测试一下      滚动抽奖+数钱功能。\n\n\n```sql\nCREATE TABLE `eb_seckill_base` (\n  `id` varchar(32) NOT NULL,\n  `name` varchar(200) DEFAULT NULL COMMENT '活动名称',\n\n  `type` tinyint(4) DEFAULT NULL COMMENT '秒杀类型 1:实物 2:红包',\n  `money` int(8) DEFAULT NULL COMMENT '红包总金额,单位：元',\n  `givetype` tinyint(4) DEFAULT NULL COMMENT '红包分配方式 1:均分 2:随机',\n  `min` int(8) DEFAULT NULL COMMENT '随机红包的最小金额',\n  `max` int(8) DEFAULT NULL COMMENT '随机红包的最大金额',\n\n  `goodsname` varchar(500) DEFAULT NULL COMMENT '物品名称',\n  `count` tinyint(4) DEFAULT NULL COMMENT '秒杀数量',\n\n  `imgid` varchar(32) DEFAULT NULL COMMENT '奖品图片',\n\n  `starttime` date DEFAULT NULL COMMENT '开始时间',\n  \n  `pageid` varchar(32) DEFAULT NULL COMMENT '依赖应用',\n\n)\n```","source":"_drafts/tmp-in-weaver-miaosha.md","raw":"title: tmp-in-weaver-miaosha\ntags:\n  - null\ncategories:\n  - null\n---\n\n\n具体逻辑\n\n1、新建，往数据库插入数据\n\n2、点击立即开始：修改活动状态，为进行中、实际开始时间为当前时间、然后推送消息给用户\n\n3、用户收到信息，点击进入\n     如果没用有包了则显示已结束\n     如果还有红包则显示抢\n    点击【抢】告知结果，\n    如果抢到 则发送红包给他\n    如果没抢到则告知没抢到\n    \n4、展示抢的结果\n\n5、大屏幕上实时展示抢到的红包的用户——和去年的摇一摇红包一样\n\n----------------------------------\n\n\n秒杀功能。需求见上面发送的。\n\n1、PC端操作界面就是我刚才发的界面\n\n2、移动端 就是去年的红包功能的 抢红包部分  拷贝过来修改\n\n3、大屏幕样式 和效果就用去年 摇一摇红包的效果\n\n@王仲海 负责  ，PC刚才发送的界面前端编写\n\n@王洪亮，负责后端对接\n\n@ 丁坤宇 负责整体协调及大屏幕编写\n\n@陈伟，负责移动端 墙红包的界面调整\n\n@章宏武 协助补充完成相关逻辑\n\n\n\n@王朋飞，@吕德强  你们重点测试一下      滚动抽奖+数钱功能。\n\n\n```sql\nCREATE TABLE `eb_seckill_base` (\n  `id` varchar(32) NOT NULL,\n  `name` varchar(200) DEFAULT NULL COMMENT '活动名称',\n\n  `type` tinyint(4) DEFAULT NULL COMMENT '秒杀类型 1:实物 2:红包',\n  `money` int(8) DEFAULT NULL COMMENT '红包总金额,单位：元',\n  `givetype` tinyint(4) DEFAULT NULL COMMENT '红包分配方式 1:均分 2:随机',\n  `min` int(8) DEFAULT NULL COMMENT '随机红包的最小金额',\n  `max` int(8) DEFAULT NULL COMMENT '随机红包的最大金额',\n\n  `goodsname` varchar(500) DEFAULT NULL COMMENT '物品名称',\n  `count` tinyint(4) DEFAULT NULL COMMENT '秒杀数量',\n\n  `imgid` varchar(32) DEFAULT NULL COMMENT '奖品图片',\n\n  `starttime` date DEFAULT NULL COMMENT '开始时间',\n  \n  `pageid` varchar(32) DEFAULT NULL COMMENT '依赖应用',\n\n)\n```","slug":"tmp-in-weaver-miaosha","published":0,"date":"2017-01-11T09:02:02.387Z","updated":"2017-01-11T09:35:11.255Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bpc000h8gnyruum2x4u","content":"<p>具体逻辑</p><p>1、新建，往数据库插入数据</p><p>2、点击立即开始：修改活动状态，为进行中、实际开始时间为当前时间、然后推送消息给用户</p><p>3、用户收到信息，点击进入<br>如果没用有包了则显示已结束<br>如果还有红包则显示抢<br>点击【抢】告知结果，<br>如果抢到 则发送红包给他<br>如果没抢到则告知没抢到</p><p>4、展示抢的结果</p><p>5、大屏幕上实时展示抢到的红包的用户——和去年的摇一摇红包一样</p><hr><p>秒杀功能。需求见上面发送的。</p><p>1、PC端操作界面就是我刚才发的界面</p><p>2、移动端 就是去年的红包功能的 抢红包部分 拷贝过来修改</p><p>3、大屏幕样式 和效果就用去年 摇一摇红包的效果</p><p>@王仲海 负责 ，PC刚才发送的界面前端编写</p><p>@王洪亮，负责后端对接</p><p>@ 丁坤宇 负责整体协调及大屏幕编写</p><p>@陈伟，负责移动端 墙红包的界面调整</p><p>@章宏武 协助补充完成相关逻辑</p><p>@王朋飞，@吕德强 你们重点测试一下 滚动抽奖+数钱功能。</p><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`eb_seckill_base`</span> (</span>\n<span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`name`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">200</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'活动名称'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">`type`</span> tinyint(<span class=\"number\">4</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'秒杀类型 1:实物 2:红包'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`money`</span> <span class=\"built_in\">int</span>(<span class=\"number\">8</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'红包总金额,单位：元'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`givetype`</span> tinyint(<span class=\"number\">4</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'红包分配方式 1:均分 2:随机'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`min`</span> <span class=\"built_in\">int</span>(<span class=\"number\">8</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'随机红包的最小金额'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`max`</span> <span class=\"built_in\">int</span>(<span class=\"number\">8</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'随机红包的最大金额'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">`goodsname`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'物品名称'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`count`</span> tinyint(<span class=\"number\">4</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'秒杀数量'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">`imgid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'奖品图片'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">`starttime`</span> <span class=\"built_in\">date</span> <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'开始时间'</span>,</span>\n<span class=\"line\">  </span>\n<span class=\"line\">  <span class=\"string\">`pageid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'依赖应用'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">)</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<p>具体逻辑</p><p>1、新建，往数据库插入数据</p><p>2、点击立即开始：修改活动状态，为进行中、实际开始时间为当前时间、然后推送消息给用户</p><p>3、用户收到信息，点击进入<br>如果没用有包了则显示已结束<br>如果还有红包则显示抢<br>点击【抢】告知结果，<br>如果抢到 则发送红包给他<br>如果没抢到则告知没抢到</p><p>4、展示抢的结果</p><p>5、大屏幕上实时展示抢到的红包的用户——和去年的摇一摇红包一样</p><hr><p>秒杀功能。需求见上面发送的。</p><p>1、PC端操作界面就是我刚才发的界面</p><p>2、移动端 就是去年的红包功能的 抢红包部分 拷贝过来修改</p><p>3、大屏幕样式 和效果就用去年 摇一摇红包的效果</p><p>@王仲海 负责 ，PC刚才发送的界面前端编写</p><p>@王洪亮，负责后端对接</p><p>@ 丁坤宇 负责整体协调及大屏幕编写</p><p>@陈伟，负责移动端 墙红包的界面调整</p><p>@章宏武 协助补充完成相关逻辑</p><p>@王朋飞，@吕德强 你们重点测试一下 滚动抽奖+数钱功能。</p><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`eb_seckill_base`</span> (</span>\n<span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`name`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">200</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'活动名称'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">`type`</span> tinyint(<span class=\"number\">4</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'秒杀类型 1:实物 2:红包'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`money`</span> <span class=\"built_in\">int</span>(<span class=\"number\">8</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'红包总金额,单位：元'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`givetype`</span> tinyint(<span class=\"number\">4</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'红包分配方式 1:均分 2:随机'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`min`</span> <span class=\"built_in\">int</span>(<span class=\"number\">8</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'随机红包的最小金额'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`max`</span> <span class=\"built_in\">int</span>(<span class=\"number\">8</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'随机红包的最大金额'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">`goodsname`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'物品名称'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`count`</span> tinyint(<span class=\"number\">4</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'秒杀数量'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">`imgid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'奖品图片'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">`starttime`</span> <span class=\"built_in\">date</span> <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'开始时间'</span>,</span>\n<span class=\"line\">  </span>\n<span class=\"line\">  <span class=\"string\">`pageid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'依赖应用'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">)</span>\n</pre></td></tr></table></figure>"},{"title":"tmp-in-weaver-new-requirements","_content":"\n两个需求——明天需要处理下上线\n\n1. 应用介绍界面  @丁坤宇 \n2. 企业号应用信息修改界面——主要是修改应用名称  @丁坤宇  @陈伟 `\n   以上两点——明天内搞定\n\n以下三点在泛微年1月10日前应该稳定\n\n3. 内容管理——重点工作在前端。  @王仲海  @陈伟 \n4. 微信消息推送——重点工作在前端。 @王仲海 @陈伟 \n5. session. 抽奖实时数据. pushlet插件 与 redis集成方案  @王洪亮 @丁坤宇 @章宏武 \n\n额外的\n\n6. 与微吼的集成。简单实现  与我们自己系统集成。\n\n\n\nslmgr /ipk VTNMT-2FMVP-QCY43-QR9VC-WTVCK\n\nKNXB4 F82M9 TB3X9 P9PQ6 RRG6Y\nRHY9K-QYWBC-8DTD9-FXJCH-47RTQ\n\n            <Row gutter={10}>\n              <Col span={20}>\n                <Select>\n                  {\n                    types.map((type, index) => <Option key={index} value={type.id}>{type.name}</Option>)\n                  }\n                </Select>\n              </Col>\n              <Col span={4}>\n                <Button type=\"ghost\" icon=\"plus\" onClick={::this.onAddType} />\n              </Col>\n            </Row>\n\n\n            npm i element-theme -g\n\n            font-family: \"Helvetica Neue\",Helvetica,\"PingFang SC\",\"Hiragino Sans GB\",\"Microsoft YaHei\",\"微软雅黑\",Arial,sans-serif;\n\n\n主标题\t    用 Element 快速搭建页面\t20px Extra large\n标题\t     用 Element 快速搭建页面\t 18px large\n小标题\t    用 Element 快速搭建页面\t16px Medium\n正文\t     用 Element 快速搭建页面\t 14px Small\n正文小\t    用 Element 快速搭建页面\t13px Extra Small\n辅助文字   用 Element 快速搭建页面\t 12px Extra Extra Small\n\n\n这块可以改一下\n\n1、增加个是否自动开始  —如果  是，并且还没开始过的，则 到时间 自动推送秒杀信息\n\n2、大屏幕和列表中的立即开始这个 按钮   是否就不和开始结束时间挂钩判断了？\n\n---\n","source":"_drafts/tmp-in-weaver-new-requirements.md","raw":"title: tmp-in-weaver-new-requirements\ntags:\n  - null\ncategories:\n  - null\n---\n\n两个需求——明天需要处理下上线\n\n1. 应用介绍界面  @丁坤宇 \n2. 企业号应用信息修改界面——主要是修改应用名称  @丁坤宇  @陈伟 `\n   以上两点——明天内搞定\n\n以下三点在泛微年1月10日前应该稳定\n\n3. 内容管理——重点工作在前端。  @王仲海  @陈伟 \n4. 微信消息推送——重点工作在前端。 @王仲海 @陈伟 \n5. session. 抽奖实时数据. pushlet插件 与 redis集成方案  @王洪亮 @丁坤宇 @章宏武 \n\n额外的\n\n6. 与微吼的集成。简单实现  与我们自己系统集成。\n\n\n\nslmgr /ipk VTNMT-2FMVP-QCY43-QR9VC-WTVCK\n\nKNXB4 F82M9 TB3X9 P9PQ6 RRG6Y\nRHY9K-QYWBC-8DTD9-FXJCH-47RTQ\n\n            <Row gutter={10}>\n              <Col span={20}>\n                <Select>\n                  {\n                    types.map((type, index) => <Option key={index} value={type.id}>{type.name}</Option>)\n                  }\n                </Select>\n              </Col>\n              <Col span={4}>\n                <Button type=\"ghost\" icon=\"plus\" onClick={::this.onAddType} />\n              </Col>\n            </Row>\n\n\n            npm i element-theme -g\n\n            font-family: \"Helvetica Neue\",Helvetica,\"PingFang SC\",\"Hiragino Sans GB\",\"Microsoft YaHei\",\"微软雅黑\",Arial,sans-serif;\n\n\n主标题\t    用 Element 快速搭建页面\t20px Extra large\n标题\t     用 Element 快速搭建页面\t 18px large\n小标题\t    用 Element 快速搭建页面\t16px Medium\n正文\t     用 Element 快速搭建页面\t 14px Small\n正文小\t    用 Element 快速搭建页面\t13px Extra Small\n辅助文字   用 Element 快速搭建页面\t 12px Extra Extra Small\n\n\n这块可以改一下\n\n1、增加个是否自动开始  —如果  是，并且还没开始过的，则 到时间 自动推送秒杀信息\n\n2、大屏幕和列表中的立即开始这个 按钮   是否就不和开始结束时间挂钩判断了？\n\n---\n","slug":"tmp-in-weaver-new-requirements","published":0,"date":"2017-01-04T01:51:23.072Z","updated":"2017-01-20T01:48:11.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bpk000i8gnyajjsqpl2","content":"<p>两个需求——明天需要处理下上线</p><ol><li>应用介绍界面 @丁坤宇</li><li>企业号应用信息修改界面——主要是修改应用名称 @丁坤宇 @陈伟 `<br>以上两点——明天内搞定</li></ol><p>以下三点在泛微年1月10日前应该稳定</p><ol><li>内容管理——重点工作在前端。 @王仲海 @陈伟</li><li>微信消息推送——重点工作在前端。 @王仲海 @陈伟</li><li>session. 抽奖实时数据. pushlet插件 与 redis集成方案 @王洪亮 @丁坤宇 @章宏武</li></ol><p>额外的</p><ol><li>与微吼的集成。简单实现 与我们自己系统集成。</li></ol><p>slmgr /ipk VTNMT-2FMVP-QCY43-QR9VC-WTVCK</p><p>KNXB4 F82M9 TB3X9 P9PQ6 RRG6Y<br>RHY9K-QYWBC-8DTD9-FXJCH-47RTQ</p><pre><code>&lt;Row gutter={10}&gt;\n  &lt;Col span={20}&gt;\n    &lt;Select&gt;\n      {\n        types.map((type, index) =&gt; &lt;Option key={index} value={type.id}&gt;{type.name}&lt;/Option&gt;)\n      }\n    &lt;/Select&gt;\n  &lt;/Col&gt;\n  &lt;Col span={4}&gt;\n    &lt;Button type=&quot;ghost&quot; icon=&quot;plus&quot; onClick={::this.onAddType} /&gt;\n  &lt;/Col&gt;\n&lt;/Row&gt;\n\n\nnpm i element-theme -g\n\nfont-family: &quot;Helvetica Neue&quot;,Helvetica,&quot;PingFang SC&quot;,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,&quot;微软雅黑&quot;,Arial,sans-serif;\n</code></pre><p>主标题 用 Element 快速搭建页面 20px Extra large<br>标题 用 Element 快速搭建页面 18px large<br>小标题 用 Element 快速搭建页面 16px Medium<br>正文 用 Element 快速搭建页面 14px Small<br>正文小 用 Element 快速搭建页面 13px Extra Small<br>辅助文字 用 Element 快速搭建页面 12px Extra Extra Small</p><p>这块可以改一下</p><p>1、增加个是否自动开始 —如果 是，并且还没开始过的，则 到时间 自动推送秒杀信息</p><p>2、大屏幕和列表中的立即开始这个 按钮 是否就不和开始结束时间挂钩判断了？</p><hr>","excerpt":"","more":"<p>两个需求——明天需要处理下上线</p><ol><li>应用介绍界面 @丁坤宇</li><li>企业号应用信息修改界面——主要是修改应用名称 @丁坤宇 @陈伟 `<br>以上两点——明天内搞定</li></ol><p>以下三点在泛微年1月10日前应该稳定</p><ol><li>内容管理——重点工作在前端。 @王仲海 @陈伟</li><li>微信消息推送——重点工作在前端。 @王仲海 @陈伟</li><li>session. 抽奖实时数据. pushlet插件 与 redis集成方案 @王洪亮 @丁坤宇 @章宏武</li></ol><p>额外的</p><ol><li>与微吼的集成。简单实现 与我们自己系统集成。</li></ol><p>slmgr /ipk VTNMT-2FMVP-QCY43-QR9VC-WTVCK</p><p>KNXB4 F82M9 TB3X9 P9PQ6 RRG6Y<br>RHY9K-QYWBC-8DTD9-FXJCH-47RTQ</p><pre><code>&lt;Row gutter={10}&gt;\n  &lt;Col span={20}&gt;\n    &lt;Select&gt;\n      {\n        types.map((type, index) =&gt; &lt;Option key={index} value={type.id}&gt;{type.name}&lt;/Option&gt;)\n      }\n    &lt;/Select&gt;\n  &lt;/Col&gt;\n  &lt;Col span={4}&gt;\n    &lt;Button type=&quot;ghost&quot; icon=&quot;plus&quot; onClick={::this.onAddType} /&gt;\n  &lt;/Col&gt;\n&lt;/Row&gt;\n\n\nnpm i element-theme -g\n\nfont-family: &quot;Helvetica Neue&quot;,Helvetica,&quot;PingFang SC&quot;,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,&quot;微软雅黑&quot;,Arial,sans-serif;\n</code></pre><p>主标题 用 Element 快速搭建页面 20px Extra large<br>标题 用 Element 快速搭建页面 18px large<br>小标题 用 Element 快速搭建页面 16px Medium<br>正文 用 Element 快速搭建页面 14px Small<br>正文小 用 Element 快速搭建页面 13px Extra Small<br>辅助文字 用 Element 快速搭建页面 12px Extra Extra Small</p><p>这块可以改一下</p><p>1、增加个是否自动开始 —如果 是，并且还没开始过的，则 到时间 自动推送秒杀信息</p><p>2、大屏幕和列表中的立即开始这个 按钮 是否就不和开始结束时间挂钩判断了？</p><hr>"},{"title":"'tmp-in-weaver-news'","draft":"true","date":"2016-11-24T09:39:33.000Z","_content":"\n会议图文信息\n```\n/eb/meeting/news/saveOrUpdate\n/eb/meeting/news/delete\n/eb/meeting/news/getEmnById\n/eb/meeting/news/getEmnList\n```\n\n图文里面的议程\n\n```\n/eb/meeting/agenda/saveOrUpdate\n/eb/meeting/agenda/delete\n/eb/meeting/agenda/getEmaById\n/eb/meeting/agenda/getEmaList\n```\n\n> 第一个参数以emn.  \n> 第二个参数以ema.\n\n\n```sql\nCREATE TABLE `eb_meeting_news` (\n  `id` varchar(32) NOT NULL,\n  `meetingid` varchar(32) DEFAULT NULL COMMENT '会议ID',\n \n  `title` varchar(500) DEFAULT NULL COMMENT '标题',\n  `desc` text COMMENT '描述',\n \n  `createtime` datetime DEFAULT NULL COMMENT '创建时间',\n  `updatetime` datetime DEFAULT NULL COMMENT '最后修改时间',\n  `userid` varchar(32) DEFAULT NULL COMMENT '创建人ID',\n  `tenantid` varchar(32) DEFAULT NULL COMMENT '租户ID',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n```\n\n```sql\nCREATE TABLE `eb_meeting_agenda` (\n  `id` varchar(32) NOT NULL,\n  `newsid` varchar(32) DEFAULT NULL COMMENT '会议描述表ID', # 点击的时候 会 携带过来\n  `parentid` varchar(32) DEFAULT NULL COMMENT '上级议程ID', # 添加子议程\n  \n  `title` varchar(500) DEFAULT NULL COMMENT '议程标题',\n  `desc` text COMMENT '议程描述',\n  `starttime` datetime DEFAULT NULL COMMENT '开始时间',\n  `endtime` datetime DEFAULT NULL COMMENT '结束时间',\n  `ifreward` tinyint(4) DEFAULT NULL COMMENT '是否开启悬赏',\n\n  'sort' # 排序\n\n  `userid` varchar(32) DEFAULT NULL COMMENT '创建人ID',\n  `tenantid` varchar(32) DEFAULT NULL COMMENT '租户ID',\n  `createtime` datetime DEFAULT NULL COMMENT '创建时间',\n  `updatetime` datetime DEFAULT NULL COMMENT '最后修改时间',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n\n```\n\n```js\n\nimport { Tree } from 'antd';\nconst TreeNode = Tree.TreeNode;\n\nconst x = 3;\nconst y = 2;\nconst z = 1;\nconst gData = [];\n\n// const generateData = (_level, _preKey, _tns) => {\n//   const preKey = _preKey || '0';\n//   const tns = _tns || gData;\n\n//   const children = [];\n//   for (let i = 0; i < x; i++) {\n//     const key = `${preKey}-${i}`;\n//     tns.push({ title: key, key });\n//     if (i < y) {\n//       children.push(key);\n//     }\n//   }\n//   if (_level < 0) {\n//     return tns;\n//   }\n//   const level = _level - 1;\n//   children.forEach((key, index) => {\n//     tns[index].children = [];\n//     return generateData(level, key, tns[index].children);\n//   });\n// };\n// generateData(z);\n\nconst Demo = React.createClass({\n  getInitialState() {\n    return {\n      gData,\n      expandedKeys: ['0-0', '0-0-0', '0-0-0-0'],\n    };\n  },\n\n  onDragEnter(info) {\n    console.log(info);\n    // expandedKeys 需要受控时设置\n    // this.setState({\n    //   expandedKeys: info.expandedKeys,\n    // });\n  },\n\n  onDrop(info) {\n    console.log(info);\n\n    const dropKey = info.node.props.eventKey;\n    const dragKey = info.dragNode.props.eventKey;\n    \n    const loop = (data, key, callback) => {\n      data.forEach((item, index, arr) => {\n        if (item.key === key) {\n          return callback(item, index, arr);\n        }\n\n        if (item.children) {\n          return loop(item.children, key, callback);\n        }\n      });\n    };\n\n    const data = [...this.state.gData];\n    let dragObj;\n    loop(data, dragKey, (item, index, arr) => {\n      arr.splice(index, 1);\n      dragObj = item;\n    });\n\n    if (info.dropToGap) {\n      let ar;\n      let i;\n      loop(data, dropKey, (item, index, arr) => {\n        ar = arr;\n        i = index;\n      });\n      ar.splice(i, 0, dragObj);\n    } else {\n      loop(data, dropKey, (item) => {\n        item.children = item.children || [];\n        // where to insert 示例添加到尾部，可以是随意位置\n        item.children.push(dragObj);\n      });\n    }\n\n    this.setState({ gData: data });\n  },\n\n  render() {\n    const loop = data => data.map((item) => {\n      if (item.children && item.children.length) {\n        return <TreeNode key={item.key} title={item.key}>{loop(item.children)}</TreeNode>;\n      }\n\n      return <TreeNode key={item.key} title={item.key} />;\n    });\n\n    return (\n      <Tree\n        defaultExpandedKeys={this.state.expandedKeys}\n        draggable\n        onDragEnter={this.onDragEnter}\n        onDrop={this.onDrop}\n      >\n        {loop(this.state.gData)}\n      </Tree>\n    );\n  },\n\n});\n\nReactDOM.render(<Demo />, mountNode);\n```\n\n\n```js\nimport { Tree } from 'antd';\nconst TreeNode = Tree.TreeNode;\n\nfunction generateTreeNodes(treeNode) {\n  const arr = [];\n  const key = treeNode.props.eventKey;\n  for (let i = 0; i < 3; i++) {\n    arr.push({ name: `leaf ${key}-${i}`, key: `${key}-${i}` });\n  }\n  \n  return arr;\n}\n\nfunction setLeaf(treeData, curKey, level) {\n  const loopLeaf = (data, lev) => {\n    const l = lev - 1;\n    data.forEach((item) => {\n      if ((item.key.length > curKey.length) ? item.key.indexOf(curKey) !== 0 :\n        curKey.indexOf(item.key) !== 0) {\n        return;\n      }\n      if (item.children) {\n        loopLeaf(item.children, l);\n      } else if (l < 1) {\n        item.isLeaf = true;\n      }\n    });\n  };\n\n  loopLeaf(treeData, level + 1);\n}\n\nfunction getNewTreeData(treeData, curKey, child, level) {\n  const loop = (data) => {\n    if (level < 1 || curKey.length - 3 > level * 2) \n      return;\n\n    data.forEach((item) => {\n      if (curKey.indexOf(item.key) === 0) {\n        if (item.children) {\n          loop(item.children);\n        } else {\n          item.children = child;\n        }\n      }\n    });\n  };\n\n  loop(treeData);\n  setLeaf(treeData, curKey, level);\n}\n\nconst Demo = React.createClass({\n  getInitialState() {\n    return {\n      treeData: [],\n    };\n  },\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({\n        treeData: [\n          { name: 'pNode 01', key: '0-0' },\n          { name: 'pNode 02', key: '0-1' },\n          { name: 'pNode 03', key: '0-2', isLeaf: true },\n        ],\n      });\n    }, 100);\n  },\n\n  onSelect(info) {\n    console.log('selected', info);\n  },\n\n  onLoadData(treeNode) {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        const treeData = [...this.state.treeData];\n        getNewTreeData(treeData, treeNode.props.eventKey, generateTreeNodes(treeNode), 2);\n        this.setState({ treeData });\n        resolve();\n      }, 1000);\n    });\n  },\n\n  render() {\n    const loop = data => data.map((item) => {\n      if (item.children) {\n        return <TreeNode title={item.name} key={item.key}>{loop(item.children)}</TreeNode>;\n      }\n\n      return <TreeNode title={item.name} key={item.key} isLeaf={item.isLeaf} disabled={item.key === '0-0-0'} />;\n    });\n\n    const treeNodes = loop(this.state.treeData);\n    return (\n      <Tree onSelect={this.onSelect} loadData={this.onLoadData}>\n        {treeNodes}\n      </Tree>\n    );\n  },\n});\n\nReactDOM.render(<Demo />, mountNode);\n```","source":"_drafts/tmp-in-weaver-news.md","raw":"title: '''tmp-in-weaver-news'''\ntags:\n  - null\ncategories:\n  - null\ndraft: 'true'\ndate: 2016-11-24 17:39:33\n---\n\n会议图文信息\n```\n/eb/meeting/news/saveOrUpdate\n/eb/meeting/news/delete\n/eb/meeting/news/getEmnById\n/eb/meeting/news/getEmnList\n```\n\n图文里面的议程\n\n```\n/eb/meeting/agenda/saveOrUpdate\n/eb/meeting/agenda/delete\n/eb/meeting/agenda/getEmaById\n/eb/meeting/agenda/getEmaList\n```\n\n> 第一个参数以emn.  \n> 第二个参数以ema.\n\n\n```sql\nCREATE TABLE `eb_meeting_news` (\n  `id` varchar(32) NOT NULL,\n  `meetingid` varchar(32) DEFAULT NULL COMMENT '会议ID',\n \n  `title` varchar(500) DEFAULT NULL COMMENT '标题',\n  `desc` text COMMENT '描述',\n \n  `createtime` datetime DEFAULT NULL COMMENT '创建时间',\n  `updatetime` datetime DEFAULT NULL COMMENT '最后修改时间',\n  `userid` varchar(32) DEFAULT NULL COMMENT '创建人ID',\n  `tenantid` varchar(32) DEFAULT NULL COMMENT '租户ID',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n```\n\n```sql\nCREATE TABLE `eb_meeting_agenda` (\n  `id` varchar(32) NOT NULL,\n  `newsid` varchar(32) DEFAULT NULL COMMENT '会议描述表ID', # 点击的时候 会 携带过来\n  `parentid` varchar(32) DEFAULT NULL COMMENT '上级议程ID', # 添加子议程\n  \n  `title` varchar(500) DEFAULT NULL COMMENT '议程标题',\n  `desc` text COMMENT '议程描述',\n  `starttime` datetime DEFAULT NULL COMMENT '开始时间',\n  `endtime` datetime DEFAULT NULL COMMENT '结束时间',\n  `ifreward` tinyint(4) DEFAULT NULL COMMENT '是否开启悬赏',\n\n  'sort' # 排序\n\n  `userid` varchar(32) DEFAULT NULL COMMENT '创建人ID',\n  `tenantid` varchar(32) DEFAULT NULL COMMENT '租户ID',\n  `createtime` datetime DEFAULT NULL COMMENT '创建时间',\n  `updatetime` datetime DEFAULT NULL COMMENT '最后修改时间',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n\n```\n\n```js\n\nimport { Tree } from 'antd';\nconst TreeNode = Tree.TreeNode;\n\nconst x = 3;\nconst y = 2;\nconst z = 1;\nconst gData = [];\n\n// const generateData = (_level, _preKey, _tns) => {\n//   const preKey = _preKey || '0';\n//   const tns = _tns || gData;\n\n//   const children = [];\n//   for (let i = 0; i < x; i++) {\n//     const key = `${preKey}-${i}`;\n//     tns.push({ title: key, key });\n//     if (i < y) {\n//       children.push(key);\n//     }\n//   }\n//   if (_level < 0) {\n//     return tns;\n//   }\n//   const level = _level - 1;\n//   children.forEach((key, index) => {\n//     tns[index].children = [];\n//     return generateData(level, key, tns[index].children);\n//   });\n// };\n// generateData(z);\n\nconst Demo = React.createClass({\n  getInitialState() {\n    return {\n      gData,\n      expandedKeys: ['0-0', '0-0-0', '0-0-0-0'],\n    };\n  },\n\n  onDragEnter(info) {\n    console.log(info);\n    // expandedKeys 需要受控时设置\n    // this.setState({\n    //   expandedKeys: info.expandedKeys,\n    // });\n  },\n\n  onDrop(info) {\n    console.log(info);\n\n    const dropKey = info.node.props.eventKey;\n    const dragKey = info.dragNode.props.eventKey;\n    \n    const loop = (data, key, callback) => {\n      data.forEach((item, index, arr) => {\n        if (item.key === key) {\n          return callback(item, index, arr);\n        }\n\n        if (item.children) {\n          return loop(item.children, key, callback);\n        }\n      });\n    };\n\n    const data = [...this.state.gData];\n    let dragObj;\n    loop(data, dragKey, (item, index, arr) => {\n      arr.splice(index, 1);\n      dragObj = item;\n    });\n\n    if (info.dropToGap) {\n      let ar;\n      let i;\n      loop(data, dropKey, (item, index, arr) => {\n        ar = arr;\n        i = index;\n      });\n      ar.splice(i, 0, dragObj);\n    } else {\n      loop(data, dropKey, (item) => {\n        item.children = item.children || [];\n        // where to insert 示例添加到尾部，可以是随意位置\n        item.children.push(dragObj);\n      });\n    }\n\n    this.setState({ gData: data });\n  },\n\n  render() {\n    const loop = data => data.map((item) => {\n      if (item.children && item.children.length) {\n        return <TreeNode key={item.key} title={item.key}>{loop(item.children)}</TreeNode>;\n      }\n\n      return <TreeNode key={item.key} title={item.key} />;\n    });\n\n    return (\n      <Tree\n        defaultExpandedKeys={this.state.expandedKeys}\n        draggable\n        onDragEnter={this.onDragEnter}\n        onDrop={this.onDrop}\n      >\n        {loop(this.state.gData)}\n      </Tree>\n    );\n  },\n\n});\n\nReactDOM.render(<Demo />, mountNode);\n```\n\n\n```js\nimport { Tree } from 'antd';\nconst TreeNode = Tree.TreeNode;\n\nfunction generateTreeNodes(treeNode) {\n  const arr = [];\n  const key = treeNode.props.eventKey;\n  for (let i = 0; i < 3; i++) {\n    arr.push({ name: `leaf ${key}-${i}`, key: `${key}-${i}` });\n  }\n  \n  return arr;\n}\n\nfunction setLeaf(treeData, curKey, level) {\n  const loopLeaf = (data, lev) => {\n    const l = lev - 1;\n    data.forEach((item) => {\n      if ((item.key.length > curKey.length) ? item.key.indexOf(curKey) !== 0 :\n        curKey.indexOf(item.key) !== 0) {\n        return;\n      }\n      if (item.children) {\n        loopLeaf(item.children, l);\n      } else if (l < 1) {\n        item.isLeaf = true;\n      }\n    });\n  };\n\n  loopLeaf(treeData, level + 1);\n}\n\nfunction getNewTreeData(treeData, curKey, child, level) {\n  const loop = (data) => {\n    if (level < 1 || curKey.length - 3 > level * 2) \n      return;\n\n    data.forEach((item) => {\n      if (curKey.indexOf(item.key) === 0) {\n        if (item.children) {\n          loop(item.children);\n        } else {\n          item.children = child;\n        }\n      }\n    });\n  };\n\n  loop(treeData);\n  setLeaf(treeData, curKey, level);\n}\n\nconst Demo = React.createClass({\n  getInitialState() {\n    return {\n      treeData: [],\n    };\n  },\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({\n        treeData: [\n          { name: 'pNode 01', key: '0-0' },\n          { name: 'pNode 02', key: '0-1' },\n          { name: 'pNode 03', key: '0-2', isLeaf: true },\n        ],\n      });\n    }, 100);\n  },\n\n  onSelect(info) {\n    console.log('selected', info);\n  },\n\n  onLoadData(treeNode) {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        const treeData = [...this.state.treeData];\n        getNewTreeData(treeData, treeNode.props.eventKey, generateTreeNodes(treeNode), 2);\n        this.setState({ treeData });\n        resolve();\n      }, 1000);\n    });\n  },\n\n  render() {\n    const loop = data => data.map((item) => {\n      if (item.children) {\n        return <TreeNode title={item.name} key={item.key}>{loop(item.children)}</TreeNode>;\n      }\n\n      return <TreeNode title={item.name} key={item.key} isLeaf={item.isLeaf} disabled={item.key === '0-0-0'} />;\n    });\n\n    const treeNodes = loop(this.state.treeData);\n    return (\n      <Tree onSelect={this.onSelect} loadData={this.onLoadData}>\n        {treeNodes}\n      </Tree>\n    );\n  },\n});\n\nReactDOM.render(<Demo />, mountNode);\n```","slug":"tmp-in-weaver-news","published":0,"updated":"2016-12-08T11:48:49.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bpm000k8gnyifep9vok","content":"<p>会议图文信息<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/meeting/news/saveOrUpdate</span>\n<span class=\"line\">/eb/meeting/news/delete</span>\n<span class=\"line\">/eb/meeting/news/getEmnById</span>\n<span class=\"line\">/eb/meeting/news/getEmnList</span>\n</pre></td></tr></table></figure><p></p><p>图文里面的议程</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/meeting/agenda/saveOrUpdate</span>\n<span class=\"line\">/eb/meeting/agenda/delete</span>\n<span class=\"line\">/eb/meeting/agenda/getEmaById</span>\n<span class=\"line\">/eb/meeting/agenda/getEmaList</span>\n</pre></td></tr></table></figure><blockquote><p>第一个参数以emn.<br>第二个参数以ema.</p></blockquote><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`eb_meeting_news`</span> (</span>\n<span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`meetingid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'会议ID'</span>,</span>\n<span class=\"line\"> </span>\n<span class=\"line\">  <span class=\"string\">`title`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'标题'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`desc`</span> <span class=\"built_in\">text</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'描述'</span>,</span>\n<span class=\"line\"> </span>\n<span class=\"line\">  <span class=\"string\">`createtime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`updatetime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'最后修改时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`userid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建人ID'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`tenantid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'租户ID'</span>,</span>\n<span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`id`</span>)</span>\n<span class=\"line\">) <span class=\"keyword\">ENGINE</span>=<span class=\"keyword\">InnoDB</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8</span>\n</pre></td></tr></table></figure><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`eb_meeting_agenda`</span> (</span>\n<span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`newsid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'会议描述表ID'</span>, # 点击的时候 会 携带过来</span>\n<span class=\"line\">  <span class=\"string\">`parentid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'上级议程ID'</span>, # 添加子议程</span>\n<span class=\"line\">  </span>\n<span class=\"line\">  <span class=\"string\">`title`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'议程标题'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`desc`</span> <span class=\"built_in\">text</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'议程描述'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`starttime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'开始时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`endtime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'结束时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`ifreward`</span> tinyint(<span class=\"number\">4</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'是否开启悬赏'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">'sort'</span> # 排序</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">`userid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建人ID'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`tenantid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'租户ID'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`createtime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`updatetime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'最后修改时间'</span>,</span>\n<span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`id`</span>)</span>\n<span class=\"line\">) <span class=\"keyword\">ENGINE</span>=<span class=\"keyword\">InnoDB</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n<span class=\"line\">61</span>\n<span class=\"line\">62</span>\n<span class=\"line\">63</span>\n<span class=\"line\">64</span>\n<span class=\"line\">65</span>\n<span class=\"line\">66</span>\n<span class=\"line\">67</span>\n<span class=\"line\">68</span>\n<span class=\"line\">69</span>\n<span class=\"line\">70</span>\n<span class=\"line\">71</span>\n<span class=\"line\">72</span>\n<span class=\"line\">73</span>\n<span class=\"line\">74</span>\n<span class=\"line\">75</span>\n<span class=\"line\">76</span>\n<span class=\"line\">77</span>\n<span class=\"line\">78</span>\n<span class=\"line\">79</span>\n<span class=\"line\">80</span>\n<span class=\"line\">81</span>\n<span class=\"line\">82</span>\n<span class=\"line\">83</span>\n<span class=\"line\">84</span>\n<span class=\"line\">85</span>\n<span class=\"line\">86</span>\n<span class=\"line\">87</span>\n<span class=\"line\">88</span>\n<span class=\"line\">89</span>\n<span class=\"line\">90</span>\n<span class=\"line\">91</span>\n<span class=\"line\">92</span>\n<span class=\"line\">93</span>\n<span class=\"line\">94</span>\n<span class=\"line\">95</span>\n<span class=\"line\">96</span>\n<span class=\"line\">97</span>\n<span class=\"line\">98</span>\n<span class=\"line\">99</span>\n<span class=\"line\">100</span>\n<span class=\"line\">101</span>\n<span class=\"line\">102</span>\n<span class=\"line\">103</span>\n<span class=\"line\">104</span>\n<span class=\"line\">105</span>\n<span class=\"line\">106</span>\n<span class=\"line\">107</span>\n<span class=\"line\">108</span>\n<span class=\"line\">109</span>\n<span class=\"line\">110</span>\n<span class=\"line\">111</span>\n<span class=\"line\">112</span>\n<span class=\"line\">113</span>\n<span class=\"line\">114</span>\n<span class=\"line\">115</span>\n<span class=\"line\">116</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">import</span> &#123; Tree &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd'</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> TreeNode = Tree.TreeNode;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">const</span> x = <span class=\"number\">3</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> y = <span class=\"number\">2</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> z = <span class=\"number\">1</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> gData = [];</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// const generateData = (_level, _preKey, _tns) =&gt; &#123;</span></span>\n<span class=\"line\"><span class=\"comment\">//   const preKey = _preKey || '0';</span></span>\n<span class=\"line\"><span class=\"comment\">//   const tns = _tns || gData;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">//   const children = [];</span></span>\n<span class=\"line\"><span class=\"comment\">//   for (let i = 0; i &lt; x; i++) &#123;</span></span>\n<span class=\"line\"><span class=\"comment\">//     const key = `$&#123;preKey&#125;-$&#123;i&#125;`;</span></span>\n<span class=\"line\"><span class=\"comment\">//     tns.push(&#123; title: key, key &#125;);</span></span>\n<span class=\"line\"><span class=\"comment\">//     if (i &lt; y) &#123;</span></span>\n<span class=\"line\"><span class=\"comment\">//       children.push(key);</span></span>\n<span class=\"line\"><span class=\"comment\">//     &#125;</span></span>\n<span class=\"line\"><span class=\"comment\">//   &#125;</span></span>\n<span class=\"line\"><span class=\"comment\">//   if (_level &lt; 0) &#123;</span></span>\n<span class=\"line\"><span class=\"comment\">//     return tns;</span></span>\n<span class=\"line\"><span class=\"comment\">//   &#125;</span></span>\n<span class=\"line\"><span class=\"comment\">//   const level = _level - 1;</span></span>\n<span class=\"line\"><span class=\"comment\">//   children.forEach((key, index) =&gt; &#123;</span></span>\n<span class=\"line\"><span class=\"comment\">//     tns[index].children = [];</span></span>\n<span class=\"line\"><span class=\"comment\">//     return generateData(level, key, tns[index].children);</span></span>\n<span class=\"line\"><span class=\"comment\">//   &#125;);</span></span>\n<span class=\"line\"><span class=\"comment\">// &#125;;</span></span>\n<span class=\"line\"><span class=\"comment\">// generateData(z);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">const</span> Demo = React.createClass(&#123;</span>\n<span class=\"line\">  getInitialState() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span>\n<span class=\"line\">      gData,</span>\n<span class=\"line\">      <span class=\"attr\">expandedKeys</span>: [<span class=\"string\">'0-0'</span>, <span class=\"string\">'0-0-0'</span>, <span class=\"string\">'0-0-0-0'</span>],</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  onDragEnter(info) &#123;</span>\n<span class=\"line\">    <span class=\"built_in\">console</span>.log(info);</span>\n<span class=\"line\">    <span class=\"comment\">// expandedKeys 需要受控时设置</span></span>\n<span class=\"line\">    <span class=\"comment\">// this.setState(&#123;</span></span>\n<span class=\"line\">    <span class=\"comment\">//   expandedKeys: info.expandedKeys,</span></span>\n<span class=\"line\">    <span class=\"comment\">// &#125;);</span></span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  onDrop(info) &#123;</span>\n<span class=\"line\">    <span class=\"built_in\">console</span>.log(info);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">const</span> dropKey = info.node.props.eventKey;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> dragKey = info.dragNode.props.eventKey;</span>\n<span class=\"line\">    </span>\n<span class=\"line\">    <span class=\"keyword\">const</span> loop = <span class=\"function\">(<span class=\"params\">data, key, callback</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      data.forEach(<span class=\"function\">(<span class=\"params\">item, index, arr</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">if</span> (item.key === key) &#123;</span>\n<span class=\"line\">          <span class=\"keyword\">return</span> callback(item, index, arr);</span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">        <span class=\"keyword\">if</span> (item.children) &#123;</span>\n<span class=\"line\">          <span class=\"keyword\">return</span> loop(item.children, key, callback);</span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\">      &#125;);</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">const</span> data = [...this.state.gData];</span>\n<span class=\"line\">    <span class=\"keyword\">let</span> dragObj;</span>\n<span class=\"line\">    loop(data, dragKey, (item, index, arr) =&gt; &#123;</span>\n<span class=\"line\">      arr.splice(index, <span class=\"number\">1</span>);</span>\n<span class=\"line\">      dragObj = item;</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (info.dropToGap) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">let</span> ar;</span>\n<span class=\"line\">      <span class=\"keyword\">let</span> i;</span>\n<span class=\"line\">      loop(data, dropKey, (item, index, arr) =&gt; &#123;</span>\n<span class=\"line\">        ar = arr;</span>\n<span class=\"line\">        i = index;</span>\n<span class=\"line\">      &#125;);</span>\n<span class=\"line\">      ar.splice(i, <span class=\"number\">0</span>, dragObj);</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">      loop(data, dropKey, (item) =&gt; &#123;</span>\n<span class=\"line\">        item.children = item.children || [];</span>\n<span class=\"line\">        <span class=\"comment\">// where to insert 示例添加到尾部，可以是随意位置</span></span>\n<span class=\"line\">        item.children.push(dragObj);</span>\n<span class=\"line\">      &#125;);</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.setState(&#123; <span class=\"attr\">gData</span>: data &#125;);</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> loop = <span class=\"function\"><span class=\"params\">data</span> =&gt;</span> data.map(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (item.children &amp;&amp; item.children.length) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">return</span> &lt;TreeNode key=&#123;item.key&#125; title=&#123;item.key&#125;&gt;&#123;loop(item.children)&#125;&lt;/TreeNode&gt;;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">      <span class=\"keyword\">return</span> &lt;TreeNode key=&#123;item.key&#125; title=&#123;item.key&#125; /&gt;;</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    return (</span>\n<span class=\"line\">      &lt;Tree</span>\n<span class=\"line\">        defaultExpandedKeys=&#123;this.state.expandedKeys&#125;</span>\n<span class=\"line\">        draggable</span>\n<span class=\"line\">        onDragEnter=&#123;this.onDragEnter&#125;</span>\n<span class=\"line\">        onDrop=&#123;this.onDrop&#125;</span>\n<span class=\"line\">      &gt;</span>\n<span class=\"line\">        &#123;loop(this.state.gData)&#125;</span>\n<span class=\"line\">      &lt;/Tree&gt;</span>\n<span class=\"line\">    );</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">ReactDOM.render(&lt;Demo /&gt;, mountNode);</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n<span class=\"line\">61</span>\n<span class=\"line\">62</span>\n<span class=\"line\">63</span>\n<span class=\"line\">64</span>\n<span class=\"line\">65</span>\n<span class=\"line\">66</span>\n<span class=\"line\">67</span>\n<span class=\"line\">68</span>\n<span class=\"line\">69</span>\n<span class=\"line\">70</span>\n<span class=\"line\">71</span>\n<span class=\"line\">72</span>\n<span class=\"line\">73</span>\n<span class=\"line\">74</span>\n<span class=\"line\">75</span>\n<span class=\"line\">76</span>\n<span class=\"line\">77</span>\n<span class=\"line\">78</span>\n<span class=\"line\">79</span>\n<span class=\"line\">80</span>\n<span class=\"line\">81</span>\n<span class=\"line\">82</span>\n<span class=\"line\">83</span>\n<span class=\"line\">84</span>\n<span class=\"line\">85</span>\n<span class=\"line\">86</span>\n<span class=\"line\">87</span>\n<span class=\"line\">88</span>\n<span class=\"line\">89</span>\n<span class=\"line\">90</span>\n<span class=\"line\">91</span>\n<span class=\"line\">92</span>\n<span class=\"line\">93</span>\n<span class=\"line\">94</span>\n<span class=\"line\">95</span>\n<span class=\"line\">96</span>\n<span class=\"line\">97</span>\n<span class=\"line\">98</span>\n<span class=\"line\">99</span>\n<span class=\"line\">100</span>\n<span class=\"line\">101</span>\n<span class=\"line\">102</span>\n<span class=\"line\">103</span>\n<span class=\"line\">104</span>\n<span class=\"line\">105</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Tree &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd'</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> TreeNode = Tree.TreeNode;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">generateTreeNodes</span>(<span class=\"params\">treeNode</span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> arr = [];</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> key = treeNode.props.eventKey;</span>\n<span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++) &#123;</span>\n<span class=\"line\">    arr.push(&#123; <span class=\"attr\">name</span>: <span class=\"string\">`leaf <span class=\"subst\">$&#123;key&#125;</span>-<span class=\"subst\">$&#123;i&#125;</span>`</span>, <span class=\"attr\">key</span>: <span class=\"string\">`<span class=\"subst\">$&#123;key&#125;</span>-<span class=\"subst\">$&#123;i&#125;</span>`</span> &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  </span>\n<span class=\"line\">  <span class=\"keyword\">return</span> arr;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setLeaf</span>(<span class=\"params\">treeData, curKey, level</span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> loopLeaf = <span class=\"function\">(<span class=\"params\">data, lev</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> l = lev - <span class=\"number\">1</span>;</span>\n<span class=\"line\">    data.forEach(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> ((item.key.length &gt; curKey.length) ? item.key.indexOf(curKey) !== <span class=\"number\">0</span> :</span>\n<span class=\"line\">        curKey.indexOf(item.key) !== <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">return</span>;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (item.children) &#123;</span>\n<span class=\"line\">        loopLeaf(item.children, l);</span>\n<span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (l &lt; <span class=\"number\">1</span>) &#123;</span>\n<span class=\"line\">        item.isLeaf = <span class=\"literal\">true</span>;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  loopLeaf(treeData, level + <span class=\"number\">1</span>);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getNewTreeData</span>(<span class=\"params\">treeData, curKey, child, level</span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> loop = <span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (level &lt; <span class=\"number\">1</span> || curKey.length - <span class=\"number\">3</span> &gt; level * <span class=\"number\">2</span>) </span>\n<span class=\"line\">      <span class=\"keyword\">return</span>;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    data.forEach(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (curKey.indexOf(item.key) === <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">if</span> (item.children) &#123;</span>\n<span class=\"line\">          loop(item.children);</span>\n<span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">          item.children = child;</span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  loop(treeData);</span>\n<span class=\"line\">  setLeaf(treeData, curKey, level);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">const</span> Demo = React.createClass(&#123;</span>\n<span class=\"line\">  getInitialState() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span>\n<span class=\"line\">      <span class=\"attr\">treeData</span>: [],</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  componentDidMount() &#123;</span>\n<span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.setState(&#123;</span>\n<span class=\"line\">        <span class=\"attr\">treeData</span>: [</span>\n<span class=\"line\">          &#123; <span class=\"attr\">name</span>: <span class=\"string\">'pNode 01'</span>, <span class=\"attr\">key</span>: <span class=\"string\">'0-0'</span> &#125;,</span>\n<span class=\"line\">          &#123; <span class=\"attr\">name</span>: <span class=\"string\">'pNode 02'</span>, <span class=\"attr\">key</span>: <span class=\"string\">'0-1'</span> &#125;,</span>\n<span class=\"line\">          &#123; <span class=\"attr\">name</span>: <span class=\"string\">'pNode 03'</span>, <span class=\"attr\">key</span>: <span class=\"string\">'0-2'</span>, <span class=\"attr\">isLeaf</span>: <span class=\"literal\">true</span> &#125;,</span>\n<span class=\"line\">        ],</span>\n<span class=\"line\">      &#125;);</span>\n<span class=\"line\">    &#125;, <span class=\"number\">100</span>);</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  onSelect(info) &#123;</span>\n<span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'selected'</span>, info);</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  onLoadData(treeNode) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">const</span> treeData = [...this.state.treeData];</span>\n<span class=\"line\">        getNewTreeData(treeData, treeNode.props.eventKey, generateTreeNodes(treeNode), <span class=\"number\">2</span>);</span>\n<span class=\"line\">        <span class=\"keyword\">this</span>.setState(&#123; treeData &#125;);</span>\n<span class=\"line\">        resolve();</span>\n<span class=\"line\">      &#125;, <span class=\"number\">1000</span>);</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> loop = <span class=\"function\"><span class=\"params\">data</span> =&gt;</span> data.map(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (item.children) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">return</span> &lt;TreeNode title=&#123;item.name&#125; key=&#123;item.key&#125;&gt;&#123;loop(item.children)&#125;&lt;/TreeNode&gt;;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">      <span class=\"keyword\">return</span> &lt;TreeNode title=&#123;item.name&#125; key=&#123;item.key&#125; isLeaf=&#123;item.isLeaf&#125; disabled=&#123;item.key === '0-0-0'&#125; /&gt;;</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    const treeNodes = loop(this.state.treeData);</span>\n<span class=\"line\">    return (</span>\n<span class=\"line\">      &lt;Tree onSelect=&#123;this.onSelect&#125; loadData=&#123;this.onLoadData&#125;&gt;</span>\n<span class=\"line\">        &#123;treeNodes&#125;</span>\n<span class=\"line\">      &lt;/Tree&gt;</span>\n<span class=\"line\">    );</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">ReactDOM.render(&lt;Demo /&gt;, mountNode);</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<p>会议图文信息<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/meeting/news/saveOrUpdate</span>\n<span class=\"line\">/eb/meeting/news/delete</span>\n<span class=\"line\">/eb/meeting/news/getEmnById</span>\n<span class=\"line\">/eb/meeting/news/getEmnList</span>\n</pre></td></tr></table></figure><p></p><p>图文里面的议程</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/meeting/agenda/saveOrUpdate</span>\n<span class=\"line\">/eb/meeting/agenda/delete</span>\n<span class=\"line\">/eb/meeting/agenda/getEmaById</span>\n<span class=\"line\">/eb/meeting/agenda/getEmaList</span>\n</pre></td></tr></table></figure><blockquote><p>第一个参数以emn.<br>第二个参数以ema.</p></blockquote><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`eb_meeting_news`</span> (</span>\n<span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`meetingid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'会议ID'</span>,</span>\n<span class=\"line\"> </span>\n<span class=\"line\">  <span class=\"string\">`title`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'标题'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`desc`</span> <span class=\"built_in\">text</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'描述'</span>,</span>\n<span class=\"line\"> </span>\n<span class=\"line\">  <span class=\"string\">`createtime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`updatetime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'最后修改时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`userid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建人ID'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`tenantid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'租户ID'</span>,</span>\n<span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`id`</span>)</span>\n<span class=\"line\">) <span class=\"keyword\">ENGINE</span>=<span class=\"keyword\">InnoDB</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8</span>\n</pre></td></tr></table></figure><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`eb_meeting_agenda`</span> (</span>\n<span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`newsid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'会议描述表ID'</span>, # 点击的时候 会 携带过来</span>\n<span class=\"line\">  <span class=\"string\">`parentid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'上级议程ID'</span>, # 添加子议程</span>\n<span class=\"line\">  </span>\n<span class=\"line\">  <span class=\"string\">`title`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'议程标题'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`desc`</span> <span class=\"built_in\">text</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'议程描述'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`starttime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'开始时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`endtime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'结束时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`ifreward`</span> tinyint(<span class=\"number\">4</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'是否开启悬赏'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">'sort'</span> # 排序</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"string\">`userid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建人ID'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`tenantid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'租户ID'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`createtime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'创建时间'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`updatetime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'最后修改时间'</span>,</span>\n<span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`id`</span>)</span>\n<span class=\"line\">) <span class=\"keyword\">ENGINE</span>=<span class=\"keyword\">InnoDB</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n<span class=\"line\">61</span>\n<span class=\"line\">62</span>\n<span class=\"line\">63</span>\n<span class=\"line\">64</span>\n<span class=\"line\">65</span>\n<span class=\"line\">66</span>\n<span class=\"line\">67</span>\n<span class=\"line\">68</span>\n<span class=\"line\">69</span>\n<span class=\"line\">70</span>\n<span class=\"line\">71</span>\n<span class=\"line\">72</span>\n<span class=\"line\">73</span>\n<span class=\"line\">74</span>\n<span class=\"line\">75</span>\n<span class=\"line\">76</span>\n<span class=\"line\">77</span>\n<span class=\"line\">78</span>\n<span class=\"line\">79</span>\n<span class=\"line\">80</span>\n<span class=\"line\">81</span>\n<span class=\"line\">82</span>\n<span class=\"line\">83</span>\n<span class=\"line\">84</span>\n<span class=\"line\">85</span>\n<span class=\"line\">86</span>\n<span class=\"line\">87</span>\n<span class=\"line\">88</span>\n<span class=\"line\">89</span>\n<span class=\"line\">90</span>\n<span class=\"line\">91</span>\n<span class=\"line\">92</span>\n<span class=\"line\">93</span>\n<span class=\"line\">94</span>\n<span class=\"line\">95</span>\n<span class=\"line\">96</span>\n<span class=\"line\">97</span>\n<span class=\"line\">98</span>\n<span class=\"line\">99</span>\n<span class=\"line\">100</span>\n<span class=\"line\">101</span>\n<span class=\"line\">102</span>\n<span class=\"line\">103</span>\n<span class=\"line\">104</span>\n<span class=\"line\">105</span>\n<span class=\"line\">106</span>\n<span class=\"line\">107</span>\n<span class=\"line\">108</span>\n<span class=\"line\">109</span>\n<span class=\"line\">110</span>\n<span class=\"line\">111</span>\n<span class=\"line\">112</span>\n<span class=\"line\">113</span>\n<span class=\"line\">114</span>\n<span class=\"line\">115</span>\n<span class=\"line\">116</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">import</span> &#123; Tree &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd'</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> TreeNode = Tree.TreeNode;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">const</span> x = <span class=\"number\">3</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> y = <span class=\"number\">2</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> z = <span class=\"number\">1</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> gData = [];</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// const generateData = (_level, _preKey, _tns) =&gt; &#123;</span></span>\n<span class=\"line\"><span class=\"comment\">//   const preKey = _preKey || '0';</span></span>\n<span class=\"line\"><span class=\"comment\">//   const tns = _tns || gData;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">//   const children = [];</span></span>\n<span class=\"line\"><span class=\"comment\">//   for (let i = 0; i &lt; x; i++) &#123;</span></span>\n<span class=\"line\"><span class=\"comment\">//     const key = `$&#123;preKey&#125;-$&#123;i&#125;`;</span></span>\n<span class=\"line\"><span class=\"comment\">//     tns.push(&#123; title: key, key &#125;);</span></span>\n<span class=\"line\"><span class=\"comment\">//     if (i &lt; y) &#123;</span></span>\n<span class=\"line\"><span class=\"comment\">//       children.push(key);</span></span>\n<span class=\"line\"><span class=\"comment\">//     &#125;</span></span>\n<span class=\"line\"><span class=\"comment\">//   &#125;</span></span>\n<span class=\"line\"><span class=\"comment\">//   if (_level &lt; 0) &#123;</span></span>\n<span class=\"line\"><span class=\"comment\">//     return tns;</span></span>\n<span class=\"line\"><span class=\"comment\">//   &#125;</span></span>\n<span class=\"line\"><span class=\"comment\">//   const level = _level - 1;</span></span>\n<span class=\"line\"><span class=\"comment\">//   children.forEach((key, index) =&gt; &#123;</span></span>\n<span class=\"line\"><span class=\"comment\">//     tns[index].children = [];</span></span>\n<span class=\"line\"><span class=\"comment\">//     return generateData(level, key, tns[index].children);</span></span>\n<span class=\"line\"><span class=\"comment\">//   &#125;);</span></span>\n<span class=\"line\"><span class=\"comment\">// &#125;;</span></span>\n<span class=\"line\"><span class=\"comment\">// generateData(z);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">const</span> Demo = React.createClass(&#123;</span>\n<span class=\"line\">  getInitialState() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span>\n<span class=\"line\">      gData,</span>\n<span class=\"line\">      <span class=\"attr\">expandedKeys</span>: [<span class=\"string\">'0-0'</span>, <span class=\"string\">'0-0-0'</span>, <span class=\"string\">'0-0-0-0'</span>],</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  onDragEnter(info) &#123;</span>\n<span class=\"line\">    <span class=\"built_in\">console</span>.log(info);</span>\n<span class=\"line\">    <span class=\"comment\">// expandedKeys 需要受控时设置</span></span>\n<span class=\"line\">    <span class=\"comment\">// this.setState(&#123;</span></span>\n<span class=\"line\">    <span class=\"comment\">//   expandedKeys: info.expandedKeys,</span></span>\n<span class=\"line\">    <span class=\"comment\">// &#125;);</span></span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  onDrop(info) &#123;</span>\n<span class=\"line\">    <span class=\"built_in\">console</span>.log(info);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">const</span> dropKey = info.node.props.eventKey;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> dragKey = info.dragNode.props.eventKey;</span>\n<span class=\"line\">    </span>\n<span class=\"line\">    <span class=\"keyword\">const</span> loop = <span class=\"function\">(<span class=\"params\">data, key, callback</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      data.forEach(<span class=\"function\">(<span class=\"params\">item, index, arr</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">if</span> (item.key === key) &#123;</span>\n<span class=\"line\">          <span class=\"keyword\">return</span> callback(item, index, arr);</span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">        <span class=\"keyword\">if</span> (item.children) &#123;</span>\n<span class=\"line\">          <span class=\"keyword\">return</span> loop(item.children, key, callback);</span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\">      &#125;);</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">const</span> data = [...this.state.gData];</span>\n<span class=\"line\">    <span class=\"keyword\">let</span> dragObj;</span>\n<span class=\"line\">    loop(data, dragKey, (item, index, arr) =&gt; &#123;</span>\n<span class=\"line\">      arr.splice(index, <span class=\"number\">1</span>);</span>\n<span class=\"line\">      dragObj = item;</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (info.dropToGap) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">let</span> ar;</span>\n<span class=\"line\">      <span class=\"keyword\">let</span> i;</span>\n<span class=\"line\">      loop(data, dropKey, (item, index, arr) =&gt; &#123;</span>\n<span class=\"line\">        ar = arr;</span>\n<span class=\"line\">        i = index;</span>\n<span class=\"line\">      &#125;);</span>\n<span class=\"line\">      ar.splice(i, <span class=\"number\">0</span>, dragObj);</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">      loop(data, dropKey, (item) =&gt; &#123;</span>\n<span class=\"line\">        item.children = item.children || [];</span>\n<span class=\"line\">        <span class=\"comment\">// where to insert 示例添加到尾部，可以是随意位置</span></span>\n<span class=\"line\">        item.children.push(dragObj);</span>\n<span class=\"line\">      &#125;);</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.setState(&#123; <span class=\"attr\">gData</span>: data &#125;);</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> loop = <span class=\"function\"><span class=\"params\">data</span> =&gt;</span> data.map(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (item.children &amp;&amp; item.children.length) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">return</span> &lt;TreeNode key=&#123;item.key&#125; title=&#123;item.key&#125;&gt;&#123;loop(item.children)&#125;&lt;/TreeNode&gt;;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">      <span class=\"keyword\">return</span> &lt;TreeNode key=&#123;item.key&#125; title=&#123;item.key&#125; /&gt;;</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    return (</span>\n<span class=\"line\">      &lt;Tree</span>\n<span class=\"line\">        defaultExpandedKeys=&#123;this.state.expandedKeys&#125;</span>\n<span class=\"line\">        draggable</span>\n<span class=\"line\">        onDragEnter=&#123;this.onDragEnter&#125;</span>\n<span class=\"line\">        onDrop=&#123;this.onDrop&#125;</span>\n<span class=\"line\">      &gt;</span>\n<span class=\"line\">        &#123;loop(this.state.gData)&#125;</span>\n<span class=\"line\">      &lt;/Tree&gt;</span>\n<span class=\"line\">    );</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">ReactDOM.render(&lt;Demo /&gt;, mountNode);</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n<span class=\"line\">61</span>\n<span class=\"line\">62</span>\n<span class=\"line\">63</span>\n<span class=\"line\">64</span>\n<span class=\"line\">65</span>\n<span class=\"line\">66</span>\n<span class=\"line\">67</span>\n<span class=\"line\">68</span>\n<span class=\"line\">69</span>\n<span class=\"line\">70</span>\n<span class=\"line\">71</span>\n<span class=\"line\">72</span>\n<span class=\"line\">73</span>\n<span class=\"line\">74</span>\n<span class=\"line\">75</span>\n<span class=\"line\">76</span>\n<span class=\"line\">77</span>\n<span class=\"line\">78</span>\n<span class=\"line\">79</span>\n<span class=\"line\">80</span>\n<span class=\"line\">81</span>\n<span class=\"line\">82</span>\n<span class=\"line\">83</span>\n<span class=\"line\">84</span>\n<span class=\"line\">85</span>\n<span class=\"line\">86</span>\n<span class=\"line\">87</span>\n<span class=\"line\">88</span>\n<span class=\"line\">89</span>\n<span class=\"line\">90</span>\n<span class=\"line\">91</span>\n<span class=\"line\">92</span>\n<span class=\"line\">93</span>\n<span class=\"line\">94</span>\n<span class=\"line\">95</span>\n<span class=\"line\">96</span>\n<span class=\"line\">97</span>\n<span class=\"line\">98</span>\n<span class=\"line\">99</span>\n<span class=\"line\">100</span>\n<span class=\"line\">101</span>\n<span class=\"line\">102</span>\n<span class=\"line\">103</span>\n<span class=\"line\">104</span>\n<span class=\"line\">105</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Tree &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd'</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> TreeNode = Tree.TreeNode;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">generateTreeNodes</span>(<span class=\"params\">treeNode</span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> arr = [];</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> key = treeNode.props.eventKey;</span>\n<span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++) &#123;</span>\n<span class=\"line\">    arr.push(&#123; <span class=\"attr\">name</span>: <span class=\"string\">`leaf <span class=\"subst\">$&#123;key&#125;</span>-<span class=\"subst\">$&#123;i&#125;</span>`</span>, <span class=\"attr\">key</span>: <span class=\"string\">`<span class=\"subst\">$&#123;key&#125;</span>-<span class=\"subst\">$&#123;i&#125;</span>`</span> &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  </span>\n<span class=\"line\">  <span class=\"keyword\">return</span> arr;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setLeaf</span>(<span class=\"params\">treeData, curKey, level</span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> loopLeaf = <span class=\"function\">(<span class=\"params\">data, lev</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> l = lev - <span class=\"number\">1</span>;</span>\n<span class=\"line\">    data.forEach(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> ((item.key.length &gt; curKey.length) ? item.key.indexOf(curKey) !== <span class=\"number\">0</span> :</span>\n<span class=\"line\">        curKey.indexOf(item.key) !== <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">return</span>;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (item.children) &#123;</span>\n<span class=\"line\">        loopLeaf(item.children, l);</span>\n<span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (l &lt; <span class=\"number\">1</span>) &#123;</span>\n<span class=\"line\">        item.isLeaf = <span class=\"literal\">true</span>;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  loopLeaf(treeData, level + <span class=\"number\">1</span>);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getNewTreeData</span>(<span class=\"params\">treeData, curKey, child, level</span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> loop = <span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (level &lt; <span class=\"number\">1</span> || curKey.length - <span class=\"number\">3</span> &gt; level * <span class=\"number\">2</span>) </span>\n<span class=\"line\">      <span class=\"keyword\">return</span>;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    data.forEach(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (curKey.indexOf(item.key) === <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">if</span> (item.children) &#123;</span>\n<span class=\"line\">          loop(item.children);</span>\n<span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">          item.children = child;</span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  loop(treeData);</span>\n<span class=\"line\">  setLeaf(treeData, curKey, level);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">const</span> Demo = React.createClass(&#123;</span>\n<span class=\"line\">  getInitialState() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span>\n<span class=\"line\">      <span class=\"attr\">treeData</span>: [],</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  componentDidMount() &#123;</span>\n<span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.setState(&#123;</span>\n<span class=\"line\">        <span class=\"attr\">treeData</span>: [</span>\n<span class=\"line\">          &#123; <span class=\"attr\">name</span>: <span class=\"string\">'pNode 01'</span>, <span class=\"attr\">key</span>: <span class=\"string\">'0-0'</span> &#125;,</span>\n<span class=\"line\">          &#123; <span class=\"attr\">name</span>: <span class=\"string\">'pNode 02'</span>, <span class=\"attr\">key</span>: <span class=\"string\">'0-1'</span> &#125;,</span>\n<span class=\"line\">          &#123; <span class=\"attr\">name</span>: <span class=\"string\">'pNode 03'</span>, <span class=\"attr\">key</span>: <span class=\"string\">'0-2'</span>, <span class=\"attr\">isLeaf</span>: <span class=\"literal\">true</span> &#125;,</span>\n<span class=\"line\">        ],</span>\n<span class=\"line\">      &#125;);</span>\n<span class=\"line\">    &#125;, <span class=\"number\">100</span>);</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  onSelect(info) &#123;</span>\n<span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'selected'</span>, info);</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  onLoadData(treeNode) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">const</span> treeData = [...this.state.treeData];</span>\n<span class=\"line\">        getNewTreeData(treeData, treeNode.props.eventKey, generateTreeNodes(treeNode), <span class=\"number\">2</span>);</span>\n<span class=\"line\">        <span class=\"keyword\">this</span>.setState(&#123; treeData &#125;);</span>\n<span class=\"line\">        resolve();</span>\n<span class=\"line\">      &#125;, <span class=\"number\">1000</span>);</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> loop = <span class=\"function\"><span class=\"params\">data</span> =&gt;</span> data.map(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (item.children) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">return</span> &lt;TreeNode title=&#123;item.name&#125; key=&#123;item.key&#125;&gt;&#123;loop(item.children)&#125;&lt;/TreeNode&gt;;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">      <span class=\"keyword\">return</span> &lt;TreeNode title=&#123;item.name&#125; key=&#123;item.key&#125; isLeaf=&#123;item.isLeaf&#125; disabled=&#123;item.key === '0-0-0'&#125; /&gt;;</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    const treeNodes = loop(this.state.treeData);</span>\n<span class=\"line\">    return (</span>\n<span class=\"line\">      &lt;Tree onSelect=&#123;this.onSelect&#125; loadData=&#123;this.onLoadData&#125;&gt;</span>\n<span class=\"line\">        &#123;treeNodes&#125;</span>\n<span class=\"line\">      &lt;/Tree&gt;</span>\n<span class=\"line\">    );</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">ReactDOM.render(&lt;Demo /&gt;, mountNode);</span>\n</pre></td></tr></table></figure>"},{"title":"'tmp-in-weaver-tdwall'","draft":"true","date":"2016-11-24T09:39:33.000Z","_content":"\n```sql\n\n# logo\nid              varchar(32) NOT NULL\ntdwallid        varchar(32) NULL\n\nbackgroundImg   varchar(32) NULL 背景图片\n\nshowTime        tinyint(4)  NULL 头像显示时间\nfillSpeed       tinyint(4)  NULL 头像填充速度 # 1 马上完成 2 加速 3 正常\n# 头像显示方向暂时不要\n\nisRepeatFill    tinyint(4)  NULL 是否重复填充\nrepeatFillTime  tinyint(4)  NULL 重复填充时间,单位分钟,在该时间后开始重复填充\n\ngridSize        tinyint(4)  NULL 网格大小\nmaxX            tinyint(4)  NULL 横向最大多少格子\nmaxY            tinyint(4)  NULL 纵向最大多少格子\ncoordinates     text        NULL logo 坐标数组\n\n\nisOpenXM        tinyint(4)  NULL 是否开启谢幕 # 0 否 1 是\ncurtainImageURL varchar(32) NULL 谢幕图片\n\n```\n\n```sql\n# 3d\n\nid                varchar(32) NOT NULL\ntdwallid          varchar(32) NULL 活动ID\n\nbgType            tinyint(4)  NULL 0: 使用颜色作为背景图片 10: 使用图片作为背景图片\nbgImage           varchar(32) NULL BGType为 10 时 取该值作为背景图片\nbgColor           varchar(30) NULL BGType为 0 时取该值作为背景颜色 默认为 #000\n\nshowTypes         varchar(50) NULL 图片动态组成的图案 0:球状 10:螺旋(圆柱) 20:网格(立方体) 30:自定义logo\nchangeSecond      tinyint(4)  NULL 动态图案切换时间，单位：秒\n\n# 绘制 logo\nlogoSetting            text        NULL 自定义的logo坐标数组\nlogoBackgroundImageURL varchar(32) NULL 显示自定义logo时的背景图片,后台设置使用 -- 弹出框中的上传\n\nlogoType          tinyint(4)  NULL 缺省小图片的样式 0：半透明背景 10：背景图片\ncustomImage       varchar(32) NULL LogoType 为 10 时取该值作为背景图片\n\nisRepeatFill      tinyint(4)  NULL 是否开启图片重复填充\nbeginTime         datetime    NULL 重复填充开始时间\n\nareaSize          smallint(8) NULL 图片运行远近0-4000\n\n# 后台用\ngridSize          tinyint(4)  NULL 绘制的logo的列数,后台用\nisRepeatShow      tinyint(4)  NULL 是否开启图片循环展示到前台\n```\n\n\n```\n/eb/tdwall/setting/logo/getSettingById\n/eb/tdwall/setting/td/getSettingById\n```\n\n```sql\n-- default\nid              varchar(32)  NOT NULL\ntdwallid        varchar(32)  NULL\n\n-- title\ntitletype       tinyint(4)   NULL 0 使用文字 1 使用图片\ntitle           varchar(500) NULL 标题文字\nfontsize        tinyint(4)   NULL 文字字体大小, 单位 PX\nfontcolor       varchar(20)  NULL 字体颜色\n-- or \ntitleimage      varchar(32)  NULL 标题图片\n\n-- background\nbackgroundtype  tinyint(4)   NULL 0 使用背景颜色 1 使用背景图片\nbackgroundimg   varchar(32)  NULL 背景图片\nbackgroundcolor varchar(20)  NULL 背景颜色\n\n-- qrcode\nifshowqrcode    tinyint(4)   NULL 0 不显示签到二维码 1 显示二维码\n\nencryptname     tinyint(4)   DEFAULT 0 COMMENT '名字是否加密处理0否1是',\nnamecolor       varchar(20)  DEFAULT '#fff' COMMENT '显示的名字和时间颜色',\n  \n```\n\n```\n/eb/tdwall/setting/td/saveOrUpdate\n/eb/tdwall/setting/logo/saveOrUpdate\n/eb/tdwall/setting/default/saveOrUpdate\n```\n\n\n```\n  onGoToScreen(id) {\n    window.open(`${contextPath}/eb/lottery/activity/bigscreen?activityId=${id}`);\n  },\n```","source":"_drafts/tmp-in-weaver-tdwall.md","raw":"title: '''tmp-in-weaver-tdwall'''\ntags:\n  - null\ncategories:\n  - null\ndraft: 'true'\ndate: 2016-11-24 17:39:33\n---\n\n```sql\n\n# logo\nid              varchar(32) NOT NULL\ntdwallid        varchar(32) NULL\n\nbackgroundImg   varchar(32) NULL 背景图片\n\nshowTime        tinyint(4)  NULL 头像显示时间\nfillSpeed       tinyint(4)  NULL 头像填充速度 # 1 马上完成 2 加速 3 正常\n# 头像显示方向暂时不要\n\nisRepeatFill    tinyint(4)  NULL 是否重复填充\nrepeatFillTime  tinyint(4)  NULL 重复填充时间,单位分钟,在该时间后开始重复填充\n\ngridSize        tinyint(4)  NULL 网格大小\nmaxX            tinyint(4)  NULL 横向最大多少格子\nmaxY            tinyint(4)  NULL 纵向最大多少格子\ncoordinates     text        NULL logo 坐标数组\n\n\nisOpenXM        tinyint(4)  NULL 是否开启谢幕 # 0 否 1 是\ncurtainImageURL varchar(32) NULL 谢幕图片\n\n```\n\n```sql\n# 3d\n\nid                varchar(32) NOT NULL\ntdwallid          varchar(32) NULL 活动ID\n\nbgType            tinyint(4)  NULL 0: 使用颜色作为背景图片 10: 使用图片作为背景图片\nbgImage           varchar(32) NULL BGType为 10 时 取该值作为背景图片\nbgColor           varchar(30) NULL BGType为 0 时取该值作为背景颜色 默认为 #000\n\nshowTypes         varchar(50) NULL 图片动态组成的图案 0:球状 10:螺旋(圆柱) 20:网格(立方体) 30:自定义logo\nchangeSecond      tinyint(4)  NULL 动态图案切换时间，单位：秒\n\n# 绘制 logo\nlogoSetting            text        NULL 自定义的logo坐标数组\nlogoBackgroundImageURL varchar(32) NULL 显示自定义logo时的背景图片,后台设置使用 -- 弹出框中的上传\n\nlogoType          tinyint(4)  NULL 缺省小图片的样式 0：半透明背景 10：背景图片\ncustomImage       varchar(32) NULL LogoType 为 10 时取该值作为背景图片\n\nisRepeatFill      tinyint(4)  NULL 是否开启图片重复填充\nbeginTime         datetime    NULL 重复填充开始时间\n\nareaSize          smallint(8) NULL 图片运行远近0-4000\n\n# 后台用\ngridSize          tinyint(4)  NULL 绘制的logo的列数,后台用\nisRepeatShow      tinyint(4)  NULL 是否开启图片循环展示到前台\n```\n\n\n```\n/eb/tdwall/setting/logo/getSettingById\n/eb/tdwall/setting/td/getSettingById\n```\n\n```sql\n-- default\nid              varchar(32)  NOT NULL\ntdwallid        varchar(32)  NULL\n\n-- title\ntitletype       tinyint(4)   NULL 0 使用文字 1 使用图片\ntitle           varchar(500) NULL 标题文字\nfontsize        tinyint(4)   NULL 文字字体大小, 单位 PX\nfontcolor       varchar(20)  NULL 字体颜色\n-- or \ntitleimage      varchar(32)  NULL 标题图片\n\n-- background\nbackgroundtype  tinyint(4)   NULL 0 使用背景颜色 1 使用背景图片\nbackgroundimg   varchar(32)  NULL 背景图片\nbackgroundcolor varchar(20)  NULL 背景颜色\n\n-- qrcode\nifshowqrcode    tinyint(4)   NULL 0 不显示签到二维码 1 显示二维码\n\nencryptname     tinyint(4)   DEFAULT 0 COMMENT '名字是否加密处理0否1是',\nnamecolor       varchar(20)  DEFAULT '#fff' COMMENT '显示的名字和时间颜色',\n  \n```\n\n```\n/eb/tdwall/setting/td/saveOrUpdate\n/eb/tdwall/setting/logo/saveOrUpdate\n/eb/tdwall/setting/default/saveOrUpdate\n```\n\n\n```\n  onGoToScreen(id) {\n    window.open(`${contextPath}/eb/lottery/activity/bigscreen?activityId=${id}`);\n  },\n```","slug":"tmp-in-weaver-tdwall","published":0,"updated":"2016-12-30T02:44:45.901Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bpn000m8gnyw906botk","content":"<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\"># logo</span>\n<span class=\"line\">id              varchar(32) NOT NULL</span>\n<span class=\"line\">tdwallid        varchar(32) NULL</span>\n<span class=\"line\"></span>\n<span class=\"line\">backgroundImg   varchar(32) NULL 背景图片</span>\n<span class=\"line\"></span>\n<span class=\"line\">showTime        tinyint(4)  NULL 头像显示时间</span>\n<span class=\"line\">fillSpeed       tinyint(4)  NULL 头像填充速度 # 1 马上完成 2 加速 3 正常</span>\n<span class=\"line\"># 头像显示方向暂时不要</span>\n<span class=\"line\"></span>\n<span class=\"line\">isRepeatFill    tinyint(4)  NULL 是否重复填充</span>\n<span class=\"line\">repeatFillTime  tinyint(4)  NULL 重复填充时间,单位分钟,在该时间后开始重复填充</span>\n<span class=\"line\"></span>\n<span class=\"line\">gridSize        tinyint(4)  NULL 网格大小</span>\n<span class=\"line\">maxX            tinyint(4)  NULL 横向最大多少格子</span>\n<span class=\"line\">maxY            tinyint(4)  NULL 纵向最大多少格子</span>\n<span class=\"line\">coordinates     text        NULL logo 坐标数组</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\">isOpenXM        tinyint(4)  NULL 是否开启谢幕 # 0 否 1 是</span>\n<span class=\"line\">curtainImageURL varchar(32) NULL 谢幕图片</span>\n</pre></td></tr></table></figure><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"># 3d</span>\n<span class=\"line\"></span>\n<span class=\"line\">id                varchar(32) NOT NULL</span>\n<span class=\"line\">tdwallid          varchar(32) NULL 活动ID</span>\n<span class=\"line\"></span>\n<span class=\"line\">bgType            tinyint(4)  NULL 0: 使用颜色作为背景图片 10: 使用图片作为背景图片</span>\n<span class=\"line\">bgImage           varchar(32) NULL BGType为 10 时 取该值作为背景图片</span>\n<span class=\"line\">bgColor           varchar(30) NULL BGType为 0 时取该值作为背景颜色 默认为 #000</span>\n<span class=\"line\"></span>\n<span class=\"line\">showTypes         varchar(50) NULL 图片动态组成的图案 0:球状 10:螺旋(圆柱) 20:网格(立方体) 30:自定义logo</span>\n<span class=\"line\">changeSecond      tinyint(4)  NULL 动态图案切换时间，单位：秒</span>\n<span class=\"line\"></span>\n<span class=\"line\"># 绘制 logo</span>\n<span class=\"line\">logoSetting            text        NULL 自定义的logo坐标数组</span>\n<span class=\"line\">logoBackgroundImageURL varchar(32) NULL 显示自定义logo时的背景图片,后台设置使用 -- 弹出框中的上传</span>\n<span class=\"line\"></span>\n<span class=\"line\">logoType          tinyint(4)  NULL 缺省小图片的样式 0：半透明背景 10：背景图片</span>\n<span class=\"line\">customImage       varchar(32) NULL LogoType 为 10 时取该值作为背景图片</span>\n<span class=\"line\"></span>\n<span class=\"line\">isRepeatFill      tinyint(4)  NULL 是否开启图片重复填充</span>\n<span class=\"line\">beginTime         datetime    NULL 重复填充开始时间</span>\n<span class=\"line\"></span>\n<span class=\"line\">areaSize          smallint(8) NULL 图片运行远近0-4000</span>\n<span class=\"line\"></span>\n<span class=\"line\"># 后台用</span>\n<span class=\"line\">gridSize          tinyint(4)  NULL 绘制的logo的列数,后台用</span>\n<span class=\"line\">isRepeatShow      tinyint(4)  NULL 是否开启图片循环展示到前台</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/tdwall/setting/logo/getSettingById</span>\n<span class=\"line\">/eb/tdwall/setting/td/getSettingById</span>\n</pre></td></tr></table></figure><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- default</span></span>\n<span class=\"line\">id              varchar(32)  NOT NULL</span>\n<span class=\"line\">tdwallid        varchar(32)  NULL</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">-- title</span></span>\n<span class=\"line\">titletype       tinyint(4)   NULL 0 使用文字 1 使用图片</span>\n<span class=\"line\">title           varchar(500) NULL 标题文字</span>\n<span class=\"line\">fontsize        tinyint(4)   NULL 文字字体大小, 单位 PX</span>\n<span class=\"line\">fontcolor       varchar(20)  NULL 字体颜色</span>\n<span class=\"line\"><span class=\"comment\">-- or </span></span>\n<span class=\"line\">titleimage      varchar(32)  NULL 标题图片</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">-- background</span></span>\n<span class=\"line\">backgroundtype  tinyint(4)   NULL 0 使用背景颜色 1 使用背景图片</span>\n<span class=\"line\">backgroundimg   varchar(32)  NULL 背景图片</span>\n<span class=\"line\">backgroundcolor varchar(20)  NULL 背景颜色</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">-- qrcode</span></span>\n<span class=\"line\">ifshowqrcode    tinyint(4)   NULL 0 不显示签到二维码 1 显示二维码</span>\n<span class=\"line\"></span>\n<span class=\"line\">encryptname     tinyint(4)   DEFAULT 0 <span class=\"keyword\">COMMENT</span> <span class=\"string\">'名字是否加密处理0否1是'</span>,</span>\n<span class=\"line\">namecolor       <span class=\"built_in\">varchar</span>(<span class=\"number\">20</span>)  <span class=\"keyword\">DEFAULT</span> <span class=\"string\">'#fff'</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'显示的名字和时间颜色'</span>,</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/tdwall/setting/td/saveOrUpdate</span>\n<span class=\"line\">/eb/tdwall/setting/logo/saveOrUpdate</span>\n<span class=\"line\">/eb/tdwall/setting/default/saveOrUpdate</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">onGoToScreen(id) &#123;</span>\n<span class=\"line\">  window.open(`$&#123;contextPath&#125;/eb/lottery/activity/bigscreen?activityId=$&#123;id&#125;`);</span>\n<span class=\"line\">&#125;,</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\"># logo</span>\n<span class=\"line\">id              varchar(32) NOT NULL</span>\n<span class=\"line\">tdwallid        varchar(32) NULL</span>\n<span class=\"line\"></span>\n<span class=\"line\">backgroundImg   varchar(32) NULL 背景图片</span>\n<span class=\"line\"></span>\n<span class=\"line\">showTime        tinyint(4)  NULL 头像显示时间</span>\n<span class=\"line\">fillSpeed       tinyint(4)  NULL 头像填充速度 # 1 马上完成 2 加速 3 正常</span>\n<span class=\"line\"># 头像显示方向暂时不要</span>\n<span class=\"line\"></span>\n<span class=\"line\">isRepeatFill    tinyint(4)  NULL 是否重复填充</span>\n<span class=\"line\">repeatFillTime  tinyint(4)  NULL 重复填充时间,单位分钟,在该时间后开始重复填充</span>\n<span class=\"line\"></span>\n<span class=\"line\">gridSize        tinyint(4)  NULL 网格大小</span>\n<span class=\"line\">maxX            tinyint(4)  NULL 横向最大多少格子</span>\n<span class=\"line\">maxY            tinyint(4)  NULL 纵向最大多少格子</span>\n<span class=\"line\">coordinates     text        NULL logo 坐标数组</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\">isOpenXM        tinyint(4)  NULL 是否开启谢幕 # 0 否 1 是</span>\n<span class=\"line\">curtainImageURL varchar(32) NULL 谢幕图片</span>\n</pre></td></tr></table></figure><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"># 3d</span>\n<span class=\"line\"></span>\n<span class=\"line\">id                varchar(32) NOT NULL</span>\n<span class=\"line\">tdwallid          varchar(32) NULL 活动ID</span>\n<span class=\"line\"></span>\n<span class=\"line\">bgType            tinyint(4)  NULL 0: 使用颜色作为背景图片 10: 使用图片作为背景图片</span>\n<span class=\"line\">bgImage           varchar(32) NULL BGType为 10 时 取该值作为背景图片</span>\n<span class=\"line\">bgColor           varchar(30) NULL BGType为 0 时取该值作为背景颜色 默认为 #000</span>\n<span class=\"line\"></span>\n<span class=\"line\">showTypes         varchar(50) NULL 图片动态组成的图案 0:球状 10:螺旋(圆柱) 20:网格(立方体) 30:自定义logo</span>\n<span class=\"line\">changeSecond      tinyint(4)  NULL 动态图案切换时间，单位：秒</span>\n<span class=\"line\"></span>\n<span class=\"line\"># 绘制 logo</span>\n<span class=\"line\">logoSetting            text        NULL 自定义的logo坐标数组</span>\n<span class=\"line\">logoBackgroundImageURL varchar(32) NULL 显示自定义logo时的背景图片,后台设置使用 -- 弹出框中的上传</span>\n<span class=\"line\"></span>\n<span class=\"line\">logoType          tinyint(4)  NULL 缺省小图片的样式 0：半透明背景 10：背景图片</span>\n<span class=\"line\">customImage       varchar(32) NULL LogoType 为 10 时取该值作为背景图片</span>\n<span class=\"line\"></span>\n<span class=\"line\">isRepeatFill      tinyint(4)  NULL 是否开启图片重复填充</span>\n<span class=\"line\">beginTime         datetime    NULL 重复填充开始时间</span>\n<span class=\"line\"></span>\n<span class=\"line\">areaSize          smallint(8) NULL 图片运行远近0-4000</span>\n<span class=\"line\"></span>\n<span class=\"line\"># 后台用</span>\n<span class=\"line\">gridSize          tinyint(4)  NULL 绘制的logo的列数,后台用</span>\n<span class=\"line\">isRepeatShow      tinyint(4)  NULL 是否开启图片循环展示到前台</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/tdwall/setting/logo/getSettingById</span>\n<span class=\"line\">/eb/tdwall/setting/td/getSettingById</span>\n</pre></td></tr></table></figure><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- default</span></span>\n<span class=\"line\">id              varchar(32)  NOT NULL</span>\n<span class=\"line\">tdwallid        varchar(32)  NULL</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">-- title</span></span>\n<span class=\"line\">titletype       tinyint(4)   NULL 0 使用文字 1 使用图片</span>\n<span class=\"line\">title           varchar(500) NULL 标题文字</span>\n<span class=\"line\">fontsize        tinyint(4)   NULL 文字字体大小, 单位 PX</span>\n<span class=\"line\">fontcolor       varchar(20)  NULL 字体颜色</span>\n<span class=\"line\"><span class=\"comment\">-- or </span></span>\n<span class=\"line\">titleimage      varchar(32)  NULL 标题图片</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">-- background</span></span>\n<span class=\"line\">backgroundtype  tinyint(4)   NULL 0 使用背景颜色 1 使用背景图片</span>\n<span class=\"line\">backgroundimg   varchar(32)  NULL 背景图片</span>\n<span class=\"line\">backgroundcolor varchar(20)  NULL 背景颜色</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">-- qrcode</span></span>\n<span class=\"line\">ifshowqrcode    tinyint(4)   NULL 0 不显示签到二维码 1 显示二维码</span>\n<span class=\"line\"></span>\n<span class=\"line\">encryptname     tinyint(4)   DEFAULT 0 <span class=\"keyword\">COMMENT</span> <span class=\"string\">'名字是否加密处理0否1是'</span>,</span>\n<span class=\"line\">namecolor       <span class=\"built_in\">varchar</span>(<span class=\"number\">20</span>)  <span class=\"keyword\">DEFAULT</span> <span class=\"string\">'#fff'</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'显示的名字和时间颜色'</span>,</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/tdwall/setting/td/saveOrUpdate</span>\n<span class=\"line\">/eb/tdwall/setting/logo/saveOrUpdate</span>\n<span class=\"line\">/eb/tdwall/setting/default/saveOrUpdate</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">onGoToScreen(id) &#123;</span>\n<span class=\"line\">  window.open(`$&#123;contextPath&#125;/eb/lottery/activity/bigscreen?activityId=$&#123;id&#125;`);</span>\n<span class=\"line\">&#125;,</span>\n</pre></td></tr></table></figure>"},{"title":"temp-in-weaver-tenant","_content":"\n\n@章宏武  @王仲海  @王洪亮   会务上需要有个租户管理界面，\n\n查询租户\n\n可以调整  租用的版本、 到期日期、 用户数  、租户名称、禁用、启用 \n\n\n```\n/eb/base/tenant\t\t\t\t          入口\n\n/eb/base/tenant/save\t\t\t      只能修改，不能新建\n/eb/base/tenant/query\t\t\t      条件、分页查询：name-租户名称，status-下拉框，正常：1、删除：0、禁用：-1\n/eb/base/tenant/queryById/${id}\t查询单条数据\n/eb/base/tenant/changeStatus\t\t参数：ids：id逗号分隔字符串，status：状态，参数值同query\n```\n\n\nid                varchar(32)            租户ID                                      \npid               varchar(32)            上级租户ID                                 \ntenantid          varchar(32)            租户id                                   \n\nmaxcpcount        int(11)                企业号数量                                \nmaxmpcount        int(11)                公众号数量                                \nisconcurrency     tinyint(1)             是否并发                                   \nmaxddcount        int(11)                钉钉号数量                                \nmaxlanxincount    int(11)                蓝信号数量                                \nmaxgzbcount       int(11)                工作宝号数量                             \nmaxjdyzjcount     int(11)                金蝶云之家号数量                       \nmaxweworkcount    int(11)                企业微信数量                             \n\ncompany_code      int(11)                                                              \nlimit_user_count  int(11)                日访问限额      \n\n                                                                            \nversion_level     tinyint(4)             版本   \nstatus            int(11)                租户状态: -1-禁用、0-删除、1-正常  \n\n-- 没用 \nmaxuser           int(11)                最大用户数                                  \n\nname              varchar(50)            租户名称    \nexpire_time       date                   到期时间                                   \nenable_seckill    tinyint(4)             是否开启秒杀功能：1-是、0-否   \n\ncreatetime        datetime               创建时间                                   \ncreatorid         varchar(32)            创建人ID                                    \nupdatetime        datetime               最后修改时间                             \nupdaterid         varchar(32)            最后修改人ID  ","source":"_drafts/tmp-in-weaver-tenant.md","raw":"title: temp-in-weaver-tenant\ntags:\n  - null\ncategories:\n  - null\n---\n\n\n@章宏武  @王仲海  @王洪亮   会务上需要有个租户管理界面，\n\n查询租户\n\n可以调整  租用的版本、 到期日期、 用户数  、租户名称、禁用、启用 \n\n\n```\n/eb/base/tenant\t\t\t\t          入口\n\n/eb/base/tenant/save\t\t\t      只能修改，不能新建\n/eb/base/tenant/query\t\t\t      条件、分页查询：name-租户名称，status-下拉框，正常：1、删除：0、禁用：-1\n/eb/base/tenant/queryById/${id}\t查询单条数据\n/eb/base/tenant/changeStatus\t\t参数：ids：id逗号分隔字符串，status：状态，参数值同query\n```\n\n\nid                varchar(32)            租户ID                                      \npid               varchar(32)            上级租户ID                                 \ntenantid          varchar(32)            租户id                                   \n\nmaxcpcount        int(11)                企业号数量                                \nmaxmpcount        int(11)                公众号数量                                \nisconcurrency     tinyint(1)             是否并发                                   \nmaxddcount        int(11)                钉钉号数量                                \nmaxlanxincount    int(11)                蓝信号数量                                \nmaxgzbcount       int(11)                工作宝号数量                             \nmaxjdyzjcount     int(11)                金蝶云之家号数量                       \nmaxweworkcount    int(11)                企业微信数量                             \n\ncompany_code      int(11)                                                              \nlimit_user_count  int(11)                日访问限额      \n\n                                                                            \nversion_level     tinyint(4)             版本   \nstatus            int(11)                租户状态: -1-禁用、0-删除、1-正常  \n\n-- 没用 \nmaxuser           int(11)                最大用户数                                  \n\nname              varchar(50)            租户名称    \nexpire_time       date                   到期时间                                   \nenable_seckill    tinyint(4)             是否开启秒杀功能：1-是、0-否   \n\ncreatetime        datetime               创建时间                                   \ncreatorid         varchar(32)            创建人ID                                    \nupdatetime        datetime               最后修改时间                             \nupdaterid         varchar(32)            最后修改人ID  ","slug":"tmp-in-weaver-tenant","published":0,"date":"2017-01-19T02:59:58.150Z","updated":"2017-01-20T06:07:46.200Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bpp000n8gnyau45l46e","content":"<p>@章宏武 @王仲海 @王洪亮 会务上需要有个租户管理界面，</p><p>查询租户</p><p>可以调整 租用的版本、 到期日期、 用户数 、租户名称、禁用、启用</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/base/tenant\t\t\t\t          入口</span>\n<span class=\"line\"></span>\n<span class=\"line\">/eb/base/tenant/save\t\t\t      只能修改，不能新建</span>\n<span class=\"line\">/eb/base/tenant/query\t\t\t      条件、分页查询：name-租户名称，status-下拉框，正常：1、删除：0、禁用：-1</span>\n<span class=\"line\">/eb/base/tenant/queryById/$&#123;id&#125;\t查询单条数据</span>\n<span class=\"line\">/eb/base/tenant/changeStatus\t\t参数：ids：id逗号分隔字符串，status：状态，参数值同query</span>\n</pre></td></tr></table></figure><p>id varchar(32) 租户ID<br>pid varchar(32) 上级租户ID<br>tenantid varchar(32) 租户id</p><p>maxcpcount int(11) 企业号数量<br>maxmpcount int(11) 公众号数量<br>isconcurrency tinyint(1) 是否并发<br>maxddcount int(11) 钉钉号数量<br>maxlanxincount int(11) 蓝信号数量<br>maxgzbcount int(11) 工作宝号数量<br>maxjdyzjcount int(11) 金蝶云之家号数量<br>maxweworkcount int(11) 企业微信数量</p><p>company_code int(11)<br>limit_user_count int(11) 日访问限额</p><p>version_level tinyint(4) 版本<br>status int(11) 租户状态: -1-禁用、0-删除、1-正常</p><p>– 没用<br>maxuser int(11) 最大用户数</p><p>name varchar(50) 租户名称<br>expire_time date 到期时间<br>enable_seckill tinyint(4) 是否开启秒杀功能：1-是、0-否</p><p>createtime datetime 创建时间<br>creatorid varchar(32) 创建人ID<br>updatetime datetime 最后修改时间<br>updaterid varchar(32) 最后修改人ID</p>","excerpt":"","more":"<p>@章宏武 @王仲海 @王洪亮 会务上需要有个租户管理界面，</p><p>查询租户</p><p>可以调整 租用的版本、 到期日期、 用户数 、租户名称、禁用、启用</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/base/tenant\t\t\t\t          入口</span>\n<span class=\"line\"></span>\n<span class=\"line\">/eb/base/tenant/save\t\t\t      只能修改，不能新建</span>\n<span class=\"line\">/eb/base/tenant/query\t\t\t      条件、分页查询：name-租户名称，status-下拉框，正常：1、删除：0、禁用：-1</span>\n<span class=\"line\">/eb/base/tenant/queryById/$&#123;id&#125;\t查询单条数据</span>\n<span class=\"line\">/eb/base/tenant/changeStatus\t\t参数：ids：id逗号分隔字符串，status：状态，参数值同query</span>\n</pre></td></tr></table></figure><p>id varchar(32) 租户ID<br>pid varchar(32) 上级租户ID<br>tenantid varchar(32) 租户id</p><p>maxcpcount int(11) 企业号数量<br>maxmpcount int(11) 公众号数量<br>isconcurrency tinyint(1) 是否并发<br>maxddcount int(11) 钉钉号数量<br>maxlanxincount int(11) 蓝信号数量<br>maxgzbcount int(11) 工作宝号数量<br>maxjdyzjcount int(11) 金蝶云之家号数量<br>maxweworkcount int(11) 企业微信数量</p><p>company_code int(11)<br>limit_user_count int(11) 日访问限额</p><p>version_level tinyint(4) 版本<br>status int(11) 租户状态: -1-禁用、0-删除、1-正常</p><p>– 没用<br>maxuser int(11) 最大用户数</p><p>name varchar(50) 租户名称<br>expire_time date 到期时间<br>enable_seckill tinyint(4) 是否开启秒杀功能：1-是、0-否</p><p>createtime datetime 创建时间<br>creatorid varchar(32) 创建人ID<br>updatetime datetime 最后修改时间<br>updaterid varchar(32) 最后修改人ID</p>"},{"title":"tmp-in-weaver-vote","draft":"true","date":"2016-11-24T09:39:33.000Z","_content":"\n```sql\nCREATE TABLE eb_vote (\n  id                varchar(32)    NOT NULL,\n  title             varchar(255)   NULL  '标题',\n  desc              varchar(1000)  NULL  '描述',\n\n  is_finish         tinyint(4)     NULL  '是否结束：0-否、1-是，手动控制的结束',\n  is_open           tinyint(4)     NULL  '是否开放投票：0-否、1-是',\n\n  start_time        datetime       NULL  '开始时间',\n  end_time          datetime       NULL  '结束时间',\n  status\n\n  vote_count        tinyint(4)     NULL  '每人允许投票数',\n  repeat_vote       tinyint(4)     NULL  '是否允许重复投票：0-否、1-是',\n  show_result       tinyint(4)     NULL  '手机端显示结果：0-不显示、1-投票后显示、2-投票前显示',\n\n  usersoruce        varchar(255)   NULL  '用户来源', # 不知道什么意思\n  result_sortby     tinyint(4)     NULL  '投票结果排序：1-按投票项顺序、2-按投票数降序、3-按投票数升序',\n\n  relate_meeting_id varchar(32)    NULL  '关联会议id'\n)\n\nCREATE TABLE eb_vote_item (\n  id              varchar(32)    NOT NULL,\n\n  name            varchar(255)   NULL  '投票项名称',\n  desc            varchar(1000)  NULL  '投票项描述',\n  image_id        varchar(32)    NULL  '图片id',    #图片\n  sort            tinyint(4)     NULL  '排序',\n\n  relate_vote_id  varchar(32)    NULL  '关联投票id'\n) \n\nCREATE TABLE eb_vote_screen_setting (\n  id                varchar(32)   NOT NULL,\n\n  # 三个图片\n  logo              varchar(255)  NULL  'logo',\n  banner            varchar(255)  NULL  'banner',\n  background_image  varchar(255)  NULL  '投影屏幕背景',\n\n  is_default        tinyint(4)    NULL  '默认设置：0-否、1-是',\n  relate_vote_id    varchar(32)   NULL  '投票id'\n)\n```\n\n```\n  /eb/vote/save\n  /eb/vote/remove\n  /eb/vote/query\n  /eb/vote/queryById\n\n  /eb/vote/item/save\n  /eb/vote/item/remove\n  /eb/vote/item/query\n  /eb/vote/item/queryById\n\n  /eb/vote/user/save\n  /eb/vote/user/remove\n  /eb/vote/user/query\n  /eb/vote/user/queryById\n\n  /eb/vote/bigscreen/save\n  /eb/vote/bigscreen/remove\n  /eb/vote/bigscreen/query\n  /eb/vote/bigscreen/queryById\n```\n\n\n\n```jsx\nimport { Form, Input, Icon, Button } from 'antd';\nconst FormItem = Form.Item;\n\nlet uuid = 0;\nclass DynamicFieldSet extends React.Component {\n  \n  componentWillMount() {\n    this.props.form.setFieldsValue({\n      keys: [0],\n    });\n  }\n\n  remove = (k) => {\n    const { form } = this.props;\n    // can use data-binding to get\n    const keys = form.getFieldValue('keys');\n    // We need at least one passenger\n    if (keys.length === 1) {\n      return;\n    }\n\n    // can use data-binding to set\n    form.setFieldsValue({\n      keys: keys.filter(key => key !== k),\n    });\n  };\n\n  add = () => {\n    uuid++;\n    const { form } = this.props;\n    // can use data-binding to get\n    const keys = form.getFieldValue('keys');\n    const nextKeys = keys.concat(uuid);\n    // can use data-binding to set\n    // important! notify form to detect changes\n    form.setFieldsValue({\n      keys: nextKeys,\n    });\n  };\n\n  render() {\n    const { getFieldDecorator, getFieldValue } = this.props.form;\n    const formItemLayout = {\n      labelCol: { span: 4 },\n      wrapperCol: { span: 20 },\n    };\n    const formItemLayoutWithOutLabel = {\n      wrapperCol: { span: 20, offset: 4 },\n    };\n\n    const keys = getFieldValue('keys');\n    const formItems = keys.map((k, index) => {\n      return (\n        <FormItem\n          {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n          label={index === 0 ? 'Passengers' : ''}\n          required={false}\n          key={k}\n        >\n          {getFieldDecorator(`names-${k}`, {\n            validateTrigger: ['onChange', 'onBlur'],\n            rules: [{\n              required: true,\n              whitespace: true,\n              message: \"Please input passenger's name or delete this field.\",\n            }],\n          })(\n            <Input placeholder=\"passenger name\" style={{ width: '60%', marginRight: 8 }} />\n          )}\n          <Icon\n            className=\"dynamic-delete-button\"\n            type=\"minus-circle-o\"\n            disabled={keys.length === 1}\n            onClick={() => this.remove(k)}\n          />\n        </FormItem>\n      );\n    });\n\n    return (\n      <Form horizontal>\n        {formItems}\n        <FormItem {...formItemLayoutWithOutLabel}>\n          <Button type=\"dashed\" onClick={this.add} style={{ width: '60%' }}>\n            <Icon type=\"plus\" /> Add\n          </Button>\n        </FormItem>\n      </Form>\n    );\n  }\n}\n\nconst WrappedDynamicFieldSet = Form.create()(DynamicFieldSet);\n\nReactDOM.render(<WrappedDynamicFieldSet />, mountNode);\n\n```\n\n```js\nswapArrayItemPosition(arr, src, to) {\n  if (!arr || !isNumeric(src) || !isNumeric(to)) {\n    return arr;\n  }\n\n  const srcEl = arr.splice(src, 1)[0];\n  arr.splice(to, 0, srcEl);\n  return arr;\n}\n```","source":"_drafts/tmp-in-weaver-vote.md","raw":"title: tmp-in-weaver-vote\ntags:\n  - null\ncategories:\n  - null\ndraft: 'true'\ndate: 2016-11-24 17:39:33\n---\n\n```sql\nCREATE TABLE eb_vote (\n  id                varchar(32)    NOT NULL,\n  title             varchar(255)   NULL  '标题',\n  desc              varchar(1000)  NULL  '描述',\n\n  is_finish         tinyint(4)     NULL  '是否结束：0-否、1-是，手动控制的结束',\n  is_open           tinyint(4)     NULL  '是否开放投票：0-否、1-是',\n\n  start_time        datetime       NULL  '开始时间',\n  end_time          datetime       NULL  '结束时间',\n  status\n\n  vote_count        tinyint(4)     NULL  '每人允许投票数',\n  repeat_vote       tinyint(4)     NULL  '是否允许重复投票：0-否、1-是',\n  show_result       tinyint(4)     NULL  '手机端显示结果：0-不显示、1-投票后显示、2-投票前显示',\n\n  usersoruce        varchar(255)   NULL  '用户来源', # 不知道什么意思\n  result_sortby     tinyint(4)     NULL  '投票结果排序：1-按投票项顺序、2-按投票数降序、3-按投票数升序',\n\n  relate_meeting_id varchar(32)    NULL  '关联会议id'\n)\n\nCREATE TABLE eb_vote_item (\n  id              varchar(32)    NOT NULL,\n\n  name            varchar(255)   NULL  '投票项名称',\n  desc            varchar(1000)  NULL  '投票项描述',\n  image_id        varchar(32)    NULL  '图片id',    #图片\n  sort            tinyint(4)     NULL  '排序',\n\n  relate_vote_id  varchar(32)    NULL  '关联投票id'\n) \n\nCREATE TABLE eb_vote_screen_setting (\n  id                varchar(32)   NOT NULL,\n\n  # 三个图片\n  logo              varchar(255)  NULL  'logo',\n  banner            varchar(255)  NULL  'banner',\n  background_image  varchar(255)  NULL  '投影屏幕背景',\n\n  is_default        tinyint(4)    NULL  '默认设置：0-否、1-是',\n  relate_vote_id    varchar(32)   NULL  '投票id'\n)\n```\n\n```\n  /eb/vote/save\n  /eb/vote/remove\n  /eb/vote/query\n  /eb/vote/queryById\n\n  /eb/vote/item/save\n  /eb/vote/item/remove\n  /eb/vote/item/query\n  /eb/vote/item/queryById\n\n  /eb/vote/user/save\n  /eb/vote/user/remove\n  /eb/vote/user/query\n  /eb/vote/user/queryById\n\n  /eb/vote/bigscreen/save\n  /eb/vote/bigscreen/remove\n  /eb/vote/bigscreen/query\n  /eb/vote/bigscreen/queryById\n```\n\n\n\n```jsx\nimport { Form, Input, Icon, Button } from 'antd';\nconst FormItem = Form.Item;\n\nlet uuid = 0;\nclass DynamicFieldSet extends React.Component {\n  \n  componentWillMount() {\n    this.props.form.setFieldsValue({\n      keys: [0],\n    });\n  }\n\n  remove = (k) => {\n    const { form } = this.props;\n    // can use data-binding to get\n    const keys = form.getFieldValue('keys');\n    // We need at least one passenger\n    if (keys.length === 1) {\n      return;\n    }\n\n    // can use data-binding to set\n    form.setFieldsValue({\n      keys: keys.filter(key => key !== k),\n    });\n  };\n\n  add = () => {\n    uuid++;\n    const { form } = this.props;\n    // can use data-binding to get\n    const keys = form.getFieldValue('keys');\n    const nextKeys = keys.concat(uuid);\n    // can use data-binding to set\n    // important! notify form to detect changes\n    form.setFieldsValue({\n      keys: nextKeys,\n    });\n  };\n\n  render() {\n    const { getFieldDecorator, getFieldValue } = this.props.form;\n    const formItemLayout = {\n      labelCol: { span: 4 },\n      wrapperCol: { span: 20 },\n    };\n    const formItemLayoutWithOutLabel = {\n      wrapperCol: { span: 20, offset: 4 },\n    };\n\n    const keys = getFieldValue('keys');\n    const formItems = keys.map((k, index) => {\n      return (\n        <FormItem\n          {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n          label={index === 0 ? 'Passengers' : ''}\n          required={false}\n          key={k}\n        >\n          {getFieldDecorator(`names-${k}`, {\n            validateTrigger: ['onChange', 'onBlur'],\n            rules: [{\n              required: true,\n              whitespace: true,\n              message: \"Please input passenger's name or delete this field.\",\n            }],\n          })(\n            <Input placeholder=\"passenger name\" style={{ width: '60%', marginRight: 8 }} />\n          )}\n          <Icon\n            className=\"dynamic-delete-button\"\n            type=\"minus-circle-o\"\n            disabled={keys.length === 1}\n            onClick={() => this.remove(k)}\n          />\n        </FormItem>\n      );\n    });\n\n    return (\n      <Form horizontal>\n        {formItems}\n        <FormItem {...formItemLayoutWithOutLabel}>\n          <Button type=\"dashed\" onClick={this.add} style={{ width: '60%' }}>\n            <Icon type=\"plus\" /> Add\n          </Button>\n        </FormItem>\n      </Form>\n    );\n  }\n}\n\nconst WrappedDynamicFieldSet = Form.create()(DynamicFieldSet);\n\nReactDOM.render(<WrappedDynamicFieldSet />, mountNode);\n\n```\n\n```js\nswapArrayItemPosition(arr, src, to) {\n  if (!arr || !isNumeric(src) || !isNumeric(to)) {\n    return arr;\n  }\n\n  const srcEl = arr.splice(src, 1)[0];\n  arr.splice(to, 0, srcEl);\n  return arr;\n}\n```","slug":"tmp-in-weaver-vote","published":0,"updated":"2017-01-03T09:36:56.407Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bpq000o8gnyynfhmexr","content":"<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> eb_vote (</span>\n<span class=\"line\">  <span class=\"keyword\">id</span>                <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  title             <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)   <span class=\"literal\">NULL</span>  <span class=\"string\">'标题'</span>,</span>\n<span class=\"line\">  <span class=\"keyword\">desc</span>              <span class=\"built_in\">varchar</span>(<span class=\"number\">1000</span>)  <span class=\"literal\">NULL</span>  <span class=\"string\">'描述'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  is_finish         tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'是否结束：0-否、1-是，手动控制的结束'</span>,</span>\n<span class=\"line\">  is_open           tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'是否开放投票：0-否、1-是'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  start_time        datetime       <span class=\"literal\">NULL</span>  <span class=\"string\">'开始时间'</span>,</span>\n<span class=\"line\">  end_time          datetime       <span class=\"literal\">NULL</span>  <span class=\"string\">'结束时间'</span>,</span>\n<span class=\"line\">  <span class=\"keyword\">status</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">  vote_count        tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'每人允许投票数'</span>,</span>\n<span class=\"line\">  repeat_vote       tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'是否允许重复投票：0-否、1-是'</span>,</span>\n<span class=\"line\">  show_result       tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'手机端显示结果：0-不显示、1-投票后显示、2-投票前显示'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  usersoruce        <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)   <span class=\"literal\">NULL</span>  <span class=\"string\">'用户来源'</span>, # 不知道什么意思</span>\n<span class=\"line\">  result_sortby     tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'投票结果排序：1-按投票项顺序、2-按投票数降序、3-按投票数升序'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  relate_meeting_id <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"literal\">NULL</span>  <span class=\"string\">'关联会议id'</span></span>\n<span class=\"line\">)</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> eb_vote_item (</span>\n<span class=\"line\">  <span class=\"keyword\">id</span>              <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">name</span>            <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)   <span class=\"literal\">NULL</span>  <span class=\"string\">'投票项名称'</span>,</span>\n<span class=\"line\">  <span class=\"keyword\">desc</span>            <span class=\"built_in\">varchar</span>(<span class=\"number\">1000</span>)  <span class=\"literal\">NULL</span>  <span class=\"string\">'投票项描述'</span>,</span>\n<span class=\"line\">  image_id        <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"literal\">NULL</span>  <span class=\"string\">'图片id'</span>,    #图片</span>\n<span class=\"line\">  <span class=\"keyword\">sort</span>            tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'排序'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  relate_vote_id  <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"literal\">NULL</span>  <span class=\"string\">'关联投票id'</span></span>\n<span class=\"line\">) </span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> eb_vote_screen_setting (</span>\n<span class=\"line\">  <span class=\"keyword\">id</span>                <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  # 三个图片</span>\n<span class=\"line\">  logo              <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)  <span class=\"literal\">NULL</span>  <span class=\"string\">'logo'</span>,</span>\n<span class=\"line\">  banner            <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)  <span class=\"literal\">NULL</span>  <span class=\"string\">'banner'</span>,</span>\n<span class=\"line\">  background_image  <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)  <span class=\"literal\">NULL</span>  <span class=\"string\">'投影屏幕背景'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  is_default        tinyint(<span class=\"number\">4</span>)    <span class=\"literal\">NULL</span>  <span class=\"string\">'默认设置：0-否、1-是'</span>,</span>\n<span class=\"line\">  relate_vote_id    <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   <span class=\"literal\">NULL</span>  <span class=\"string\">'投票id'</span></span>\n<span class=\"line\">)</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/vote/save</span>\n<span class=\"line\">/eb/vote/remove</span>\n<span class=\"line\">/eb/vote/query</span>\n<span class=\"line\">/eb/vote/queryById</span>\n<span class=\"line\"></span>\n<span class=\"line\">/eb/vote/item/save</span>\n<span class=\"line\">/eb/vote/item/remove</span>\n<span class=\"line\">/eb/vote/item/query</span>\n<span class=\"line\">/eb/vote/item/queryById</span>\n<span class=\"line\"></span>\n<span class=\"line\">/eb/vote/user/save</span>\n<span class=\"line\">/eb/vote/user/remove</span>\n<span class=\"line\">/eb/vote/user/query</span>\n<span class=\"line\">/eb/vote/user/queryById</span>\n<span class=\"line\"></span>\n<span class=\"line\">/eb/vote/bigscreen/save</span>\n<span class=\"line\">/eb/vote/bigscreen/remove</span>\n<span class=\"line\">/eb/vote/bigscreen/query</span>\n<span class=\"line\">/eb/vote/bigscreen/queryById</span>\n</pre></td></tr></table></figure><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n<span class=\"line\">61</span>\n<span class=\"line\">62</span>\n<span class=\"line\">63</span>\n<span class=\"line\">64</span>\n<span class=\"line\">65</span>\n<span class=\"line\">66</span>\n<span class=\"line\">67</span>\n<span class=\"line\">68</span>\n<span class=\"line\">69</span>\n<span class=\"line\">70</span>\n<span class=\"line\">71</span>\n<span class=\"line\">72</span>\n<span class=\"line\">73</span>\n<span class=\"line\">74</span>\n<span class=\"line\">75</span>\n<span class=\"line\">76</span>\n<span class=\"line\">77</span>\n<span class=\"line\">78</span>\n<span class=\"line\">79</span>\n<span class=\"line\">80</span>\n<span class=\"line\">81</span>\n<span class=\"line\">82</span>\n<span class=\"line\">83</span>\n<span class=\"line\">84</span>\n<span class=\"line\">85</span>\n<span class=\"line\">86</span>\n<span class=\"line\">87</span>\n<span class=\"line\">88</span>\n<span class=\"line\">89</span>\n<span class=\"line\">90</span>\n<span class=\"line\">91</span>\n<span class=\"line\">92</span>\n<span class=\"line\">93</span>\n<span class=\"line\">94</span>\n<span class=\"line\">95</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Form, Input, Icon, Button &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd'</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> FormItem = Form.Item;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">let</span> uuid = <span class=\"number\">0</span>;</span>\n<span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DynamicFieldSet</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;</span>\n<span class=\"line\">  </span>\n<span class=\"line\">  componentWillMount() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.props.form.setFieldsValue(&#123;</span>\n<span class=\"line\">      <span class=\"attr\">keys</span>: [<span class=\"number\">0</span>],</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  remove = <span class=\"function\">(<span class=\"params\">k</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> &#123; form &#125; = <span class=\"keyword\">this</span>.props;</span>\n<span class=\"line\">    <span class=\"comment\">// can use data-binding to get</span></span>\n<span class=\"line\">    <span class=\"keyword\">const</span> keys = form.getFieldValue(<span class=\"string\">'keys'</span>);</span>\n<span class=\"line\">    <span class=\"comment\">// We need at least one passenger</span></span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (keys.length === <span class=\"number\">1</span>) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">return</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"comment\">// can use data-binding to set</span></span>\n<span class=\"line\">    form.setFieldsValue(&#123;</span>\n<span class=\"line\">      <span class=\"attr\">keys</span>: keys.filter(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> key !== k),</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  add = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span>\n<span class=\"line\">    uuid++;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> &#123; form &#125; = <span class=\"keyword\">this</span>.props;</span>\n<span class=\"line\">    <span class=\"comment\">// can use data-binding to get</span></span>\n<span class=\"line\">    <span class=\"keyword\">const</span> keys = form.getFieldValue(<span class=\"string\">'keys'</span>);</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> nextKeys = keys.concat(uuid);</span>\n<span class=\"line\">    <span class=\"comment\">// can use data-binding to set</span></span>\n<span class=\"line\">    <span class=\"comment\">// important! notify form to detect changes</span></span>\n<span class=\"line\">    form.setFieldsValue(&#123;</span>\n<span class=\"line\">      <span class=\"attr\">keys</span>: nextKeys,</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> &#123; getFieldDecorator, getFieldValue &#125; = <span class=\"keyword\">this</span>.props.form;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> formItemLayout = &#123;</span>\n<span class=\"line\">      <span class=\"attr\">labelCol</span>: &#123; <span class=\"attr\">span</span>: <span class=\"number\">4</span> &#125;,</span>\n<span class=\"line\">      <span class=\"attr\">wrapperCol</span>: &#123; <span class=\"attr\">span</span>: <span class=\"number\">20</span> &#125;,</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> formItemLayoutWithOutLabel = &#123;</span>\n<span class=\"line\">      <span class=\"attr\">wrapperCol</span>: &#123; <span class=\"attr\">span</span>: <span class=\"number\">20</span>, <span class=\"attr\">offset</span>: <span class=\"number\">4</span> &#125;,</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">const</span> keys = getFieldValue(<span class=\"string\">'keys'</span>);</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> formItems = keys.map(<span class=\"function\">(<span class=\"params\">k, index</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">return</span> (</span>\n<span class=\"line\">        &lt;FormItem</span>\n<span class=\"line\">          &#123;...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)&#125;</span>\n<span class=\"line\">          label=&#123;index === 0 ? 'Passengers' : ''&#125;</span>\n<span class=\"line\">          required=&#123;false&#125;</span>\n<span class=\"line\">          key=&#123;k&#125;</span>\n<span class=\"line\">        &gt;</span>\n<span class=\"line\">          &#123;getFieldDecorator(`names-$&#123;k&#125;`, &#123;</span>\n<span class=\"line\">            validateTrigger: ['onChange', 'onBlur'],</span>\n<span class=\"line\">            rules: [&#123;</span>\n<span class=\"line\">              required: true,</span>\n<span class=\"line\">              whitespace: true,</span>\n<span class=\"line\">              message: \"Please input passenger's name or delete this field.\",</span>\n<span class=\"line\">            &#125;],</span>\n<span class=\"line\">          &#125;)(</span>\n<span class=\"line\">            &lt;Input placeholder=\"passenger name\" style=&#123;&#123; width: '60%', marginRight: 8 &#125;&#125; /&gt;</span>\n<span class=\"line\">          )&#125;</span>\n<span class=\"line\">          &lt;Icon</span>\n<span class=\"line\">            className=\"dynamic-delete-button\"</span>\n<span class=\"line\">            type=\"minus-circle-o\"</span>\n<span class=\"line\">            disabled=&#123;keys.length === 1&#125;</span>\n<span class=\"line\">            onClick=&#123;() =&gt; this.remove(k)&#125;</span>\n<span class=\"line\">          /&gt;</span>\n<span class=\"line\">        &lt;/FormItem&gt;</span>\n<span class=\"line\">      );</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    return (</span>\n<span class=\"line\">      &lt;Form horizontal&gt;</span>\n<span class=\"line\">        &#123;formItems&#125;</span>\n<span class=\"line\">        &lt;FormItem &#123;...formItemLayoutWithOutLabel&#125;&gt;</span>\n<span class=\"line\">          &lt;Button type=\"dashed\" onClick=&#123;this.add&#125; style=&#123;&#123; width: '60%' &#125;&#125;&gt;</span>\n<span class=\"line\">            &lt;Icon type=\"plus\" /&gt; Add</span>\n<span class=\"line\">          &lt;/Button&gt;</span>\n<span class=\"line\">        &lt;/FormItem&gt;</span>\n<span class=\"line\">      &lt;/Form&gt;</span>\n<span class=\"line\">    );</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">const WrappedDynamicFieldSet = Form.create()(DynamicFieldSet);</span>\n<span class=\"line\"></span>\n<span class=\"line\">ReactDOM.render(&lt;WrappedDynamicFieldSet /&gt;, mountNode);</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">swapArrayItemPosition(arr, src, to) &#123;</span>\n<span class=\"line\">  <span class=\"keyword\">if</span> (!arr || !isNumeric(src) || !isNumeric(to)) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> arr;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">const</span> srcEl = arr.splice(src, <span class=\"number\">1</span>)[<span class=\"number\">0</span>];</span>\n<span class=\"line\">  arr.splice(to, <span class=\"number\">0</span>, srcEl);</span>\n<span class=\"line\">  <span class=\"keyword\">return</span> arr;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> eb_vote (</span>\n<span class=\"line\">  <span class=\"keyword\">id</span>                <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  title             <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)   <span class=\"literal\">NULL</span>  <span class=\"string\">'标题'</span>,</span>\n<span class=\"line\">  <span class=\"keyword\">desc</span>              <span class=\"built_in\">varchar</span>(<span class=\"number\">1000</span>)  <span class=\"literal\">NULL</span>  <span class=\"string\">'描述'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  is_finish         tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'是否结束：0-否、1-是，手动控制的结束'</span>,</span>\n<span class=\"line\">  is_open           tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'是否开放投票：0-否、1-是'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  start_time        datetime       <span class=\"literal\">NULL</span>  <span class=\"string\">'开始时间'</span>,</span>\n<span class=\"line\">  end_time          datetime       <span class=\"literal\">NULL</span>  <span class=\"string\">'结束时间'</span>,</span>\n<span class=\"line\">  <span class=\"keyword\">status</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">  vote_count        tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'每人允许投票数'</span>,</span>\n<span class=\"line\">  repeat_vote       tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'是否允许重复投票：0-否、1-是'</span>,</span>\n<span class=\"line\">  show_result       tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'手机端显示结果：0-不显示、1-投票后显示、2-投票前显示'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  usersoruce        <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)   <span class=\"literal\">NULL</span>  <span class=\"string\">'用户来源'</span>, # 不知道什么意思</span>\n<span class=\"line\">  result_sortby     tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'投票结果排序：1-按投票项顺序、2-按投票数降序、3-按投票数升序'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  relate_meeting_id <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"literal\">NULL</span>  <span class=\"string\">'关联会议id'</span></span>\n<span class=\"line\">)</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> eb_vote_item (</span>\n<span class=\"line\">  <span class=\"keyword\">id</span>              <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">name</span>            <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)   <span class=\"literal\">NULL</span>  <span class=\"string\">'投票项名称'</span>,</span>\n<span class=\"line\">  <span class=\"keyword\">desc</span>            <span class=\"built_in\">varchar</span>(<span class=\"number\">1000</span>)  <span class=\"literal\">NULL</span>  <span class=\"string\">'投票项描述'</span>,</span>\n<span class=\"line\">  image_id        <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"literal\">NULL</span>  <span class=\"string\">'图片id'</span>,    #图片</span>\n<span class=\"line\">  <span class=\"keyword\">sort</span>            tinyint(<span class=\"number\">4</span>)     <span class=\"literal\">NULL</span>  <span class=\"string\">'排序'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  relate_vote_id  <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)    <span class=\"literal\">NULL</span>  <span class=\"string\">'关联投票id'</span></span>\n<span class=\"line\">) </span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> eb_vote_screen_setting (</span>\n<span class=\"line\">  <span class=\"keyword\">id</span>                <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  # 三个图片</span>\n<span class=\"line\">  logo              <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)  <span class=\"literal\">NULL</span>  <span class=\"string\">'logo'</span>,</span>\n<span class=\"line\">  banner            <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)  <span class=\"literal\">NULL</span>  <span class=\"string\">'banner'</span>,</span>\n<span class=\"line\">  background_image  <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>)  <span class=\"literal\">NULL</span>  <span class=\"string\">'投影屏幕背景'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  is_default        tinyint(<span class=\"number\">4</span>)    <span class=\"literal\">NULL</span>  <span class=\"string\">'默认设置：0-否、1-是'</span>,</span>\n<span class=\"line\">  relate_vote_id    <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   <span class=\"literal\">NULL</span>  <span class=\"string\">'投票id'</span></span>\n<span class=\"line\">)</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">/eb/vote/save</span>\n<span class=\"line\">/eb/vote/remove</span>\n<span class=\"line\">/eb/vote/query</span>\n<span class=\"line\">/eb/vote/queryById</span>\n<span class=\"line\"></span>\n<span class=\"line\">/eb/vote/item/save</span>\n<span class=\"line\">/eb/vote/item/remove</span>\n<span class=\"line\">/eb/vote/item/query</span>\n<span class=\"line\">/eb/vote/item/queryById</span>\n<span class=\"line\"></span>\n<span class=\"line\">/eb/vote/user/save</span>\n<span class=\"line\">/eb/vote/user/remove</span>\n<span class=\"line\">/eb/vote/user/query</span>\n<span class=\"line\">/eb/vote/user/queryById</span>\n<span class=\"line\"></span>\n<span class=\"line\">/eb/vote/bigscreen/save</span>\n<span class=\"line\">/eb/vote/bigscreen/remove</span>\n<span class=\"line\">/eb/vote/bigscreen/query</span>\n<span class=\"line\">/eb/vote/bigscreen/queryById</span>\n</pre></td></tr></table></figure><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n<span class=\"line\">61</span>\n<span class=\"line\">62</span>\n<span class=\"line\">63</span>\n<span class=\"line\">64</span>\n<span class=\"line\">65</span>\n<span class=\"line\">66</span>\n<span class=\"line\">67</span>\n<span class=\"line\">68</span>\n<span class=\"line\">69</span>\n<span class=\"line\">70</span>\n<span class=\"line\">71</span>\n<span class=\"line\">72</span>\n<span class=\"line\">73</span>\n<span class=\"line\">74</span>\n<span class=\"line\">75</span>\n<span class=\"line\">76</span>\n<span class=\"line\">77</span>\n<span class=\"line\">78</span>\n<span class=\"line\">79</span>\n<span class=\"line\">80</span>\n<span class=\"line\">81</span>\n<span class=\"line\">82</span>\n<span class=\"line\">83</span>\n<span class=\"line\">84</span>\n<span class=\"line\">85</span>\n<span class=\"line\">86</span>\n<span class=\"line\">87</span>\n<span class=\"line\">88</span>\n<span class=\"line\">89</span>\n<span class=\"line\">90</span>\n<span class=\"line\">91</span>\n<span class=\"line\">92</span>\n<span class=\"line\">93</span>\n<span class=\"line\">94</span>\n<span class=\"line\">95</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Form, Input, Icon, Button &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd'</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> FormItem = Form.Item;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">let</span> uuid = <span class=\"number\">0</span>;</span>\n<span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DynamicFieldSet</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;</span>\n<span class=\"line\">  </span>\n<span class=\"line\">  componentWillMount() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.props.form.setFieldsValue(&#123;</span>\n<span class=\"line\">      <span class=\"attr\">keys</span>: [<span class=\"number\">0</span>],</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  remove = <span class=\"function\">(<span class=\"params\">k</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> &#123; form &#125; = <span class=\"keyword\">this</span>.props;</span>\n<span class=\"line\">    <span class=\"comment\">// can use data-binding to get</span></span>\n<span class=\"line\">    <span class=\"keyword\">const</span> keys = form.getFieldValue(<span class=\"string\">'keys'</span>);</span>\n<span class=\"line\">    <span class=\"comment\">// We need at least one passenger</span></span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (keys.length === <span class=\"number\">1</span>) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">return</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"comment\">// can use data-binding to set</span></span>\n<span class=\"line\">    form.setFieldsValue(&#123;</span>\n<span class=\"line\">      <span class=\"attr\">keys</span>: keys.filter(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> key !== k),</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  add = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span>\n<span class=\"line\">    uuid++;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> &#123; form &#125; = <span class=\"keyword\">this</span>.props;</span>\n<span class=\"line\">    <span class=\"comment\">// can use data-binding to get</span></span>\n<span class=\"line\">    <span class=\"keyword\">const</span> keys = form.getFieldValue(<span class=\"string\">'keys'</span>);</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> nextKeys = keys.concat(uuid);</span>\n<span class=\"line\">    <span class=\"comment\">// can use data-binding to set</span></span>\n<span class=\"line\">    <span class=\"comment\">// important! notify form to detect changes</span></span>\n<span class=\"line\">    form.setFieldsValue(&#123;</span>\n<span class=\"line\">      <span class=\"attr\">keys</span>: nextKeys,</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> &#123; getFieldDecorator, getFieldValue &#125; = <span class=\"keyword\">this</span>.props.form;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> formItemLayout = &#123;</span>\n<span class=\"line\">      <span class=\"attr\">labelCol</span>: &#123; <span class=\"attr\">span</span>: <span class=\"number\">4</span> &#125;,</span>\n<span class=\"line\">      <span class=\"attr\">wrapperCol</span>: &#123; <span class=\"attr\">span</span>: <span class=\"number\">20</span> &#125;,</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> formItemLayoutWithOutLabel = &#123;</span>\n<span class=\"line\">      <span class=\"attr\">wrapperCol</span>: &#123; <span class=\"attr\">span</span>: <span class=\"number\">20</span>, <span class=\"attr\">offset</span>: <span class=\"number\">4</span> &#125;,</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">const</span> keys = getFieldValue(<span class=\"string\">'keys'</span>);</span>\n<span class=\"line\">    <span class=\"keyword\">const</span> formItems = keys.map(<span class=\"function\">(<span class=\"params\">k, index</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">return</span> (</span>\n<span class=\"line\">        &lt;FormItem</span>\n<span class=\"line\">          &#123;...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)&#125;</span>\n<span class=\"line\">          label=&#123;index === 0 ? 'Passengers' : ''&#125;</span>\n<span class=\"line\">          required=&#123;false&#125;</span>\n<span class=\"line\">          key=&#123;k&#125;</span>\n<span class=\"line\">        &gt;</span>\n<span class=\"line\">          &#123;getFieldDecorator(`names-$&#123;k&#125;`, &#123;</span>\n<span class=\"line\">            validateTrigger: ['onChange', 'onBlur'],</span>\n<span class=\"line\">            rules: [&#123;</span>\n<span class=\"line\">              required: true,</span>\n<span class=\"line\">              whitespace: true,</span>\n<span class=\"line\">              message: \"Please input passenger's name or delete this field.\",</span>\n<span class=\"line\">            &#125;],</span>\n<span class=\"line\">          &#125;)(</span>\n<span class=\"line\">            &lt;Input placeholder=\"passenger name\" style=&#123;&#123; width: '60%', marginRight: 8 &#125;&#125; /&gt;</span>\n<span class=\"line\">          )&#125;</span>\n<span class=\"line\">          &lt;Icon</span>\n<span class=\"line\">            className=\"dynamic-delete-button\"</span>\n<span class=\"line\">            type=\"minus-circle-o\"</span>\n<span class=\"line\">            disabled=&#123;keys.length === 1&#125;</span>\n<span class=\"line\">            onClick=&#123;() =&gt; this.remove(k)&#125;</span>\n<span class=\"line\">          /&gt;</span>\n<span class=\"line\">        &lt;/FormItem&gt;</span>\n<span class=\"line\">      );</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    return (</span>\n<span class=\"line\">      &lt;Form horizontal&gt;</span>\n<span class=\"line\">        &#123;formItems&#125;</span>\n<span class=\"line\">        &lt;FormItem &#123;...formItemLayoutWithOutLabel&#125;&gt;</span>\n<span class=\"line\">          &lt;Button type=\"dashed\" onClick=&#123;this.add&#125; style=&#123;&#123; width: '60%' &#125;&#125;&gt;</span>\n<span class=\"line\">            &lt;Icon type=\"plus\" /&gt; Add</span>\n<span class=\"line\">          &lt;/Button&gt;</span>\n<span class=\"line\">        &lt;/FormItem&gt;</span>\n<span class=\"line\">      &lt;/Form&gt;</span>\n<span class=\"line\">    );</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">const WrappedDynamicFieldSet = Form.create()(DynamicFieldSet);</span>\n<span class=\"line\"></span>\n<span class=\"line\">ReactDOM.render(&lt;WrappedDynamicFieldSet /&gt;, mountNode);</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">swapArrayItemPosition(arr, src, to) &#123;</span>\n<span class=\"line\">  <span class=\"keyword\">if</span> (!arr || !isNumeric(src) || !isNumeric(to)) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> arr;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">const</span> srcEl = arr.splice(src, <span class=\"number\">1</span>)[<span class=\"number\">0</span>];</span>\n<span class=\"line\">  arr.splice(to, <span class=\"number\">0</span>, srcEl);</span>\n<span class=\"line\">  <span class=\"keyword\">return</span> arr;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure>"},{"title":"tmp-in-weaver-wx-menu","draft":"true","date":"2016-11-24T09:39:33.000Z","_content":"\n功能模块名称\n\n1. 会议报名\n2. 会议议程\n3. 会议签到\n4. 上墙互动\n5. 抽奖活动\n6. 活动投票—暂时不做\n7. 文档内容—暂时不做\n8. 文档列表—暂时不做\n\n弹出窗口 \n\n1. 菜单名称 \n2. 是否分类菜单\n    * 一级菜单可以取消选择此项，只有名称\n    * 二级菜单不显示此项，默认显示下面的模块与列表\n3. 左侧：显示功能模块\n4. 右侧上方：搜索栏\n5. 右侧中间：显示模块的数据（单选框 + 名称）\n6. 右侧底部：分页按钮\n\n\n```sql\nField         Type          Collation        Null    Key     Default  Extra   Privileges                       Comment                                                                                \n------------  ------------  ---------------  ------  ------  -------  ------  -------------------------------  ---------------------------------------------------------------------------------------\nid            varchar(32)   utf8_general_ci  NO      PRI     (NULL)           select,insert,update,references  菜单ID主键      \n\nsysagentid    varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  应用id                                                                               \ntype          tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  企业号菜单还是公众号菜单                                                   \nname          varchar(200)  utf8_general_ci  YES             (NULL)           select,insert,update,references  名字                                                                                 \nmenutype      tinyint(2)    (NULL)           YES             (NULL)           select,insert,update,references  菜单类型                                                                           \nmenukey       varchar(500)  utf8_general_ci  YES             (NULL)           select,insert,update,references  菜单key                                                                              \noutinterface  varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  调用接口                                                                           \noutsysid      varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  调用系统                                                                           \nmodel         varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  调用模块                                                                           \nlinkaddr      varchar(500)  utf8_general_ci  YES             (NULL)           select,insert,update,references  链接地址                                                                           \ncountaddr     varchar(500)  utf8_general_ci  YES             (NULL)           select,insert,update,references  获取未读数量链接                                                               \ndisplayway    tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  数据展示形式，0：链接，1：列表，2：幻灯片，3：列表和幻灯片  \npid           varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  上级菜单id                                                                         \nisoauth       tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  是否授权                                                                           \nxuhao         tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  序号  \n                                                                               \nrmtype        tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  回复消息类型                                                                     \nreturnmsg     varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  回复信息                                                                           \n                                                                     \nexeaction     tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  执行动作 0 回复消息 1调用接口                                              \ntenantid      varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  租户id                                                                               \ncover         varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  封面文件ID                                                                         \nmatchruleid   varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  \n```\n\n```js\n[\n  {\n    'id': '',\n\n    'name': 'sdfsdsdf',\n    'menutype': '1',\n    'linkaddr': '',\n\n    'menukey': '',\n    'outinterface': '0',\n    'outsysid': '0',\n    'model': '0',\n    'isoauth': '1',\n    'returnmsg': '',\n    'rmtype': '0',\n    'exeaction': '0',\n    'subList': [\n      {\n        'id': '',\n        'name': 'sdfsadf',\n        'menutype': '3',\n        'linkaddr': '/sdfsdf',\n\n        \n        'menukey': '',\n        'outinterface': '0',\n        'outsysid': '0',\n        'model': '0',\n        'isoauth': '1',\n        'returnmsg': '',\n        'rmtype': '0',\n        'exeaction': '0'\n      }\n    ]\n  }\n]\n```\n\n```\n[\n  {\n    'id': 'sdsdsdfesdv',\n    'name': 'sdfsdsdf',\n    'pid': 0,\n    'linkaddr': ''\n  },\n  {\n    'id': '',\n    'pid': 'sdsdsdfesdv',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  },\n  {\n    'id': 'ggdfdsfgfghghjghjghj',\n    'pid': '0',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  },\n  {\n    'id': 'assfdsdfdfeee',\n    'pid': 'ggdfdsfgfghghjghjghj',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  },\n  {\n    'id': 'weerfgfgfhgsdgdgd',\n    'pid': '0',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  },\n  {\n    'id': 'ssdsasdfdsfsdfasdf',\n    'pid': 'ggdfdsfgfghghjghjghj',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  },\n  {\n    'id': 'ssssdsdsdsdsdsds',\n    'pid': 'weerfgfgfhgsdgdgd',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  }\n]\n\n```\n\n\n```js\n[\n  {\n    type: 1,\n    name: '回忆',\n    url: ''\n  }\n\n]\n```\n\n\n```\n\ngetTypeList -- [type name url]\n\ngetTypeDatas -- list, page\n\n```\n\n\n```js\n\nimport { Table, Icon, Switch, Radio, Form } from 'antd';\nconst FormItem = Form.Item;\n\nconst columns = [{\n  title: 'Name',\n  dataIndex: 'name',\n  key: 'name',\n  width: 150,\n  render: text => <a href=\"#\">{text}</a>,\n}, {\n  title: 'Age',\n  dataIndex: 'age',\n  key: 'age',\n  width: 70,\n}, {\n  title: 'Address',\n  dataIndex: 'address',\n  key: 'address',\n}, {\n  title: 'Action',\n  key: 'action',\n  width: 360,\n  render: (text, record) => (\n    <span>\n      <a href=\"#\">Action 一 {record.name}</a>\n      <span className=\"ant-divider\" />\n      <a href=\"#\">Delete</a>\n      <span className=\"ant-divider\" />\n      <a href=\"#\" className=\"ant-dropdown-link\">\n        More actions <Icon type=\"down\" />\n      </a>\n    </span>\n  ),\n}];\n\nconst data = [];\nfor (let i = 1; i <= 10; i++) {\n  data.push({\n    key: i,\n    name: 'John Brown',\n    age: `${i}2`,\n    address: `New York No. ${i} Lake Park`,\n    description: `My name is John Brown, I am ${i}2 years old, living in New York No. ${i} Lake Park.`,\n  });\n}\n\nconst expandedRowRender = record => <p>{record.description}</p>;\nconst title = () => 'Here is title';\nconst footer = () => 'Here is footer';\nconst scroll = { y: 240 };\n\nclass Demo extends React.Component {\n  state = {\n    bordered: false,\n    loading: false,\n    pagination: true,\n    size: 'default',\n    expandedRowRender,\n    title,\n    footer,\n    rowSelection: {},\n    scroll: undefined,\n  }\n\n  handleToggle = (prop) => {\n    return (enable) => {\n      this.setState({ [prop]: enable });\n    };\n  }\n\n  handleSizeChange = (e) => {\n    this.setState({ size: e.target.value });\n  }\n\n  handleExpandChange = (enable) => {\n    this.setState({ expandedRowRender: enable ? expandedRowRender : false });\n  }\n\n  handleTitleChange = (enable) => {\n    this.setState({ title: enable ? title : undefined });\n  }\n\n  handleFooterChange = (enable) => {\n    this.setState({ footer: enable ? footer : undefined });\n  }\n\n  handleRowSelectionChange = (enable) => {\n    this.setState({ rowSelection: enable ? {} : undefined });\n  }\n\n  handleScollChange = (enable) => {\n    this.setState({ scroll: enable ? scroll : undefined });\n  }\n\n  render() {\n    const state = this.state;\n    return (\n      <div>\n        <Table {...this.state} columns={columns} dataSource={data} />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<Demo />, mountNode);\n```\n\n```jsx\n<ButtonGroup>\n  <Popover\n    placement=\"topLeft\"\n    content={\n      <div>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button>\n      </div>\n    }\n  >\n    <Button>边缘对齐</Button>\n  </Popover>\n  <Popover\n    placement=\"topLeft\"\n    content={\n      <div>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button>\n      </div>\n    }\n  >\n    <Button>边缘对齐</Button>\n  </Popover>\n  <Popover\n    placement=\"topLeft\"\n    content={\n      <div>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button>\n      </div>\n    }\n  >\n    <Button>边缘对齐</Button>\n  </Popover>\n</ButtonGroup>\n```","source":"_drafts/tmp-in-weaver-wx-menu.md","raw":"title: tmp-in-weaver-wx-menu\ntags:\n  - null\ncategories:\n  - null\ndraft: 'true'\ndate: 2016-11-24 17:39:33\n---\n\n功能模块名称\n\n1. 会议报名\n2. 会议议程\n3. 会议签到\n4. 上墙互动\n5. 抽奖活动\n6. 活动投票—暂时不做\n7. 文档内容—暂时不做\n8. 文档列表—暂时不做\n\n弹出窗口 \n\n1. 菜单名称 \n2. 是否分类菜单\n    * 一级菜单可以取消选择此项，只有名称\n    * 二级菜单不显示此项，默认显示下面的模块与列表\n3. 左侧：显示功能模块\n4. 右侧上方：搜索栏\n5. 右侧中间：显示模块的数据（单选框 + 名称）\n6. 右侧底部：分页按钮\n\n\n```sql\nField         Type          Collation        Null    Key     Default  Extra   Privileges                       Comment                                                                                \n------------  ------------  ---------------  ------  ------  -------  ------  -------------------------------  ---------------------------------------------------------------------------------------\nid            varchar(32)   utf8_general_ci  NO      PRI     (NULL)           select,insert,update,references  菜单ID主键      \n\nsysagentid    varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  应用id                                                                               \ntype          tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  企业号菜单还是公众号菜单                                                   \nname          varchar(200)  utf8_general_ci  YES             (NULL)           select,insert,update,references  名字                                                                                 \nmenutype      tinyint(2)    (NULL)           YES             (NULL)           select,insert,update,references  菜单类型                                                                           \nmenukey       varchar(500)  utf8_general_ci  YES             (NULL)           select,insert,update,references  菜单key                                                                              \noutinterface  varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  调用接口                                                                           \noutsysid      varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  调用系统                                                                           \nmodel         varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  调用模块                                                                           \nlinkaddr      varchar(500)  utf8_general_ci  YES             (NULL)           select,insert,update,references  链接地址                                                                           \ncountaddr     varchar(500)  utf8_general_ci  YES             (NULL)           select,insert,update,references  获取未读数量链接                                                               \ndisplayway    tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  数据展示形式，0：链接，1：列表，2：幻灯片，3：列表和幻灯片  \npid           varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  上级菜单id                                                                         \nisoauth       tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  是否授权                                                                           \nxuhao         tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  序号  \n                                                                               \nrmtype        tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  回复消息类型                                                                     \nreturnmsg     varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  回复信息                                                                           \n                                                                     \nexeaction     tinyint(4)    (NULL)           YES             (NULL)           select,insert,update,references  执行动作 0 回复消息 1调用接口                                              \ntenantid      varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  租户id                                                                               \ncover         varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  封面文件ID                                                                         \nmatchruleid   varchar(32)   utf8_general_ci  YES             (NULL)           select,insert,update,references  \n```\n\n```js\n[\n  {\n    'id': '',\n\n    'name': 'sdfsdsdf',\n    'menutype': '1',\n    'linkaddr': '',\n\n    'menukey': '',\n    'outinterface': '0',\n    'outsysid': '0',\n    'model': '0',\n    'isoauth': '1',\n    'returnmsg': '',\n    'rmtype': '0',\n    'exeaction': '0',\n    'subList': [\n      {\n        'id': '',\n        'name': 'sdfsadf',\n        'menutype': '3',\n        'linkaddr': '/sdfsdf',\n\n        \n        'menukey': '',\n        'outinterface': '0',\n        'outsysid': '0',\n        'model': '0',\n        'isoauth': '1',\n        'returnmsg': '',\n        'rmtype': '0',\n        'exeaction': '0'\n      }\n    ]\n  }\n]\n```\n\n```\n[\n  {\n    'id': 'sdsdsdfesdv',\n    'name': 'sdfsdsdf',\n    'pid': 0,\n    'linkaddr': ''\n  },\n  {\n    'id': '',\n    'pid': 'sdsdsdfesdv',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  },\n  {\n    'id': 'ggdfdsfgfghghjghjghj',\n    'pid': '0',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  },\n  {\n    'id': 'assfdsdfdfeee',\n    'pid': 'ggdfdsfgfghghjghjghj',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  },\n  {\n    'id': 'weerfgfgfhgsdgdgd',\n    'pid': '0',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  },\n  {\n    'id': 'ssdsasdfdsfsdfasdf',\n    'pid': 'ggdfdsfgfghghjghjghj',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  },\n  {\n    'id': 'ssssdsdsdsdsdsds',\n    'pid': 'weerfgfgfhgsdgdgd',\n    'name': '第一个菜单',\n    'linkaddr': '/sdfsdf'\n  }\n]\n\n```\n\n\n```js\n[\n  {\n    type: 1,\n    name: '回忆',\n    url: ''\n  }\n\n]\n```\n\n\n```\n\ngetTypeList -- [type name url]\n\ngetTypeDatas -- list, page\n\n```\n\n\n```js\n\nimport { Table, Icon, Switch, Radio, Form } from 'antd';\nconst FormItem = Form.Item;\n\nconst columns = [{\n  title: 'Name',\n  dataIndex: 'name',\n  key: 'name',\n  width: 150,\n  render: text => <a href=\"#\">{text}</a>,\n}, {\n  title: 'Age',\n  dataIndex: 'age',\n  key: 'age',\n  width: 70,\n}, {\n  title: 'Address',\n  dataIndex: 'address',\n  key: 'address',\n}, {\n  title: 'Action',\n  key: 'action',\n  width: 360,\n  render: (text, record) => (\n    <span>\n      <a href=\"#\">Action 一 {record.name}</a>\n      <span className=\"ant-divider\" />\n      <a href=\"#\">Delete</a>\n      <span className=\"ant-divider\" />\n      <a href=\"#\" className=\"ant-dropdown-link\">\n        More actions <Icon type=\"down\" />\n      </a>\n    </span>\n  ),\n}];\n\nconst data = [];\nfor (let i = 1; i <= 10; i++) {\n  data.push({\n    key: i,\n    name: 'John Brown',\n    age: `${i}2`,\n    address: `New York No. ${i} Lake Park`,\n    description: `My name is John Brown, I am ${i}2 years old, living in New York No. ${i} Lake Park.`,\n  });\n}\n\nconst expandedRowRender = record => <p>{record.description}</p>;\nconst title = () => 'Here is title';\nconst footer = () => 'Here is footer';\nconst scroll = { y: 240 };\n\nclass Demo extends React.Component {\n  state = {\n    bordered: false,\n    loading: false,\n    pagination: true,\n    size: 'default',\n    expandedRowRender,\n    title,\n    footer,\n    rowSelection: {},\n    scroll: undefined,\n  }\n\n  handleToggle = (prop) => {\n    return (enable) => {\n      this.setState({ [prop]: enable });\n    };\n  }\n\n  handleSizeChange = (e) => {\n    this.setState({ size: e.target.value });\n  }\n\n  handleExpandChange = (enable) => {\n    this.setState({ expandedRowRender: enable ? expandedRowRender : false });\n  }\n\n  handleTitleChange = (enable) => {\n    this.setState({ title: enable ? title : undefined });\n  }\n\n  handleFooterChange = (enable) => {\n    this.setState({ footer: enable ? footer : undefined });\n  }\n\n  handleRowSelectionChange = (enable) => {\n    this.setState({ rowSelection: enable ? {} : undefined });\n  }\n\n  handleScollChange = (enable) => {\n    this.setState({ scroll: enable ? scroll : undefined });\n  }\n\n  render() {\n    const state = this.state;\n    return (\n      <div>\n        <Table {...this.state} columns={columns} dataSource={data} />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<Demo />, mountNode);\n```\n\n```jsx\n<ButtonGroup>\n  <Popover\n    placement=\"topLeft\"\n    content={\n      <div>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button>\n      </div>\n    }\n  >\n    <Button>边缘对齐</Button>\n  </Popover>\n  <Popover\n    placement=\"topLeft\"\n    content={\n      <div>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button>\n      </div>\n    }\n  >\n    <Button>边缘对齐</Button>\n  </Popover>\n  <Popover\n    placement=\"topLeft\"\n    content={\n      <div>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button><br/>\n        <Button>边缘对齐</Button>\n      </div>\n    }\n  >\n    <Button>边缘对齐</Button>\n  </Popover>\n</ButtonGroup>\n```","slug":"tmp-in-weaver-wx-menu","published":0,"updated":"2016-12-30T02:43:36.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bpt000p8gnyfqp2arvb","content":"<p>功能模块名称</p><ol><li>会议报名</li><li>会议议程</li><li>会议签到</li><li>上墙互动</li><li>抽奖活动</li><li>活动投票—暂时不做</li><li>文档内容—暂时不做</li><li>文档列表—暂时不做</li></ol><p>弹出窗口</p><ol><li>菜单名称</li><li>是否分类菜单<ul><li>一级菜单可以取消选择此项，只有名称</li><li>二级菜单不显示此项，默认显示下面的模块与列表</li></ul></li><li>左侧：显示功能模块</li><li>右侧上方：搜索栏</li><li>右侧中间：显示模块的数据（单选框 + 名称）</li><li>右侧底部：分页按钮</li></ol><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">Field         Type          Collation        Null    Key     Default  Extra   Privileges                       <span class=\"keyword\">Comment</span>                                                                                </span>\n<span class=\"line\"><span class=\"comment\">------------  ------------  ---------------  ------  ------  -------  ------  -------------------------------  ---------------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span class=\"keyword\">id</span>            <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  <span class=\"keyword\">NO</span>      PRI     (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  菜单<span class=\"keyword\">ID</span>主键      </span>\n<span class=\"line\"></span>\n<span class=\"line\">sysagentid    <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  应用<span class=\"keyword\">id</span>                                                                               </span>\n<span class=\"line\"><span class=\"keyword\">type</span>          tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  企业号菜单还是公众号菜单                                                   </span>\n<span class=\"line\"><span class=\"keyword\">name</span>          <span class=\"built_in\">varchar</span>(<span class=\"number\">200</span>)  utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  名字                                                                                 </span>\n<span class=\"line\">menutype      tinyint(<span class=\"number\">2</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  菜单类型                                                                           </span>\n<span class=\"line\">menukey       <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>)  utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  菜单<span class=\"keyword\">key</span>                                                                              </span>\n<span class=\"line\">outinterface  <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  调用接口                                                                           </span>\n<span class=\"line\">outsysid      <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  调用系统                                                                           </span>\n<span class=\"line\"><span class=\"keyword\">model</span>         <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  调用模块                                                                           </span>\n<span class=\"line\">linkaddr      <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>)  utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  链接地址                                                                           </span>\n<span class=\"line\">countaddr     <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>)  utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  获取未读数量链接                                                               </span>\n<span class=\"line\">displayway    tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  数据展示形式，<span class=\"number\">0</span>：链接，<span class=\"number\">1</span>：列表，<span class=\"number\">2</span>：幻灯片，<span class=\"number\">3</span>：列表和幻灯片  </span>\n<span class=\"line\">pid           <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  上级菜单<span class=\"keyword\">id</span>                                                                         </span>\n<span class=\"line\">isoauth       tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  是否授权                                                                           </span>\n<span class=\"line\">xuhao         tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  序号  </span>\n<span class=\"line\">                                                                               </span>\n<span class=\"line\">rmtype        tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  回复消息类型                                                                     </span>\n<span class=\"line\">returnmsg     <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  回复信息                                                                           </span>\n<span class=\"line\">                                                                     </span>\n<span class=\"line\">exeaction     tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  执行动作 <span class=\"number\">0</span> 回复消息 <span class=\"number\">1</span>调用接口                                              </span>\n<span class=\"line\">tenantid      <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  租户<span class=\"keyword\">id</span>                                                                               </span>\n<span class=\"line\">cover         <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  封面文件<span class=\"keyword\">ID</span>                                                                         </span>\n<span class=\"line\">matchruleid   <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span></span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">[</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    <span class=\"string\">'id'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"string\">'name'</span>: <span class=\"string\">'sdfsdsdf'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'menutype'</span>: <span class=\"string\">'1'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'linkaddr'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"string\">'menukey'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\">    <span class=\"string\">'outinterface'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'outsysid'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'model'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'isoauth'</span>: <span class=\"string\">'1'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'returnmsg'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\">    <span class=\"string\">'rmtype'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'exeaction'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'subList'</span>: [</span>\n<span class=\"line\">      &#123;</span>\n<span class=\"line\">        <span class=\"string\">'id'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\">        <span class=\"string\">'name'</span>: <span class=\"string\">'sdfsadf'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'menutype'</span>: <span class=\"string\">'3'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'linkaddr'</span>: <span class=\"string\">'/sdfsdf'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">        </span>\n<span class=\"line\">        <span class=\"string\">'menukey'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\">        <span class=\"string\">'outinterface'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'outsysid'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'model'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'isoauth'</span>: <span class=\"string\">'1'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'returnmsg'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\">        <span class=\"string\">'rmtype'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'exeaction'</span>: <span class=\"string\">'0'</span></span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\">    ]</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">]</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">[</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;sdsdsdfesdv&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;sdfsdsdf&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: 0,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;sdsdsdfesdv&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;ggdfdsfgfghghjghjghj&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;0&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;assfdsdfdfeee&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;ggdfdsfgfghghjghjghj&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;weerfgfgfhgsdgdgd&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;0&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;ssdsasdfdsfsdfasdf&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;ggdfdsfgfghghjghjghj&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;ssssdsdsdsdsdsds&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;weerfgfgfhgsdgdgd&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">]</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">[</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"number\">1</span>,</span>\n<span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">'回忆'</span>,</span>\n<span class=\"line\">    <span class=\"attr\">url</span>: <span class=\"string\">''</span></span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">]</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\">getTypeList -- [type name url]</span>\n<span class=\"line\"></span>\n<span class=\"line\">getTypeDatas -- list, page</span>\n</pre></td></tr></table></figure><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n<span class=\"line\">61</span>\n<span class=\"line\">62</span>\n<span class=\"line\">63</span>\n<span class=\"line\">64</span>\n<span class=\"line\">65</span>\n<span class=\"line\">66</span>\n<span class=\"line\">67</span>\n<span class=\"line\">68</span>\n<span class=\"line\">69</span>\n<span class=\"line\">70</span>\n<span class=\"line\">71</span>\n<span class=\"line\">72</span>\n<span class=\"line\">73</span>\n<span class=\"line\">74</span>\n<span class=\"line\">75</span>\n<span class=\"line\">76</span>\n<span class=\"line\">77</span>\n<span class=\"line\">78</span>\n<span class=\"line\">79</span>\n<span class=\"line\">80</span>\n<span class=\"line\">81</span>\n<span class=\"line\">82</span>\n<span class=\"line\">83</span>\n<span class=\"line\">84</span>\n<span class=\"line\">85</span>\n<span class=\"line\">86</span>\n<span class=\"line\">87</span>\n<span class=\"line\">88</span>\n<span class=\"line\">89</span>\n<span class=\"line\">90</span>\n<span class=\"line\">91</span>\n<span class=\"line\">92</span>\n<span class=\"line\">93</span>\n<span class=\"line\">94</span>\n<span class=\"line\">95</span>\n<span class=\"line\">96</span>\n<span class=\"line\">97</span>\n<span class=\"line\">98</span>\n<span class=\"line\">99</span>\n<span class=\"line\">100</span>\n<span class=\"line\">101</span>\n<span class=\"line\">102</span>\n<span class=\"line\">103</span>\n<span class=\"line\">104</span>\n<span class=\"line\">105</span>\n<span class=\"line\">106</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\">import &#123; Table, Icon, Switch, Radio, Form &#125; from 'antd';</span>\n<span class=\"line\">const FormItem = Form.Item;</span>\n<span class=\"line\"></span>\n<span class=\"line\">const columns = [&#123;</span>\n<span class=\"line\">  title: 'Name',</span>\n<span class=\"line\">  dataIndex: 'name',</span>\n<span class=\"line\">  key: 'name',</span>\n<span class=\"line\">  width: 150,</span>\n<span class=\"line\">  render: text =&gt; &lt;a href=\"#\"&gt;&#123;text&#125;&lt;/a&gt;,</span>\n<span class=\"line\">&#125;, &#123;</span>\n<span class=\"line\">  title: 'Age',</span>\n<span class=\"line\">  dataIndex: 'age',</span>\n<span class=\"line\">  key: 'age',</span>\n<span class=\"line\">  width: 70,</span>\n<span class=\"line\">&#125;, &#123;</span>\n<span class=\"line\">  title: 'Address',</span>\n<span class=\"line\">  dataIndex: 'address',</span>\n<span class=\"line\">  key: 'address',</span>\n<span class=\"line\">&#125;, &#123;</span>\n<span class=\"line\">  title: 'Action',</span>\n<span class=\"line\">  key: 'action',</span>\n<span class=\"line\">  width: 360,</span>\n<span class=\"line\">  render: (text, record) =&gt; (</span>\n<span class=\"line\">    &lt;span&gt;</span>\n<span class=\"line\">      &lt;a href=\"#\"&gt;Action 一 &#123;record.name&#125;&lt;/a&gt;</span>\n<span class=\"line\">      &lt;span className=\"ant-divider\" /&gt;</span>\n<span class=\"line\">      &lt;a href=\"#\"&gt;Delete&lt;/a&gt;</span>\n<span class=\"line\">      &lt;span className=\"ant-divider\" /&gt;</span>\n<span class=\"line\">      &lt;a href=\"#\" className=\"ant-dropdown-link\"&gt;</span>\n<span class=\"line\">        More actions &lt;Icon type=\"down\" /&gt;</span>\n<span class=\"line\">      &lt;/a&gt;</span>\n<span class=\"line\">    &lt;/span&gt;</span>\n<span class=\"line\">  ),</span>\n<span class=\"line\">&#125;];</span>\n<span class=\"line\"></span>\n<span class=\"line\">const data = [];</span>\n<span class=\"line\">for (let i = 1; i &lt;= 10; i++) &#123;</span>\n<span class=\"line\">  data.push(&#123;</span>\n<span class=\"line\">    key: i,</span>\n<span class=\"line\">    name: 'John Brown',</span>\n<span class=\"line\">    age: `$&#123;i&#125;2`,</span>\n<span class=\"line\">    address: `New York No. $&#123;i&#125; Lake Park`,</span>\n<span class=\"line\">    description: `My name is John Brown, I am $&#123;i&#125;2 years old, living in New York No. $&#123;i&#125; Lake Park.`,</span>\n<span class=\"line\">  &#125;);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">const expandedRowRender = record =&gt; &lt;p&gt;&#123;record.description&#125;&lt;/p&gt;;</span>\n<span class=\"line\">const title = () =&gt; 'Here is title';</span>\n<span class=\"line\">const footer = () =&gt; 'Here is footer';</span>\n<span class=\"line\">const scroll = &#123; y: 240 &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">class Demo extends React.Component &#123;</span>\n<span class=\"line\">  state = &#123;</span>\n<span class=\"line\">    bordered: false,</span>\n<span class=\"line\">    loading: false,</span>\n<span class=\"line\">    pagination: true,</span>\n<span class=\"line\">    size: 'default',</span>\n<span class=\"line\">    expandedRowRender,</span>\n<span class=\"line\">    title,</span>\n<span class=\"line\">    footer,</span>\n<span class=\"line\">    rowSelection: &#123;&#125;,</span>\n<span class=\"line\">    scroll: undefined,</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleToggle = (prop) =&gt; &#123;</span>\n<span class=\"line\">    return (enable) =&gt; &#123;</span>\n<span class=\"line\">      this.setState(&#123; [prop]: enable &#125;);</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleSizeChange = (e) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; size: e.target.value &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleExpandChange = (enable) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; expandedRowRender: enable ? expandedRowRender : false &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleTitleChange = (enable) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; title: enable ? title : undefined &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleFooterChange = (enable) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; footer: enable ? footer : undefined &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleRowSelectionChange = (enable) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; rowSelection: enable ? &#123;&#125; : undefined &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleScollChange = (enable) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; scroll: enable ? scroll : undefined &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    const state = this.state;</span>\n<span class=\"line\">    return (</span>\n<span class=\"line\">      &lt;div&gt;</span>\n<span class=\"line\">        &lt;Table &#123;...this.state&#125; columns=&#123;columns&#125; dataSource=&#123;data&#125; /&gt;</span>\n<span class=\"line\">      &lt;/div&gt;</span>\n<span class=\"line\">    );</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">ReactDOM.render(&lt;Demo /&gt;, mountNode);</span>\n</pre></td></tr></table></figure><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">&lt;ButtonGroup&gt;</span>\n<span class=\"line\">  &lt;Popover</span>\n<span class=\"line\">    placement=\"topLeft\"</span>\n<span class=\"line\">    content=&#123;</span>\n<span class=\"line\">      &lt;div&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">      &lt;/div&gt;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &gt;</span>\n<span class=\"line\">    &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">  &lt;/Popover&gt;</span>\n<span class=\"line\">  &lt;Popover</span>\n<span class=\"line\">    placement=\"topLeft\"</span>\n<span class=\"line\">    content=&#123;</span>\n<span class=\"line\">      &lt;div&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">      &lt;/div&gt;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &gt;</span>\n<span class=\"line\">    &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">  &lt;/Popover&gt;</span>\n<span class=\"line\">  &lt;Popover</span>\n<span class=\"line\">    placement=\"topLeft\"</span>\n<span class=\"line\">    content=&#123;</span>\n<span class=\"line\">      &lt;div&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">      &lt;/div&gt;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &gt;</span>\n<span class=\"line\">    &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">  &lt;/Popover&gt;</span>\n<span class=\"line\">&lt;/ButtonGroup&gt;</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<p>功能模块名称</p><ol><li>会议报名</li><li>会议议程</li><li>会议签到</li><li>上墙互动</li><li>抽奖活动</li><li>活动投票—暂时不做</li><li>文档内容—暂时不做</li><li>文档列表—暂时不做</li></ol><p>弹出窗口</p><ol><li>菜单名称</li><li>是否分类菜单<ul><li>一级菜单可以取消选择此项，只有名称</li><li>二级菜单不显示此项，默认显示下面的模块与列表</li></ul></li><li>左侧：显示功能模块</li><li>右侧上方：搜索栏</li><li>右侧中间：显示模块的数据（单选框 + 名称）</li><li>右侧底部：分页按钮</li></ol><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">Field         Type          Collation        Null    Key     Default  Extra   Privileges                       <span class=\"keyword\">Comment</span>                                                                                </span>\n<span class=\"line\"><span class=\"comment\">------------  ------------  ---------------  ------  ------  -------  ------  -------------------------------  ---------------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span class=\"keyword\">id</span>            <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  <span class=\"keyword\">NO</span>      PRI     (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  菜单<span class=\"keyword\">ID</span>主键      </span>\n<span class=\"line\"></span>\n<span class=\"line\">sysagentid    <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  应用<span class=\"keyword\">id</span>                                                                               </span>\n<span class=\"line\"><span class=\"keyword\">type</span>          tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  企业号菜单还是公众号菜单                                                   </span>\n<span class=\"line\"><span class=\"keyword\">name</span>          <span class=\"built_in\">varchar</span>(<span class=\"number\">200</span>)  utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  名字                                                                                 </span>\n<span class=\"line\">menutype      tinyint(<span class=\"number\">2</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  菜单类型                                                                           </span>\n<span class=\"line\">menukey       <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>)  utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  菜单<span class=\"keyword\">key</span>                                                                              </span>\n<span class=\"line\">outinterface  <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  调用接口                                                                           </span>\n<span class=\"line\">outsysid      <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  调用系统                                                                           </span>\n<span class=\"line\"><span class=\"keyword\">model</span>         <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  调用模块                                                                           </span>\n<span class=\"line\">linkaddr      <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>)  utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  链接地址                                                                           </span>\n<span class=\"line\">countaddr     <span class=\"built_in\">varchar</span>(<span class=\"number\">500</span>)  utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  获取未读数量链接                                                               </span>\n<span class=\"line\">displayway    tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  数据展示形式，<span class=\"number\">0</span>：链接，<span class=\"number\">1</span>：列表，<span class=\"number\">2</span>：幻灯片，<span class=\"number\">3</span>：列表和幻灯片  </span>\n<span class=\"line\">pid           <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  上级菜单<span class=\"keyword\">id</span>                                                                         </span>\n<span class=\"line\">isoauth       tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  是否授权                                                                           </span>\n<span class=\"line\">xuhao         tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  序号  </span>\n<span class=\"line\">                                                                               </span>\n<span class=\"line\">rmtype        tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  回复消息类型                                                                     </span>\n<span class=\"line\">returnmsg     <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  回复信息                                                                           </span>\n<span class=\"line\">                                                                     </span>\n<span class=\"line\">exeaction     tinyint(<span class=\"number\">4</span>)    (<span class=\"literal\">NULL</span>)           YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  执行动作 <span class=\"number\">0</span> 回复消息 <span class=\"number\">1</span>调用接口                                              </span>\n<span class=\"line\">tenantid      <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  租户<span class=\"keyword\">id</span>                                                                               </span>\n<span class=\"line\">cover         <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span>  封面文件<span class=\"keyword\">ID</span>                                                                         </span>\n<span class=\"line\">matchruleid   <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>)   utf8_general_ci  YES             (<span class=\"literal\">NULL</span>)           <span class=\"keyword\">select</span>,<span class=\"keyword\">insert</span>,<span class=\"keyword\">update</span>,<span class=\"keyword\">references</span></span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">[</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    <span class=\"string\">'id'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"string\">'name'</span>: <span class=\"string\">'sdfsdsdf'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'menutype'</span>: <span class=\"string\">'1'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'linkaddr'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"string\">'menukey'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\">    <span class=\"string\">'outinterface'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'outsysid'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'model'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'isoauth'</span>: <span class=\"string\">'1'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'returnmsg'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\">    <span class=\"string\">'rmtype'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'exeaction'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'subList'</span>: [</span>\n<span class=\"line\">      &#123;</span>\n<span class=\"line\">        <span class=\"string\">'id'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\">        <span class=\"string\">'name'</span>: <span class=\"string\">'sdfsadf'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'menutype'</span>: <span class=\"string\">'3'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'linkaddr'</span>: <span class=\"string\">'/sdfsdf'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">        </span>\n<span class=\"line\">        <span class=\"string\">'menukey'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\">        <span class=\"string\">'outinterface'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'outsysid'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'model'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'isoauth'</span>: <span class=\"string\">'1'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'returnmsg'</span>: <span class=\"string\">''</span>,</span>\n<span class=\"line\">        <span class=\"string\">'rmtype'</span>: <span class=\"string\">'0'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'exeaction'</span>: <span class=\"string\">'0'</span></span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\">    ]</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">]</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">[</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;sdsdsdfesdv&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;sdfsdsdf&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: 0,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;sdsdsdfesdv&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;ggdfdsfgfghghjghjghj&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;0&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;assfdsdfdfeee&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;ggdfdsfgfghghjghjghj&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;weerfgfgfhgsdgdgd&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;0&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;ssdsasdfdsfsdfasdf&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;ggdfdsfgfghghjghjghj&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    &apos;id&apos;: &apos;ssssdsdsdsdsdsds&apos;,</span>\n<span class=\"line\">    &apos;pid&apos;: &apos;weerfgfgfhgsdgdgd&apos;,</span>\n<span class=\"line\">    &apos;name&apos;: &apos;第一个菜单&apos;,</span>\n<span class=\"line\">    &apos;linkaddr&apos;: &apos;/sdfsdf&apos;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">]</span>\n</pre></td></tr></table></figure><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">[</span>\n<span class=\"line\">  &#123;</span>\n<span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"number\">1</span>,</span>\n<span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">'回忆'</span>,</span>\n<span class=\"line\">    <span class=\"attr\">url</span>: <span class=\"string\">''</span></span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">]</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\">getTypeList -- [type name url]</span>\n<span class=\"line\"></span>\n<span class=\"line\">getTypeDatas -- list, page</span>\n</pre></td></tr></table></figure><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n<span class=\"line\">61</span>\n<span class=\"line\">62</span>\n<span class=\"line\">63</span>\n<span class=\"line\">64</span>\n<span class=\"line\">65</span>\n<span class=\"line\">66</span>\n<span class=\"line\">67</span>\n<span class=\"line\">68</span>\n<span class=\"line\">69</span>\n<span class=\"line\">70</span>\n<span class=\"line\">71</span>\n<span class=\"line\">72</span>\n<span class=\"line\">73</span>\n<span class=\"line\">74</span>\n<span class=\"line\">75</span>\n<span class=\"line\">76</span>\n<span class=\"line\">77</span>\n<span class=\"line\">78</span>\n<span class=\"line\">79</span>\n<span class=\"line\">80</span>\n<span class=\"line\">81</span>\n<span class=\"line\">82</span>\n<span class=\"line\">83</span>\n<span class=\"line\">84</span>\n<span class=\"line\">85</span>\n<span class=\"line\">86</span>\n<span class=\"line\">87</span>\n<span class=\"line\">88</span>\n<span class=\"line\">89</span>\n<span class=\"line\">90</span>\n<span class=\"line\">91</span>\n<span class=\"line\">92</span>\n<span class=\"line\">93</span>\n<span class=\"line\">94</span>\n<span class=\"line\">95</span>\n<span class=\"line\">96</span>\n<span class=\"line\">97</span>\n<span class=\"line\">98</span>\n<span class=\"line\">99</span>\n<span class=\"line\">100</span>\n<span class=\"line\">101</span>\n<span class=\"line\">102</span>\n<span class=\"line\">103</span>\n<span class=\"line\">104</span>\n<span class=\"line\">105</span>\n<span class=\"line\">106</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\">import &#123; Table, Icon, Switch, Radio, Form &#125; from 'antd';</span>\n<span class=\"line\">const FormItem = Form.Item;</span>\n<span class=\"line\"></span>\n<span class=\"line\">const columns = [&#123;</span>\n<span class=\"line\">  title: 'Name',</span>\n<span class=\"line\">  dataIndex: 'name',</span>\n<span class=\"line\">  key: 'name',</span>\n<span class=\"line\">  width: 150,</span>\n<span class=\"line\">  render: text =&gt; &lt;a href=\"#\"&gt;&#123;text&#125;&lt;/a&gt;,</span>\n<span class=\"line\">&#125;, &#123;</span>\n<span class=\"line\">  title: 'Age',</span>\n<span class=\"line\">  dataIndex: 'age',</span>\n<span class=\"line\">  key: 'age',</span>\n<span class=\"line\">  width: 70,</span>\n<span class=\"line\">&#125;, &#123;</span>\n<span class=\"line\">  title: 'Address',</span>\n<span class=\"line\">  dataIndex: 'address',</span>\n<span class=\"line\">  key: 'address',</span>\n<span class=\"line\">&#125;, &#123;</span>\n<span class=\"line\">  title: 'Action',</span>\n<span class=\"line\">  key: 'action',</span>\n<span class=\"line\">  width: 360,</span>\n<span class=\"line\">  render: (text, record) =&gt; (</span>\n<span class=\"line\">    &lt;span&gt;</span>\n<span class=\"line\">      &lt;a href=\"#\"&gt;Action 一 &#123;record.name&#125;&lt;/a&gt;</span>\n<span class=\"line\">      &lt;span className=\"ant-divider\" /&gt;</span>\n<span class=\"line\">      &lt;a href=\"#\"&gt;Delete&lt;/a&gt;</span>\n<span class=\"line\">      &lt;span className=\"ant-divider\" /&gt;</span>\n<span class=\"line\">      &lt;a href=\"#\" className=\"ant-dropdown-link\"&gt;</span>\n<span class=\"line\">        More actions &lt;Icon type=\"down\" /&gt;</span>\n<span class=\"line\">      &lt;/a&gt;</span>\n<span class=\"line\">    &lt;/span&gt;</span>\n<span class=\"line\">  ),</span>\n<span class=\"line\">&#125;];</span>\n<span class=\"line\"></span>\n<span class=\"line\">const data = [];</span>\n<span class=\"line\">for (let i = 1; i &lt;= 10; i++) &#123;</span>\n<span class=\"line\">  data.push(&#123;</span>\n<span class=\"line\">    key: i,</span>\n<span class=\"line\">    name: 'John Brown',</span>\n<span class=\"line\">    age: `$&#123;i&#125;2`,</span>\n<span class=\"line\">    address: `New York No. $&#123;i&#125; Lake Park`,</span>\n<span class=\"line\">    description: `My name is John Brown, I am $&#123;i&#125;2 years old, living in New York No. $&#123;i&#125; Lake Park.`,</span>\n<span class=\"line\">  &#125;);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">const expandedRowRender = record =&gt; &lt;p&gt;&#123;record.description&#125;&lt;/p&gt;;</span>\n<span class=\"line\">const title = () =&gt; 'Here is title';</span>\n<span class=\"line\">const footer = () =&gt; 'Here is footer';</span>\n<span class=\"line\">const scroll = &#123; y: 240 &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">class Demo extends React.Component &#123;</span>\n<span class=\"line\">  state = &#123;</span>\n<span class=\"line\">    bordered: false,</span>\n<span class=\"line\">    loading: false,</span>\n<span class=\"line\">    pagination: true,</span>\n<span class=\"line\">    size: 'default',</span>\n<span class=\"line\">    expandedRowRender,</span>\n<span class=\"line\">    title,</span>\n<span class=\"line\">    footer,</span>\n<span class=\"line\">    rowSelection: &#123;&#125;,</span>\n<span class=\"line\">    scroll: undefined,</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleToggle = (prop) =&gt; &#123;</span>\n<span class=\"line\">    return (enable) =&gt; &#123;</span>\n<span class=\"line\">      this.setState(&#123; [prop]: enable &#125;);</span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleSizeChange = (e) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; size: e.target.value &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleExpandChange = (enable) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; expandedRowRender: enable ? expandedRowRender : false &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleTitleChange = (enable) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; title: enable ? title : undefined &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleFooterChange = (enable) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; footer: enable ? footer : undefined &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleRowSelectionChange = (enable) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; rowSelection: enable ? &#123;&#125; : undefined &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleScollChange = (enable) =&gt; &#123;</span>\n<span class=\"line\">    this.setState(&#123; scroll: enable ? scroll : undefined &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    const state = this.state;</span>\n<span class=\"line\">    return (</span>\n<span class=\"line\">      &lt;div&gt;</span>\n<span class=\"line\">        &lt;Table &#123;...this.state&#125; columns=&#123;columns&#125; dataSource=&#123;data&#125; /&gt;</span>\n<span class=\"line\">      &lt;/div&gt;</span>\n<span class=\"line\">    );</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">ReactDOM.render(&lt;Demo /&gt;, mountNode);</span>\n</pre></td></tr></table></figure><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">&lt;ButtonGroup&gt;</span>\n<span class=\"line\">  &lt;Popover</span>\n<span class=\"line\">    placement=\"topLeft\"</span>\n<span class=\"line\">    content=&#123;</span>\n<span class=\"line\">      &lt;div&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">      &lt;/div&gt;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &gt;</span>\n<span class=\"line\">    &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">  &lt;/Popover&gt;</span>\n<span class=\"line\">  &lt;Popover</span>\n<span class=\"line\">    placement=\"topLeft\"</span>\n<span class=\"line\">    content=&#123;</span>\n<span class=\"line\">      &lt;div&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">      &lt;/div&gt;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &gt;</span>\n<span class=\"line\">    &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">  &lt;/Popover&gt;</span>\n<span class=\"line\">  &lt;Popover</span>\n<span class=\"line\">    placement=\"topLeft\"</span>\n<span class=\"line\">    content=&#123;</span>\n<span class=\"line\">      &lt;div&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;&lt;br/&gt;</span>\n<span class=\"line\">        &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">      &lt;/div&gt;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &gt;</span>\n<span class=\"line\">    &lt;Button&gt;边缘对齐&lt;/Button&gt;</span>\n<span class=\"line\">  &lt;/Popover&gt;</span>\n<span class=\"line\">&lt;/ButtonGroup&gt;</span>\n</pre></td></tr></table></figure>"},{"title":"tmp in weaver","draft":"true","date":"2016-11-22T01:49:57.000Z","_content":"\n```sql\nCREATE TABLE `eb_lottery_screen_setting` (\n  `id` varchar(32) NOT NULL,\n  `logo` varchar(255) DEFAULT NULL COMMENT 'logo',\n  `banner` varchar(255) DEFAULT NULL COMMENT 'banner',\n  `background_image` varchar(255) DEFAULT NULL COMMENT '投影屏幕背景',\n  `scroll_music` varchar(255) DEFAULT NULL COMMENT '摇奖音乐',\n  `win_music` varchar(255) DEFAULT NULL COMMENT '中奖音乐',\n  `is_default` tinyint(4) DEFAULT NULL COMMENT '默认设置：0-否、1-是',\n  `relate_activity_id` varchar(32) DEFAULT NULL COMMENT '活动id',\n  `creatorid` varchar(32) DEFAULT NULL,\n  `createtime` datetime DEFAULT NULL,\n  `updaterid` varchar(32) DEFAULT NULL,\n  `updatetime` datetime DEFAULT NULL,\n  `tenantid` varchar(32) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n);\n```\n\n相关字段：\n* Logo logo\n* Banner banner\n* 投影屏幕背景 background_image\n* 摇奖音乐 scroll_music\n* 中奖音乐 win_music\n* 默认设置 is_default\n* 相关活动 relate_activity_id\n\n\n```js\n  const beforeCoverUpload = (file) => {\n    const isSuitable = /^image\\/(png|jpe?g)$/i.test(file.type);\n    if (!isSuitable) {\n      message.error(\"请上传png, jpeg, jpg格式的图片！\");\n    }\n    return isSuitable;\n  }\n\n  \n  const afterFileUpload = (fileid) => {\n    setFieldsValue({'meeting.cover': fileid});\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    validateFields((errors) => {\n      if (!!errors) {\n        return;\n      }\n      \n      onSearch(getFieldsValue());\n    });\n  }\n\n\n```\n\n\n对岗位职责的理解\n按照要求写好前端网页，偶尔修改一些简单的后台代码。\n及时发现自己代码的问题，尽量 bug 要少~\n\n试用期的成长\n知道了云桥系统\n知道了e-cology，e-office，e-teams 的区别与使用场景（试用了e-teams， 界面超级好看，仅次于我们的会务系统了）\n对 react 的工具栈又有了新的认识，之前对 dva 不是很熟悉，现在就很擅长了。\n现在慢慢适应了签到签退每天写微博的工作了。\n\n\n目前存在的不足\n之前就发生过因为交流不够 然后有一个表单的形式写错了，我感觉还是要更多的沟通。\n偶尔早上的时候会犯困（九点半到十点半之间），导致效率比较低。\n\n\n如何做的更好\n多向老同事学习\n努力做好本职工作，严格要求自\n多学习与工作相关的知识\n和同事搞好关系，和周围的人和谐相处\n保持自己好的态度以及整洁的形象\n\n对本公司和产品建议和意见\n都挺好的，就是 查看或者编辑流程要弹出一个窗口感觉不太好，有时这个窗口就不知道去哪了，如果是一个新 tab 会体验好一些~\n\n\n","source":"_drafts/tmp-in-weaver.md","raw":"title: tmp in weaver\ntags:\n  - null\ncategories:\n  - null\ndraft: 'true'\ndate: 2016-11-22 09:49:57\n---\n\n```sql\nCREATE TABLE `eb_lottery_screen_setting` (\n  `id` varchar(32) NOT NULL,\n  `logo` varchar(255) DEFAULT NULL COMMENT 'logo',\n  `banner` varchar(255) DEFAULT NULL COMMENT 'banner',\n  `background_image` varchar(255) DEFAULT NULL COMMENT '投影屏幕背景',\n  `scroll_music` varchar(255) DEFAULT NULL COMMENT '摇奖音乐',\n  `win_music` varchar(255) DEFAULT NULL COMMENT '中奖音乐',\n  `is_default` tinyint(4) DEFAULT NULL COMMENT '默认设置：0-否、1-是',\n  `relate_activity_id` varchar(32) DEFAULT NULL COMMENT '活动id',\n  `creatorid` varchar(32) DEFAULT NULL,\n  `createtime` datetime DEFAULT NULL,\n  `updaterid` varchar(32) DEFAULT NULL,\n  `updatetime` datetime DEFAULT NULL,\n  `tenantid` varchar(32) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n);\n```\n\n相关字段：\n* Logo logo\n* Banner banner\n* 投影屏幕背景 background_image\n* 摇奖音乐 scroll_music\n* 中奖音乐 win_music\n* 默认设置 is_default\n* 相关活动 relate_activity_id\n\n\n```js\n  const beforeCoverUpload = (file) => {\n    const isSuitable = /^image\\/(png|jpe?g)$/i.test(file.type);\n    if (!isSuitable) {\n      message.error(\"请上传png, jpeg, jpg格式的图片！\");\n    }\n    return isSuitable;\n  }\n\n  \n  const afterFileUpload = (fileid) => {\n    setFieldsValue({'meeting.cover': fileid});\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    validateFields((errors) => {\n      if (!!errors) {\n        return;\n      }\n      \n      onSearch(getFieldsValue());\n    });\n  }\n\n\n```\n\n\n对岗位职责的理解\n按照要求写好前端网页，偶尔修改一些简单的后台代码。\n及时发现自己代码的问题，尽量 bug 要少~\n\n试用期的成长\n知道了云桥系统\n知道了e-cology，e-office，e-teams 的区别与使用场景（试用了e-teams， 界面超级好看，仅次于我们的会务系统了）\n对 react 的工具栈又有了新的认识，之前对 dva 不是很熟悉，现在就很擅长了。\n现在慢慢适应了签到签退每天写微博的工作了。\n\n\n目前存在的不足\n之前就发生过因为交流不够 然后有一个表单的形式写错了，我感觉还是要更多的沟通。\n偶尔早上的时候会犯困（九点半到十点半之间），导致效率比较低。\n\n\n如何做的更好\n多向老同事学习\n努力做好本职工作，严格要求自\n多学习与工作相关的知识\n和同事搞好关系，和周围的人和谐相处\n保持自己好的态度以及整洁的形象\n\n对本公司和产品建议和意见\n都挺好的，就是 查看或者编辑流程要弹出一个窗口感觉不太好，有时这个窗口就不知道去哪了，如果是一个新 tab 会体验好一些~\n\n\n","slug":"tmp-in-weaver","published":0,"updated":"2017-01-20T02:54:49.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bpw000q8gnya91zj5sg","content":"<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`eb_lottery_screen_setting`</span> (</span>\n<span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`logo`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'logo'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`banner`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'banner'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`background_image`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'投影屏幕背景'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`scroll_music`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'摇奖音乐'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`win_music`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'中奖音乐'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`is_default`</span> tinyint(<span class=\"number\">4</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'默认设置：0-否、1-是'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`relate_activity_id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'活动id'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`creatorid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`createtime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`updaterid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`updatetime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`tenantid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`id`</span>)</span>\n<span class=\"line\">);</span>\n</pre></td></tr></table></figure><p>相关字段：</p><ul><li>Logo logo</li><li>Banner banner</li><li>投影屏幕背景 background_image</li><li>摇奖音乐 scroll_music</li><li>中奖音乐 win_music</li><li>默认设置 is_default</li><li>相关活动 relate_activity_id</li></ul><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> beforeCoverUpload = <span class=\"function\">(<span class=\"params\">file</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> isSuitable = <span class=\"regexp\">/^image\\/(png|jpe?g)$/i</span>.test(file.type);</span>\n<span class=\"line\">  <span class=\"keyword\">if</span> (!isSuitable) &#123;</span>\n<span class=\"line\">    message.error(<span class=\"string\">\"请上传png, jpeg, jpg格式的图片！\"</span>);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  <span class=\"keyword\">return</span> isSuitable;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">const</span> afterFileUpload = <span class=\"function\">(<span class=\"params\">fileid</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">  setFieldsValue(&#123;<span class=\"string\">'meeting.cover'</span>: fileid&#125;);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handleSubmit</span>(<span class=\"params\">e</span>) </span>&#123;</span>\n<span class=\"line\">  e.preventDefault();</span>\n<span class=\"line\">  validateFields(<span class=\"function\">(<span class=\"params\">errors</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (!!errors) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">return</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">    </span>\n<span class=\"line\">    onSearch(getFieldsValue());</span>\n<span class=\"line\">  &#125;);</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>对岗位职责的理解<br>按照要求写好前端网页，偶尔修改一些简单的后台代码。<br>及时发现自己代码的问题，尽量 bug 要少~</p><p>试用期的成长<br>知道了云桥系统<br>知道了e-cology，e-office，e-teams 的区别与使用场景（试用了e-teams， 界面超级好看，仅次于我们的会务系统了）<br>对 react 的工具栈又有了新的认识，之前对 dva 不是很熟悉，现在就很擅长了。<br>现在慢慢适应了签到签退每天写微博的工作了。</p><p>目前存在的不足<br>之前就发生过因为交流不够 然后有一个表单的形式写错了，我感觉还是要更多的沟通。<br>偶尔早上的时候会犯困（九点半到十点半之间），导致效率比较低。</p><p>如何做的更好<br>多向老同事学习<br>努力做好本职工作，严格要求自<br>多学习与工作相关的知识<br>和同事搞好关系，和周围的人和谐相处<br>保持自己好的态度以及整洁的形象</p><p>对本公司和产品建议和意见<br>都挺好的，就是 查看或者编辑流程要弹出一个窗口感觉不太好，有时这个窗口就不知道去哪了，如果是一个新 tab 会体验好一些~</p>","excerpt":"","more":"<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`eb_lottery_screen_setting`</span> (</span>\n<span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`logo`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'logo'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`banner`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'banner'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`background_image`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'投影屏幕背景'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`scroll_music`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'摇奖音乐'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`win_music`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">255</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'中奖音乐'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`is_default`</span> tinyint(<span class=\"number\">4</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'默认设置：0-否、1-是'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`relate_activity_id`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'活动id'</span>,</span>\n<span class=\"line\">  <span class=\"string\">`creatorid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`createtime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`updaterid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`updatetime`</span> datetime <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  <span class=\"string\">`tenantid`</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">32</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>,</span>\n<span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`id`</span>)</span>\n<span class=\"line\">);</span>\n</pre></td></tr></table></figure><p>相关字段：</p><ul><li>Logo logo</li><li>Banner banner</li><li>投影屏幕背景 background_image</li><li>摇奖音乐 scroll_music</li><li>中奖音乐 win_music</li><li>默认设置 is_default</li><li>相关活动 relate_activity_id</li></ul><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> beforeCoverUpload = <span class=\"function\">(<span class=\"params\">file</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> isSuitable = <span class=\"regexp\">/^image\\/(png|jpe?g)$/i</span>.test(file.type);</span>\n<span class=\"line\">  <span class=\"keyword\">if</span> (!isSuitable) &#123;</span>\n<span class=\"line\">    message.error(<span class=\"string\">\"请上传png, jpeg, jpg格式的图片！\"</span>);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  <span class=\"keyword\">return</span> isSuitable;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">const</span> afterFileUpload = <span class=\"function\">(<span class=\"params\">fileid</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">  setFieldsValue(&#123;<span class=\"string\">'meeting.cover'</span>: fileid&#125;);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handleSubmit</span>(<span class=\"params\">e</span>) </span>&#123;</span>\n<span class=\"line\">  e.preventDefault();</span>\n<span class=\"line\">  validateFields(<span class=\"function\">(<span class=\"params\">errors</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (!!errors) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">return</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">    </span>\n<span class=\"line\">    onSearch(getFieldsValue());</span>\n<span class=\"line\">  &#125;);</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>对岗位职责的理解<br>按照要求写好前端网页，偶尔修改一些简单的后台代码。<br>及时发现自己代码的问题，尽量 bug 要少~</p><p>试用期的成长<br>知道了云桥系统<br>知道了e-cology，e-office，e-teams 的区别与使用场景（试用了e-teams， 界面超级好看，仅次于我们的会务系统了）<br>对 react 的工具栈又有了新的认识，之前对 dva 不是很熟悉，现在就很擅长了。<br>现在慢慢适应了签到签退每天写微博的工作了。</p><p>目前存在的不足<br>之前就发生过因为交流不够 然后有一个表单的形式写错了，我感觉还是要更多的沟通。<br>偶尔早上的时候会犯困（九点半到十点半之间），导致效率比较低。</p><p>如何做的更好<br>多向老同事学习<br>努力做好本职工作，严格要求自<br>多学习与工作相关的知识<br>和同事搞好关系，和周围的人和谐相处<br>保持自己好的态度以及整洁的形象</p><p>对本公司和产品建议和意见<br>都挺好的，就是 查看或者编辑流程要弹出一个窗口感觉不太好，有时这个窗口就不知道去哪了，如果是一个新 tab 会体验好一些~</p>"},{"title":"Baseview in Backbone","date":"2015-11-12T16:36:15.000Z","_content":"## 前言\n今天研究了好久的 Backbone，一直搞不明白，怎么通过 router 的改变来切换 view。\n\n## 过程跌宕起伏\n\n事情是这样的，都知道 backbone 有 model, collection, view, router 这些基本概念，今天我要写一个简单的网页，有两个 nav 项，因为用了 backbone，自然就想到了单页应用，就是单击其中某一个的时候，显示这一个 nav 项对应的内容。\n\n这就用到了 router 的事件，每当 router 改变时，重新 render 整个页面。（我是这么想的，也不是整个，router 变了有些内容必然会跟着变。）\n\n```js\nvar appView = this;\nBackbone.history.on('route', function (router, name) {\n    console.log('current route:', name);\n    appView.render();\n});\n```\n\n另外，在 router 里面我定义了一个变量，用来表明哪一个 nav 项被点击。\n```js\nBackbone.Router.extend({\n\n    // ... other methods\n\n    routes: {\n        '': 'chat', // default to #chat\n        'chat': 'chat',\n        'broadcast': 'broadcast',\n        '*nothingMatched': 'pageNotFoundRoute' // 404\n    },\n\n    chat: function () {\n        console.log(\"chat page loaded.\");\n        window.App.currentRouter = 'chat';\n    },\n\n    broadcast: function () {\n        console.log('broadcast page loaded.');\n        window.App.currentRouter = 'broadcast';\n    },\n\n    pageNotFoundRoute: function() {\n        console.log('pageNotFoundRoute');\n    }\n\n});\n```\n\n事实证明，我的想法是有一点点正确的，因为运行顺序是这样的：\n```bash\nin appView initialize.\ndoctor-router.js:11 Route initialize\ndoctor-router.js:22 chat page loaded.    # 首先，进入 router 的处理方法\napp.js:31 current route: chat            # 然后，响应 router 的 change 事件\napp.js:58 in appView render.             # 最后，appView 的 render 方法根据 route name\n                                         # render对应的 view\n```\n\nrender 的时候，首先要 **remove** 当前的view，然后 render 新的view。我是这么写的：\n```js\nif (this.siderView) {\n    // 删掉当前的\n    this.siderView.remove();\n}\n\nif (App.currentRouter === 'chat') {\n    this.siderView = new ChatSiderView();\n} else if (App.currentRouter === 'broadcast') {\n    this.siderView = new DoctorProfileView();\n}\n\n// render 新的 view\nthis.siderView.render();\n```\n\n运行之后我发现，这样点击下一个 nav 的时候， view 变成了空白的。后来审查元素，发现 el 那个节点整个被删掉了，因为他们两个共同放在同一个 el 下面。\n```js\n// view 1\nvar DoctorProfileView = Backbone.View.extend({\n    el: '.left_aside',\n    className:  'doctor_profile'\n    // ...\n});\n\n// view 2\nvar ChatSiderView = BaseView.extend({\n    el: '.left_aside',\n    // ...\n});\n```\n\n因为是新手，而且这是第一次用 backbone，所以还不知道 $el 就是 juqery 对象（其实问题不在这里），所以我就开始了漫无目的的搜索。\n\n其实办法肯定是有的，就是让他俩不共用同一个 el 节点，每次 render 完了之后，添加到要显示的地方，remove 的时候也只会删掉他自己，况且还可以用 hide。\n\n## 有了一线希望\n\n终于，我看到网上有人写了这么一句：\n```js\nthis.$el.empty();\n```\n\n然后我顺藤摸瓜看起了 backbone 的源代码：\n```js\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function (options) {\n      this.cid = _.uniqueId('view');\n      _.extend(this, _.pick(options, viewOptions));\n      this._ensureElement();\n      this.initialize.apply(this, arguments);\n  };\n\n  // Ensure that the View has a DOM element to render into.\n  // If `this.el` is a string, pass it through `$()`, take the first\n  // matching element, and re-assign it to `el`. Otherwise, create\n  // an element from the `id`, `className` and `tagName` properties.\n  _ensureElement: function () {\n      if (!this.el) {\n        // ...\n        // omit this because we pass 'el' as options to the View.\n        // ...\n      } else {\n          this.setElement(_.result(this, 'el'));\n      }\n  }\n\n  // Change the view's element (`this.el` property) and re-delegate the\n  // view's events on the new element.\n  setElement: function (element) {\n      this.undelegateEvents();\n      this._setElement(element);\n      this.delegateEvents();\n      return this;\n  }\n\n  // Creates the `this.el` and `this.$el` references for this view using the\n  // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n  // context or an element. Subclasses can override this to utilize an\n  // alternative DOM manipulation API and are only required to set the\n  // `this.el` property.\n  _setElement: function (el) {\n      this.$el = el instanceof Backbone.$\n               ? el\n               : Backbone.$(el);\n      this.el = this.$el[0];\n  }\n```\n\n上面这一段就是说，如果我们传入了 el 那么 backbone 会自动设置 $el（通过命名就能看出这是一个 jquery 对象咯）, 并且绑定我们在 events 定义的事件到这上面。\n\n然后还有 backbone 的 remove view 的方法：\n```js\n  // Remove this view by taking the element out of the DOM, and removing any\n  // applicable Backbone.Events listeners.\n  remove: function () {\n      this._removeElement();\n      this.stopListening();\n      return this;\n  },\n\n  // Remove this view's element from the document and all event listeners\n  // attached to it. Exposed for subclasses using an alternative DOM\n  // manipulation API.\n  _removeElement: function () {\n      this.$el.remove();\n  }\n```\n\n解除事件监听，删掉元素。\n\n## 最终的 hide 方法\n\n于是，我模仿着写了一个 hide 方法：\n```js\n  hide: function () {\n      this.undelegateEvents();\n      this.$el.empty();\n      this.stopListening();\n  }\n```\n好像很简单，哈哈， 顺便把 appView 里面也改掉：\n```js\nif (this.siderView) {\n    this.siderView.hide();\n}\n\nif (!App.currentRouter || App.currentRouter === 'chat') {\n    this.siderView = new ChatSiderView();\n} else if (App.currentRouter === 'broadcast') {\n    this.siderView = new DoctorProfileView();\n}\n\nthis.siderView.render();\n```\n运行之后，切换 view 正常了。耶！\n\n然后我想让我的view 都具有 hide 这个方法，恰好 backbone 很好的面向对象，于是：\n```js\n/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'backbone'\n], function ($, _, Backbone) {\n    'use strict';\n\n    var BaseView = Backbone.View.extend({\n\n        hide: function () {\n            this.undelegateEvents();\n            this.$el.empty();\n            this.stopListening();\n        }\n\n    });\n\n    return BaseView;\n\n});\n\n// how to use\nvar ChatSiderView = BaseView.extend({\n\n    el: '.left_aside',\n\n    //...\n});\n```\n\n感觉非常顺畅。\n\n## 后记\n频繁的删除dom元素，速度肯定是慢的，恰好我的网页很简单，所以看不出明显的缺点，网上也是推荐使用 `display：none` 和 `display：block` 来切换 view， 等我以后再研究吧。\n\n以上。\n","source":"_posts/baseview-in-backbone.md","raw":"title: Baseview in Backbone\ntags:\n  - backbone\n  - base\n  - view\ncategories:\n  - Backbone\ndate: 2015-11-13 00:36:15\n---\n## 前言\n今天研究了好久的 Backbone，一直搞不明白，怎么通过 router 的改变来切换 view。\n\n## 过程跌宕起伏\n\n事情是这样的，都知道 backbone 有 model, collection, view, router 这些基本概念，今天我要写一个简单的网页，有两个 nav 项，因为用了 backbone，自然就想到了单页应用，就是单击其中某一个的时候，显示这一个 nav 项对应的内容。\n\n这就用到了 router 的事件，每当 router 改变时，重新 render 整个页面。（我是这么想的，也不是整个，router 变了有些内容必然会跟着变。）\n\n```js\nvar appView = this;\nBackbone.history.on('route', function (router, name) {\n    console.log('current route:', name);\n    appView.render();\n});\n```\n\n另外，在 router 里面我定义了一个变量，用来表明哪一个 nav 项被点击。\n```js\nBackbone.Router.extend({\n\n    // ... other methods\n\n    routes: {\n        '': 'chat', // default to #chat\n        'chat': 'chat',\n        'broadcast': 'broadcast',\n        '*nothingMatched': 'pageNotFoundRoute' // 404\n    },\n\n    chat: function () {\n        console.log(\"chat page loaded.\");\n        window.App.currentRouter = 'chat';\n    },\n\n    broadcast: function () {\n        console.log('broadcast page loaded.');\n        window.App.currentRouter = 'broadcast';\n    },\n\n    pageNotFoundRoute: function() {\n        console.log('pageNotFoundRoute');\n    }\n\n});\n```\n\n事实证明，我的想法是有一点点正确的，因为运行顺序是这样的：\n```bash\nin appView initialize.\ndoctor-router.js:11 Route initialize\ndoctor-router.js:22 chat page loaded.    # 首先，进入 router 的处理方法\napp.js:31 current route: chat            # 然后，响应 router 的 change 事件\napp.js:58 in appView render.             # 最后，appView 的 render 方法根据 route name\n                                         # render对应的 view\n```\n\nrender 的时候，首先要 **remove** 当前的view，然后 render 新的view。我是这么写的：\n```js\nif (this.siderView) {\n    // 删掉当前的\n    this.siderView.remove();\n}\n\nif (App.currentRouter === 'chat') {\n    this.siderView = new ChatSiderView();\n} else if (App.currentRouter === 'broadcast') {\n    this.siderView = new DoctorProfileView();\n}\n\n// render 新的 view\nthis.siderView.render();\n```\n\n运行之后我发现，这样点击下一个 nav 的时候， view 变成了空白的。后来审查元素，发现 el 那个节点整个被删掉了，因为他们两个共同放在同一个 el 下面。\n```js\n// view 1\nvar DoctorProfileView = Backbone.View.extend({\n    el: '.left_aside',\n    className:  'doctor_profile'\n    // ...\n});\n\n// view 2\nvar ChatSiderView = BaseView.extend({\n    el: '.left_aside',\n    // ...\n});\n```\n\n因为是新手，而且这是第一次用 backbone，所以还不知道 $el 就是 juqery 对象（其实问题不在这里），所以我就开始了漫无目的的搜索。\n\n其实办法肯定是有的，就是让他俩不共用同一个 el 节点，每次 render 完了之后，添加到要显示的地方，remove 的时候也只会删掉他自己，况且还可以用 hide。\n\n## 有了一线希望\n\n终于，我看到网上有人写了这么一句：\n```js\nthis.$el.empty();\n```\n\n然后我顺藤摸瓜看起了 backbone 的源代码：\n```js\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function (options) {\n      this.cid = _.uniqueId('view');\n      _.extend(this, _.pick(options, viewOptions));\n      this._ensureElement();\n      this.initialize.apply(this, arguments);\n  };\n\n  // Ensure that the View has a DOM element to render into.\n  // If `this.el` is a string, pass it through `$()`, take the first\n  // matching element, and re-assign it to `el`. Otherwise, create\n  // an element from the `id`, `className` and `tagName` properties.\n  _ensureElement: function () {\n      if (!this.el) {\n        // ...\n        // omit this because we pass 'el' as options to the View.\n        // ...\n      } else {\n          this.setElement(_.result(this, 'el'));\n      }\n  }\n\n  // Change the view's element (`this.el` property) and re-delegate the\n  // view's events on the new element.\n  setElement: function (element) {\n      this.undelegateEvents();\n      this._setElement(element);\n      this.delegateEvents();\n      return this;\n  }\n\n  // Creates the `this.el` and `this.$el` references for this view using the\n  // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n  // context or an element. Subclasses can override this to utilize an\n  // alternative DOM manipulation API and are only required to set the\n  // `this.el` property.\n  _setElement: function (el) {\n      this.$el = el instanceof Backbone.$\n               ? el\n               : Backbone.$(el);\n      this.el = this.$el[0];\n  }\n```\n\n上面这一段就是说，如果我们传入了 el 那么 backbone 会自动设置 $el（通过命名就能看出这是一个 jquery 对象咯）, 并且绑定我们在 events 定义的事件到这上面。\n\n然后还有 backbone 的 remove view 的方法：\n```js\n  // Remove this view by taking the element out of the DOM, and removing any\n  // applicable Backbone.Events listeners.\n  remove: function () {\n      this._removeElement();\n      this.stopListening();\n      return this;\n  },\n\n  // Remove this view's element from the document and all event listeners\n  // attached to it. Exposed for subclasses using an alternative DOM\n  // manipulation API.\n  _removeElement: function () {\n      this.$el.remove();\n  }\n```\n\n解除事件监听，删掉元素。\n\n## 最终的 hide 方法\n\n于是，我模仿着写了一个 hide 方法：\n```js\n  hide: function () {\n      this.undelegateEvents();\n      this.$el.empty();\n      this.stopListening();\n  }\n```\n好像很简单，哈哈， 顺便把 appView 里面也改掉：\n```js\nif (this.siderView) {\n    this.siderView.hide();\n}\n\nif (!App.currentRouter || App.currentRouter === 'chat') {\n    this.siderView = new ChatSiderView();\n} else if (App.currentRouter === 'broadcast') {\n    this.siderView = new DoctorProfileView();\n}\n\nthis.siderView.render();\n```\n运行之后，切换 view 正常了。耶！\n\n然后我想让我的view 都具有 hide 这个方法，恰好 backbone 很好的面向对象，于是：\n```js\n/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'backbone'\n], function ($, _, Backbone) {\n    'use strict';\n\n    var BaseView = Backbone.View.extend({\n\n        hide: function () {\n            this.undelegateEvents();\n            this.$el.empty();\n            this.stopListening();\n        }\n\n    });\n\n    return BaseView;\n\n});\n\n// how to use\nvar ChatSiderView = BaseView.extend({\n\n    el: '.left_aside',\n\n    //...\n});\n```\n\n感觉非常顺畅。\n\n## 后记\n频繁的删除dom元素，速度肯定是慢的，恰好我的网页很简单，所以看不出明显的缺点，网上也是推荐使用 `display：none` 和 `display：block` 来切换 view， 等我以后再研究吧。\n\n以上。\n","slug":"baseview-in-backbone","published":1,"updated":"2016-11-22T01:40:09.720Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bpx000r8gnydt60t3x2","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>今天研究了好久的 Backbone，一直搞不明白，怎么通过 router 的改变来切换 view。</p><h2 id=\"过程跌宕起伏\"><a href=\"#过程跌宕起伏\" class=\"headerlink\" title=\"过程跌宕起伏\"></a>过程跌宕起伏</h2><p>事情是这样的，都知道 backbone 有 model, collection, view, router 这些基本概念，今天我要写一个简单的网页，有两个 nav 项，因为用了 backbone，自然就想到了单页应用，就是单击其中某一个的时候，显示这一个 nav 项对应的内容。</p><p>这就用到了 router 的事件，每当 router 改变时，重新 render 整个页面。（我是这么想的，也不是整个，router 变了有些内容必然会跟着变。）</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> appView = <span class=\"keyword\">this</span>;</span>\n<span class=\"line\">Backbone.history.on(<span class=\"string\">'route'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">router, name</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'current route:'</span>, name);</span>\n<span class=\"line\">    appView.render();</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p>另外，在 router 里面我定义了一个变量，用来表明哪一个 nav 项被点击。<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">Backbone.Router.extend(&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"comment\">// ... other methods</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">    routes: &#123;</span>\n<span class=\"line\">        <span class=\"string\">''</span>: <span class=\"string\">'chat'</span>, <span class=\"comment\">// default to #chat</span></span>\n<span class=\"line\">        <span class=\"string\">'chat'</span>: <span class=\"string\">'chat'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'broadcast'</span>: <span class=\"string\">'broadcast'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'*nothingMatched'</span>: <span class=\"string\">'pageNotFoundRoute'</span> <span class=\"comment\">// 404</span></span>\n<span class=\"line\">    &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"attr\">chat</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">\"chat page loaded.\"</span>);</span>\n<span class=\"line\">        <span class=\"built_in\">window</span>.App.currentRouter = <span class=\"string\">'chat'</span>;</span>\n<span class=\"line\">    &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"attr\">broadcast</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'broadcast page loaded.'</span>);</span>\n<span class=\"line\">        <span class=\"built_in\">window</span>.App.currentRouter = <span class=\"string\">'broadcast'</span>;</span>\n<span class=\"line\">    &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"attr\">pageNotFoundRoute</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'pageNotFoundRoute'</span>);</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p></p><p>事实证明，我的想法是有一点点正确的，因为运行顺序是这样的：<br></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">in</span> appView initialize.</span>\n<span class=\"line\">doctor-router.js:11 Route initialize</span>\n<span class=\"line\">doctor-router.js:22 chat page loaded.    <span class=\"comment\"># 首先，进入 router 的处理方法</span></span>\n<span class=\"line\">app.js:31 current route: chat            <span class=\"comment\"># 然后，响应 router 的 change 事件</span></span>\n<span class=\"line\">app.js:58 <span class=\"keyword\">in</span> appView render.             <span class=\"comment\"># 最后，appView 的 render 方法根据 route name</span></span>\n<span class=\"line\">                                         <span class=\"comment\"># render对应的 view</span></span>\n</pre></td></tr></table></figure><p></p><p>render 的时候，首先要 <strong>remove</strong> 当前的view，然后 render 新的view。我是这么写的：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.siderView) &#123;</span>\n<span class=\"line\">    <span class=\"comment\">// 删掉当前的</span></span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView.remove();</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">if</span> (App.currentRouter === <span class=\"string\">'chat'</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView = <span class=\"keyword\">new</span> ChatSiderView();</span>\n<span class=\"line\">&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (App.currentRouter === <span class=\"string\">'broadcast'</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView = <span class=\"keyword\">new</span> DoctorProfileView();</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// render 新的 view</span></span>\n<span class=\"line\"><span class=\"keyword\">this</span>.siderView.render();</span>\n</pre></td></tr></table></figure><p></p><p>运行之后我发现，这样点击下一个 nav 的时候， view 变成了空白的。后来审查元素，发现 el 那个节点整个被删掉了，因为他们两个共同放在同一个 el 下面。<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// view 1</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> DoctorProfileView = Backbone.View.extend(&#123;</span>\n<span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">'.left_aside'</span>,</span>\n<span class=\"line\">    <span class=\"attr\">className</span>:  <span class=\"string\">'doctor_profile'</span></span>\n<span class=\"line\">    <span class=\"comment\">// ...</span></span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// view 2</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> ChatSiderView = BaseView.extend(&#123;</span>\n<span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">'.left_aside'</span>,</span>\n<span class=\"line\">    <span class=\"comment\">// ...</span></span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p></p><p>因为是新手，而且这是第一次用 backbone，所以还不知道 $el 就是 juqery 对象（其实问题不在这里），所以我就开始了漫无目的的搜索。</p><p>其实办法肯定是有的，就是让他俩不共用同一个 el 节点，每次 render 完了之后，添加到要显示的地方，remove 的时候也只会删掉他自己，况且还可以用 hide。</p><h2 id=\"有了一线希望\"><a href=\"#有了一线希望\" class=\"headerlink\" title=\"有了一线希望\"></a>有了一线希望</h2><p>终于，我看到网上有人写了这么一句：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.$el.empty();</span>\n</pre></td></tr></table></figure><p></p><p>然后我顺藤摸瓜看起了 backbone 的源代码：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Creating a Backbone.View creates its initial element outside of the DOM,</span></span>\n<span class=\"line\"><span class=\"comment\">// if an existing element is not provided...</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> View = Backbone.View = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">options</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.cid = _.uniqueId(<span class=\"string\">'view'</span>);</span>\n<span class=\"line\">    _.extend(<span class=\"keyword\">this</span>, _.pick(options, viewOptions));</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>._ensureElement();</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.initialize.apply(<span class=\"keyword\">this</span>, <span class=\"built_in\">arguments</span>);</span>\n<span class=\"line\">&#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// Ensure that the View has a DOM element to render into.</span></span>\n<span class=\"line\"><span class=\"comment\">// If `this.el` is a string, pass it through `$()`, take the first</span></span>\n<span class=\"line\"><span class=\"comment\">// matching element, and re-assign it to `el`. Otherwise, create</span></span>\n<span class=\"line\"><span class=\"comment\">// an element from the `id`, `className` and `tagName` properties.</span></span>\n<span class=\"line\">_ensureElement: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.el) &#123;</span>\n<span class=\"line\">      <span class=\"comment\">// ...</span></span>\n<span class=\"line\">      <span class=\"comment\">// omit this because we pass 'el' as options to the View.</span></span>\n<span class=\"line\">      <span class=\"comment\">// ...</span></span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">this</span>.setElement(_.result(<span class=\"keyword\">this</span>, <span class=\"string\">'el'</span>));</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// Change the view's element (`this.el` property) and re-delegate the</span></span>\n<span class=\"line\"><span class=\"comment\">// view's events on the new element.</span></span>\n<span class=\"line\">setElement: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.undelegateEvents();</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>._setElement(element);</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.delegateEvents();</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// Creates the `this.el` and `this.$el` references for this view using the</span></span>\n<span class=\"line\"><span class=\"comment\">// given `el`. `el` can be a CSS selector or an HTML string, a jQuery</span></span>\n<span class=\"line\"><span class=\"comment\">// context or an element. Subclasses can override this to utilize an</span></span>\n<span class=\"line\"><span class=\"comment\">// alternative DOM manipulation API and are only required to set the</span></span>\n<span class=\"line\"><span class=\"comment\">// `this.el` property.</span></span>\n<span class=\"line\">_setElement: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">el</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.$el = el <span class=\"keyword\">instanceof</span> Backbone.$</span>\n<span class=\"line\">             ? el</span>\n<span class=\"line\">             : Backbone.$(el);</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.el = <span class=\"keyword\">this</span>.$el[<span class=\"number\">0</span>];</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p>上面这一段就是说，如果我们传入了 el 那么 backbone 会自动设置 $el（通过命名就能看出这是一个 jquery 对象咯）, 并且绑定我们在 events 定义的事件到这上面。</p><p>然后还有 backbone 的 remove view 的方法：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Remove this view by taking the element out of the DOM, and removing any</span></span>\n<span class=\"line\"><span class=\"comment\">// applicable Backbone.Events listeners.</span></span>\n<span class=\"line\">remove: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>._removeElement();</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.stopListening();</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span>\n<span class=\"line\">&#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// Remove this view's element from the document and all event listeners</span></span>\n<span class=\"line\"><span class=\"comment\">// attached to it. Exposed for subclasses using an alternative DOM</span></span>\n<span class=\"line\"><span class=\"comment\">// manipulation API.</span></span>\n<span class=\"line\">_removeElement: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.$el.remove();</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p>解除事件监听，删掉元素。</p><h2 id=\"最终的-hide-方法\"><a href=\"#最终的-hide-方法\" class=\"headerlink\" title=\"最终的 hide 方法\"></a>最终的 hide 方法</h2><p>于是，我模仿着写了一个 hide 方法：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">hide: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.undelegateEvents();</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.$el.empty();</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.stopListening();</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p>好像很简单，哈哈， 顺便把 appView 里面也改掉：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.siderView) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView.hide();</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">if</span> (!App.currentRouter || App.currentRouter === <span class=\"string\">'chat'</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView = <span class=\"keyword\">new</span> ChatSiderView();</span>\n<span class=\"line\">&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (App.currentRouter === <span class=\"string\">'broadcast'</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView = <span class=\"keyword\">new</span> DoctorProfileView();</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">this</span>.siderView.render();</span>\n</pre></td></tr></table></figure><p></p><p>运行之后，切换 view 正常了。耶！</p><p>然后我想让我的view 都具有 hide 这个方法，恰好 backbone 很好的面向对象，于是：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*global define*/</span></span>\n<span class=\"line\">define([</span>\n<span class=\"line\">    <span class=\"string\">'jquery'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'underscore'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'backbone'</span></span>\n<span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">$, _, Backbone</span>) </span>&#123;</span>\n<span class=\"line\"><span class=\"meta\">    'use strict'</span>;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">var</span> BaseView = Backbone.View.extend(&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">        <span class=\"attr\">hide</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">            <span class=\"keyword\">this</span>.undelegateEvents();</span>\n<span class=\"line\">            <span class=\"keyword\">this</span>.$el.empty();</span>\n<span class=\"line\">            <span class=\"keyword\">this</span>.stopListening();</span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">return</span> BaseView;</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// how to use</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> ChatSiderView = BaseView.extend(&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">'.left_aside'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"comment\">//...</span></span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p></p><p>感觉非常顺畅。</p><h2 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h2><p>频繁的删除dom元素，速度肯定是慢的，恰好我的网页很简单，所以看不出明显的缺点，网上也是推荐使用 <code>display：none</code> 和 <code>display：block</code> 来切换 view， 等我以后再研究吧。</p><p>以上。</p>","excerpt":"","more":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>今天研究了好久的 Backbone，一直搞不明白，怎么通过 router 的改变来切换 view。</p><h2 id=\"过程跌宕起伏\"><a href=\"#过程跌宕起伏\" class=\"headerlink\" title=\"过程跌宕起伏\"></a>过程跌宕起伏</h2><p>事情是这样的，都知道 backbone 有 model, collection, view, router 这些基本概念，今天我要写一个简单的网页，有两个 nav 项，因为用了 backbone，自然就想到了单页应用，就是单击其中某一个的时候，显示这一个 nav 项对应的内容。</p><p>这就用到了 router 的事件，每当 router 改变时，重新 render 整个页面。（我是这么想的，也不是整个，router 变了有些内容必然会跟着变。）</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> appView = <span class=\"keyword\">this</span>;</span>\n<span class=\"line\">Backbone.history.on(<span class=\"string\">'route'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">router, name</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'current route:'</span>, name);</span>\n<span class=\"line\">    appView.render();</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p>另外，在 router 里面我定义了一个变量，用来表明哪一个 nav 项被点击。<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">Backbone.Router.extend(&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"comment\">// ... other methods</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">    routes: &#123;</span>\n<span class=\"line\">        <span class=\"string\">''</span>: <span class=\"string\">'chat'</span>, <span class=\"comment\">// default to #chat</span></span>\n<span class=\"line\">        <span class=\"string\">'chat'</span>: <span class=\"string\">'chat'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'broadcast'</span>: <span class=\"string\">'broadcast'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'*nothingMatched'</span>: <span class=\"string\">'pageNotFoundRoute'</span> <span class=\"comment\">// 404</span></span>\n<span class=\"line\">    &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"attr\">chat</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">\"chat page loaded.\"</span>);</span>\n<span class=\"line\">        <span class=\"built_in\">window</span>.App.currentRouter = <span class=\"string\">'chat'</span>;</span>\n<span class=\"line\">    &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"attr\">broadcast</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'broadcast page loaded.'</span>);</span>\n<span class=\"line\">        <span class=\"built_in\">window</span>.App.currentRouter = <span class=\"string\">'broadcast'</span>;</span>\n<span class=\"line\">    &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"attr\">pageNotFoundRoute</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'pageNotFoundRoute'</span>);</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p></p><p>事实证明，我的想法是有一点点正确的，因为运行顺序是这样的：<br></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">in</span> appView initialize.</span>\n<span class=\"line\">doctor-router.js:11 Route initialize</span>\n<span class=\"line\">doctor-router.js:22 chat page loaded.    <span class=\"comment\"># 首先，进入 router 的处理方法</span></span>\n<span class=\"line\">app.js:31 current route: chat            <span class=\"comment\"># 然后，响应 router 的 change 事件</span></span>\n<span class=\"line\">app.js:58 <span class=\"keyword\">in</span> appView render.             <span class=\"comment\"># 最后，appView 的 render 方法根据 route name</span></span>\n<span class=\"line\">                                         <span class=\"comment\"># render对应的 view</span></span>\n</pre></td></tr></table></figure><p></p><p>render 的时候，首先要 <strong>remove</strong> 当前的view，然后 render 新的view。我是这么写的：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.siderView) &#123;</span>\n<span class=\"line\">    <span class=\"comment\">// 删掉当前的</span></span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView.remove();</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">if</span> (App.currentRouter === <span class=\"string\">'chat'</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView = <span class=\"keyword\">new</span> ChatSiderView();</span>\n<span class=\"line\">&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (App.currentRouter === <span class=\"string\">'broadcast'</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView = <span class=\"keyword\">new</span> DoctorProfileView();</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// render 新的 view</span></span>\n<span class=\"line\"><span class=\"keyword\">this</span>.siderView.render();</span>\n</pre></td></tr></table></figure><p></p><p>运行之后我发现，这样点击下一个 nav 的时候， view 变成了空白的。后来审查元素，发现 el 那个节点整个被删掉了，因为他们两个共同放在同一个 el 下面。<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// view 1</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> DoctorProfileView = Backbone.View.extend(&#123;</span>\n<span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">'.left_aside'</span>,</span>\n<span class=\"line\">    <span class=\"attr\">className</span>:  <span class=\"string\">'doctor_profile'</span></span>\n<span class=\"line\">    <span class=\"comment\">// ...</span></span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// view 2</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> ChatSiderView = BaseView.extend(&#123;</span>\n<span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">'.left_aside'</span>,</span>\n<span class=\"line\">    <span class=\"comment\">// ...</span></span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p></p><p>因为是新手，而且这是第一次用 backbone，所以还不知道 $el 就是 juqery 对象（其实问题不在这里），所以我就开始了漫无目的的搜索。</p><p>其实办法肯定是有的，就是让他俩不共用同一个 el 节点，每次 render 完了之后，添加到要显示的地方，remove 的时候也只会删掉他自己，况且还可以用 hide。</p><h2 id=\"有了一线希望\"><a href=\"#有了一线希望\" class=\"headerlink\" title=\"有了一线希望\"></a>有了一线希望</h2><p>终于，我看到网上有人写了这么一句：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.$el.empty();</span>\n</pre></td></tr></table></figure><p></p><p>然后我顺藤摸瓜看起了 backbone 的源代码：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Creating a Backbone.View creates its initial element outside of the DOM,</span></span>\n<span class=\"line\"><span class=\"comment\">// if an existing element is not provided...</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> View = Backbone.View = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">options</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.cid = _.uniqueId(<span class=\"string\">'view'</span>);</span>\n<span class=\"line\">    _.extend(<span class=\"keyword\">this</span>, _.pick(options, viewOptions));</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>._ensureElement();</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.initialize.apply(<span class=\"keyword\">this</span>, <span class=\"built_in\">arguments</span>);</span>\n<span class=\"line\">&#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// Ensure that the View has a DOM element to render into.</span></span>\n<span class=\"line\"><span class=\"comment\">// If `this.el` is a string, pass it through `$()`, take the first</span></span>\n<span class=\"line\"><span class=\"comment\">// matching element, and re-assign it to `el`. Otherwise, create</span></span>\n<span class=\"line\"><span class=\"comment\">// an element from the `id`, `className` and `tagName` properties.</span></span>\n<span class=\"line\">_ensureElement: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.el) &#123;</span>\n<span class=\"line\">      <span class=\"comment\">// ...</span></span>\n<span class=\"line\">      <span class=\"comment\">// omit this because we pass 'el' as options to the View.</span></span>\n<span class=\"line\">      <span class=\"comment\">// ...</span></span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">this</span>.setElement(_.result(<span class=\"keyword\">this</span>, <span class=\"string\">'el'</span>));</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// Change the view's element (`this.el` property) and re-delegate the</span></span>\n<span class=\"line\"><span class=\"comment\">// view's events on the new element.</span></span>\n<span class=\"line\">setElement: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.undelegateEvents();</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>._setElement(element);</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.delegateEvents();</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// Creates the `this.el` and `this.$el` references for this view using the</span></span>\n<span class=\"line\"><span class=\"comment\">// given `el`. `el` can be a CSS selector or an HTML string, a jQuery</span></span>\n<span class=\"line\"><span class=\"comment\">// context or an element. Subclasses can override this to utilize an</span></span>\n<span class=\"line\"><span class=\"comment\">// alternative DOM manipulation API and are only required to set the</span></span>\n<span class=\"line\"><span class=\"comment\">// `this.el` property.</span></span>\n<span class=\"line\">_setElement: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">el</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.$el = el <span class=\"keyword\">instanceof</span> Backbone.$</span>\n<span class=\"line\">             ? el</span>\n<span class=\"line\">             : Backbone.$(el);</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.el = <span class=\"keyword\">this</span>.$el[<span class=\"number\">0</span>];</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p>上面这一段就是说，如果我们传入了 el 那么 backbone 会自动设置 $el（通过命名就能看出这是一个 jquery 对象咯）, 并且绑定我们在 events 定义的事件到这上面。</p><p>然后还有 backbone 的 remove view 的方法：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Remove this view by taking the element out of the DOM, and removing any</span></span>\n<span class=\"line\"><span class=\"comment\">// applicable Backbone.Events listeners.</span></span>\n<span class=\"line\">remove: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>._removeElement();</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.stopListening();</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span>\n<span class=\"line\">&#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// Remove this view's element from the document and all event listeners</span></span>\n<span class=\"line\"><span class=\"comment\">// attached to it. Exposed for subclasses using an alternative DOM</span></span>\n<span class=\"line\"><span class=\"comment\">// manipulation API.</span></span>\n<span class=\"line\">_removeElement: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.$el.remove();</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p>解除事件监听，删掉元素。</p><h2 id=\"最终的-hide-方法\"><a href=\"#最终的-hide-方法\" class=\"headerlink\" title=\"最终的 hide 方法\"></a>最终的 hide 方法</h2><p>于是，我模仿着写了一个 hide 方法：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">hide: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.undelegateEvents();</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.$el.empty();</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.stopListening();</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p>好像很简单，哈哈， 顺便把 appView 里面也改掉：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.siderView) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView.hide();</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">if</span> (!App.currentRouter || App.currentRouter === <span class=\"string\">'chat'</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView = <span class=\"keyword\">new</span> ChatSiderView();</span>\n<span class=\"line\">&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (App.currentRouter === <span class=\"string\">'broadcast'</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.siderView = <span class=\"keyword\">new</span> DoctorProfileView();</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">this</span>.siderView.render();</span>\n</pre></td></tr></table></figure><p></p><p>运行之后，切换 view 正常了。耶！</p><p>然后我想让我的view 都具有 hide 这个方法，恰好 backbone 很好的面向对象，于是：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*global define*/</span></span>\n<span class=\"line\">define([</span>\n<span class=\"line\">    <span class=\"string\">'jquery'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'underscore'</span>,</span>\n<span class=\"line\">    <span class=\"string\">'backbone'</span></span>\n<span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">$, _, Backbone</span>) </span>&#123;</span>\n<span class=\"line\"><span class=\"meta\">    'use strict'</span>;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">var</span> BaseView = Backbone.View.extend(&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">        <span class=\"attr\">hide</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">            <span class=\"keyword\">this</span>.undelegateEvents();</span>\n<span class=\"line\">            <span class=\"keyword\">this</span>.$el.empty();</span>\n<span class=\"line\">            <span class=\"keyword\">this</span>.stopListening();</span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">return</span> BaseView;</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// how to use</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> ChatSiderView = BaseView.extend(&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">'.left_aside'</span>,</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"comment\">//...</span></span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p></p><p>感觉非常顺畅。</p><h2 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h2><p>频繁的删除dom元素，速度肯定是慢的，恰好我的网页很简单，所以看不出明显的缺点，网上也是推荐使用 <code>display：none</code> 和 <code>display：block</code> 来切换 view， 等我以后再研究吧。</p><p>以上。</p>"},{"title":"战舰少女基础知识及部分公式","date":"2016-02-22T16:07:25.000Z","_content":"\n## 类型\n类型|缩写|特点|\n-|-|-|\n战列舰|BB|大炮巨舰的典范，高火力、高血量、高护甲。是游戏中后期推图的主力。\n战列巡洋舰|BC|战列舰的缩减版本，火力、血量、护甲略低于战列舰，拥有相对高的防空属性，优点是全部是高速舰，推图上有优势。\n正规航母|CV|高索敌，有开幕战，多一轮攻击，受装备影响大，夜间无法攻击。\n轻型航母|CVL|正规航母的缩水版，装甲低下，可反潜，搭载数量低，作用是前期舰队补充。\n浅水重炮舰|BM|游戏中只有两艘，火力高，可以装长距离的主炮，白天可以来两发，消耗低，本来可以用来打捞保姆，之后有改过，护甲变低，基本上没人用了。\n潜艇|SS|同样为数不多，低闪避，高鱼雷，只有具备反潜能力的舰船才能打到，夜战能力高!升到11级后有开幕雷击的能力。\n重巡洋舰|CA|夜战优秀，闪避中上，部分能够发射鱼雷，消耗较，欺负小学生的神器。\n轻巡洋舰|CL|大部分反潜优秀，属性在重巡和驱逐之间，闪避出色，依旧适合欺负小学生。\n驱逐舰|DD|属性低，消耗低，闪避高，夜战出色，鱼雷战优秀。小学生作为入门舰船，也是必须练的船，一般用来推图带路和完成远征的特定条件。\n\n> **炮潜**\n>在2015夏季活动中加入的新舰船—絮库夫的舰船种类，虽然会潜水，但是却没有开幕雷击，没多大用处。  \n\n> **补给舰**\n>目前唯一一艘**苏赫巴托尔**，萌萌哒，幸运高，闪避高，技能可以打捞到更好的船，1-5通关奖励。\n\n## 驱逐\n> 空想、绫波、Z1、萤火虫、Z31、Z16、晓、响、雷、电、敷波和标枪\n\n> 高星稀有驱逐: 塔什干、奥班农、拉菲等\n\n> 以及Z系的其他驱逐\n\n## 战列\n-|名称\n-|-\n改造战列|威尔士亲王改、俾斯麦改、罗德尼改、安德烈亚多利亚改、纳尔逊改、内华达改、俄克拉荷马改\n高星稀有|黎塞留、前卫、提尔比茨、华盛顿\n四星|科罗拉多、马里兰，西弗吉尼亚\n\n## 轻巡\n名称|特点\n-|-\n海伦娜改|可以给全队增加索敌和命中\n夕张改|觉醒技能后，可以使性能提升很多\n奥希金斯改|\n宁海改|经验宝宝，技能可以增加战斗经验\n平海改|\n天龙改|\n> 5星轻巡天狼星，贝尔法斯特  \n> 4星的基洛夫，以及中国船逸仙、重庆（曙光女神改）\n\n\n## 热门\n埃塞克斯，马汉，M1，睦月，企业号航母，狮，宁海，威奇塔改，拉菲，青叶\n\n## 公式\n-|第一|第二|产物\n-|-|-|-\n战列|400 80 650 130 | 630 600 650 230 | 黎塞留、前卫、安德烈亚多利亚、提尔比茨、俾斯麦、华盛顿\n航母轻母|400 600 600 400 |500 130 600 400 | 赤城、加贺、追赶者\n轻巡|200 30 200 100|130 130 130 130|贝尔法斯特、爱丁堡、逸仙、平海、宁海、基洛夫、埃姆登、莱比锡\n驱逐|130 30 130 30| 130 130 130 130|拉菲、空想、塔什干（拉菲用3663出货率还是蛮不错的）\n潜艇|30 60 60 30|250 30 250 30|大青花鱼\n\n\n## 常用公式产出分析\n1. 400 80 650 130(前卫公式)\n当前用的最多的战列公式，出所有战列，所有战巡，所有重巡，4星以上轻巡，重炮以及空想和拉菲这两艘驱逐;屏蔽了航母，轻母，其余轻巡，驱逐以及大青花鱼。\n\n2. 630 600 650 230(黑猫公式)\n据说是最容易出北宅和猫?出所有战列，所有战巡，所有重巡，重炮以及空想;屏蔽了航母，轻母，所有轻巡，其余驱逐以及大青花鱼。\n3. 400 600 600 400(标准航母公式)\n最早常见的航母公式，出航母，轻母，重巡，4星轻巡以及空想;屏蔽战列，战巡，其余轻巡，其余驱逐，重炮以及大青花鱼。\n\n4. 400 130 500 130(稀有轻巡公式)\n可以用来赌贝爷(贝尔法斯特)，当然其他4星轻巡也是可以的。出战巡，重巡，稀有轻巡，重炮以及空想;屏蔽战列，航母，轻母，3星以下轻巡，其余驱逐和大青花鱼。\n\n5. 500 130 600 400(航母公式)\n新型航母公式，相比标准航母公式，屏蔽了轻巡，一定程度上提高了吃喝、追赶的出货率。出航母，轻母，重巡以及空想;屏蔽其余战列，轻巡，重炮，其余驱逐以及大青花鱼。\n\n6. 130 30 130 30(小船通用公式)\n小船指得是轻巡驱逐潜艇。屏蔽其余舰种船只。如果要鱼的话30 60 60 30就够了。\n","source":"_posts/battleship-girls.md","raw":"title: 战舰少女基础知识及部分公式\ntags:\n  - 建造公式\ncategories:\n  - 戦艦の女の子\ndate: 2016-02-23 00:07:25\n---\n\n## 类型\n类型|缩写|特点|\n-|-|-|\n战列舰|BB|大炮巨舰的典范，高火力、高血量、高护甲。是游戏中后期推图的主力。\n战列巡洋舰|BC|战列舰的缩减版本，火力、血量、护甲略低于战列舰，拥有相对高的防空属性，优点是全部是高速舰，推图上有优势。\n正规航母|CV|高索敌，有开幕战，多一轮攻击，受装备影响大，夜间无法攻击。\n轻型航母|CVL|正规航母的缩水版，装甲低下，可反潜，搭载数量低，作用是前期舰队补充。\n浅水重炮舰|BM|游戏中只有两艘，火力高，可以装长距离的主炮，白天可以来两发，消耗低，本来可以用来打捞保姆，之后有改过，护甲变低，基本上没人用了。\n潜艇|SS|同样为数不多，低闪避，高鱼雷，只有具备反潜能力的舰船才能打到，夜战能力高!升到11级后有开幕雷击的能力。\n重巡洋舰|CA|夜战优秀，闪避中上，部分能够发射鱼雷，消耗较，欺负小学生的神器。\n轻巡洋舰|CL|大部分反潜优秀，属性在重巡和驱逐之间，闪避出色，依旧适合欺负小学生。\n驱逐舰|DD|属性低，消耗低，闪避高，夜战出色，鱼雷战优秀。小学生作为入门舰船，也是必须练的船，一般用来推图带路和完成远征的特定条件。\n\n> **炮潜**\n>在2015夏季活动中加入的新舰船—絮库夫的舰船种类，虽然会潜水，但是却没有开幕雷击，没多大用处。  \n\n> **补给舰**\n>目前唯一一艘**苏赫巴托尔**，萌萌哒，幸运高，闪避高，技能可以打捞到更好的船，1-5通关奖励。\n\n## 驱逐\n> 空想、绫波、Z1、萤火虫、Z31、Z16、晓、响、雷、电、敷波和标枪\n\n> 高星稀有驱逐: 塔什干、奥班农、拉菲等\n\n> 以及Z系的其他驱逐\n\n## 战列\n-|名称\n-|-\n改造战列|威尔士亲王改、俾斯麦改、罗德尼改、安德烈亚多利亚改、纳尔逊改、内华达改、俄克拉荷马改\n高星稀有|黎塞留、前卫、提尔比茨、华盛顿\n四星|科罗拉多、马里兰，西弗吉尼亚\n\n## 轻巡\n名称|特点\n-|-\n海伦娜改|可以给全队增加索敌和命中\n夕张改|觉醒技能后，可以使性能提升很多\n奥希金斯改|\n宁海改|经验宝宝，技能可以增加战斗经验\n平海改|\n天龙改|\n> 5星轻巡天狼星，贝尔法斯特  \n> 4星的基洛夫，以及中国船逸仙、重庆（曙光女神改）\n\n\n## 热门\n埃塞克斯，马汉，M1，睦月，企业号航母，狮，宁海，威奇塔改，拉菲，青叶\n\n## 公式\n-|第一|第二|产物\n-|-|-|-\n战列|400 80 650 130 | 630 600 650 230 | 黎塞留、前卫、安德烈亚多利亚、提尔比茨、俾斯麦、华盛顿\n航母轻母|400 600 600 400 |500 130 600 400 | 赤城、加贺、追赶者\n轻巡|200 30 200 100|130 130 130 130|贝尔法斯特、爱丁堡、逸仙、平海、宁海、基洛夫、埃姆登、莱比锡\n驱逐|130 30 130 30| 130 130 130 130|拉菲、空想、塔什干（拉菲用3663出货率还是蛮不错的）\n潜艇|30 60 60 30|250 30 250 30|大青花鱼\n\n\n## 常用公式产出分析\n1. 400 80 650 130(前卫公式)\n当前用的最多的战列公式，出所有战列，所有战巡，所有重巡，4星以上轻巡，重炮以及空想和拉菲这两艘驱逐;屏蔽了航母，轻母，其余轻巡，驱逐以及大青花鱼。\n\n2. 630 600 650 230(黑猫公式)\n据说是最容易出北宅和猫?出所有战列，所有战巡，所有重巡，重炮以及空想;屏蔽了航母，轻母，所有轻巡，其余驱逐以及大青花鱼。\n3. 400 600 600 400(标准航母公式)\n最早常见的航母公式，出航母，轻母，重巡，4星轻巡以及空想;屏蔽战列，战巡，其余轻巡，其余驱逐，重炮以及大青花鱼。\n\n4. 400 130 500 130(稀有轻巡公式)\n可以用来赌贝爷(贝尔法斯特)，当然其他4星轻巡也是可以的。出战巡，重巡，稀有轻巡，重炮以及空想;屏蔽战列，航母，轻母，3星以下轻巡，其余驱逐和大青花鱼。\n\n5. 500 130 600 400(航母公式)\n新型航母公式，相比标准航母公式，屏蔽了轻巡，一定程度上提高了吃喝、追赶的出货率。出航母，轻母，重巡以及空想;屏蔽其余战列，轻巡，重炮，其余驱逐以及大青花鱼。\n\n6. 130 30 130 30(小船通用公式)\n小船指得是轻巡驱逐潜艇。屏蔽其余舰种船只。如果要鱼的话30 60 60 30就够了。\n","slug":"battleship-girls","published":1,"updated":"2016-11-22T01:40:09.735Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bpy000s8gnybk95ae17","content":"<h2 id=\"类型\"><a href=\"#类型\" class=\"headerlink\" title=\"类型\"></a>类型</h2><table><thead><tr><th>类型</th><th>缩写</th><th>特点</th></tr></thead><tbody><tr><td>战列舰</td><td>BB</td><td>大炮巨舰的典范，高火力、高血量、高护甲。是游戏中后期推图的主力。</td></tr><tr><td>战列巡洋舰</td><td>BC</td><td>战列舰的缩减版本，火力、血量、护甲略低于战列舰，拥有相对高的防空属性，优点是全部是高速舰，推图上有优势。</td></tr><tr><td>正规航母</td><td>CV</td><td>高索敌，有开幕战，多一轮攻击，受装备影响大，夜间无法攻击。</td></tr><tr><td>轻型航母</td><td>CVL</td><td>正规航母的缩水版，装甲低下，可反潜，搭载数量低，作用是前期舰队补充。</td></tr><tr><td>浅水重炮舰</td><td>BM</td><td>游戏中只有两艘，火力高，可以装长距离的主炮，白天可以来两发，消耗低，本来可以用来打捞保姆，之后有改过，护甲变低，基本上没人用了。</td></tr><tr><td>潜艇</td><td>SS</td><td>同样为数不多，低闪避，高鱼雷，只有具备反潜能力的舰船才能打到，夜战能力高!升到11级后有开幕雷击的能力。</td></tr><tr><td>重巡洋舰</td><td>CA</td><td>夜战优秀，闪避中上，部分能够发射鱼雷，消耗较，欺负小学生的神器。</td></tr><tr><td>轻巡洋舰</td><td>CL</td><td>大部分反潜优秀，属性在重巡和驱逐之间，闪避出色，依旧适合欺负小学生。</td></tr><tr><td>驱逐舰</td><td>DD</td><td>属性低，消耗低，闪避高，夜战出色，鱼雷战优秀。小学生作为入门舰船，也是必须练的船，一般用来推图带路和完成远征的特定条件。</td></tr></tbody></table><blockquote><p><strong>炮潜</strong><br>在2015夏季活动中加入的新舰船—絮库夫的舰船种类，虽然会潜水，但是却没有开幕雷击，没多大用处。</p><p><strong>补给舰</strong><br>目前唯一一艘<strong>苏赫巴托尔</strong>，萌萌哒，幸运高，闪避高，技能可以打捞到更好的船，1-5通关奖励。</p></blockquote><h2 id=\"驱逐\"><a href=\"#驱逐\" class=\"headerlink\" title=\"驱逐\"></a>驱逐</h2><blockquote><p>空想、绫波、Z1、萤火虫、Z31、Z16、晓、响、雷、电、敷波和标枪</p><p>高星稀有驱逐: 塔什干、奥班农、拉菲等</p><p>以及Z系的其他驱逐</p></blockquote><h2 id=\"战列\"><a href=\"#战列\" class=\"headerlink\" title=\"战列\"></a>战列</h2><table><thead><tr><th>-</th><th>名称</th></tr></thead><tbody><tr><td>改造战列</td><td>威尔士亲王改、俾斯麦改、罗德尼改、安德烈亚多利亚改、纳尔逊改、内华达改、俄克拉荷马改</td></tr><tr><td>高星稀有</td><td>黎塞留、前卫、提尔比茨、华盛顿</td></tr><tr><td>四星</td><td>科罗拉多、马里兰，西弗吉尼亚</td></tr></tbody></table><h2 id=\"轻巡\"><a href=\"#轻巡\" class=\"headerlink\" title=\"轻巡\"></a>轻巡</h2><table><thead><tr><th>名称</th><th>特点</th></tr></thead><tbody><tr><td>海伦娜改</td><td>可以给全队增加索敌和命中</td></tr><tr><td>夕张改</td><td>觉醒技能后，可以使性能提升很多</td></tr><tr><td>奥希金斯改</td><td></td></tr><tr><td>宁海改</td><td>经验宝宝，技能可以增加战斗经验</td></tr><tr><td>平海改</td><td></td></tr><tr><td>天龙改</td><td></td></tr></tbody></table><blockquote><p>5星轻巡天狼星，贝尔法斯特<br>4星的基洛夫，以及中国船逸仙、重庆（曙光女神改）</p></blockquote><h2 id=\"热门\"><a href=\"#热门\" class=\"headerlink\" title=\"热门\"></a>热门</h2><p>埃塞克斯，马汉，M1，睦月，企业号航母，狮，宁海，威奇塔改，拉菲，青叶</p><h2 id=\"公式\"><a href=\"#公式\" class=\"headerlink\" title=\"公式\"></a>公式</h2><table><thead><tr><th>-</th><th>第一</th><th>第二</th><th>产物</th></tr></thead><tbody><tr><td>战列</td><td>400 80 650 130</td><td>630 600 650 230</td><td>黎塞留、前卫、安德烈亚多利亚、提尔比茨、俾斯麦、华盛顿</td></tr><tr><td>航母轻母</td><td>400 600 600 400</td><td>500 130 600 400</td><td>赤城、加贺、追赶者</td></tr><tr><td>轻巡</td><td>200 30 200 100</td><td>130 130 130 130</td><td>贝尔法斯特、爱丁堡、逸仙、平海、宁海、基洛夫、埃姆登、莱比锡</td></tr><tr><td>驱逐</td><td>130 30 130 30</td><td>130 130 130 130</td><td>拉菲、空想、塔什干（拉菲用3663出货率还是蛮不错的）</td></tr><tr><td>潜艇</td><td>30 60 60 30</td><td>250 30 250 30</td><td>大青花鱼</td></tr></tbody></table><h2 id=\"常用公式产出分析\"><a href=\"#常用公式产出分析\" class=\"headerlink\" title=\"常用公式产出分析\"></a>常用公式产出分析</h2><ol><li><p>400 80 650 130(前卫公式)<br>当前用的最多的战列公式，出所有战列，所有战巡，所有重巡，4星以上轻巡，重炮以及空想和拉菲这两艘驱逐;屏蔽了航母，轻母，其余轻巡，驱逐以及大青花鱼。</p></li><li><p>630 600 650 230(黑猫公式)<br>据说是最容易出北宅和猫?出所有战列，所有战巡，所有重巡，重炮以及空想;屏蔽了航母，轻母，所有轻巡，其余驱逐以及大青花鱼。</p></li><li><p>400 600 600 400(标准航母公式)<br>最早常见的航母公式，出航母，轻母，重巡，4星轻巡以及空想;屏蔽战列，战巡，其余轻巡，其余驱逐，重炮以及大青花鱼。</p></li><li><p>400 130 500 130(稀有轻巡公式)<br>可以用来赌贝爷(贝尔法斯特)，当然其他4星轻巡也是可以的。出战巡，重巡，稀有轻巡，重炮以及空想;屏蔽战列，航母，轻母，3星以下轻巡，其余驱逐和大青花鱼。</p></li><li><p>500 130 600 400(航母公式)<br>新型航母公式，相比标准航母公式，屏蔽了轻巡，一定程度上提高了吃喝、追赶的出货率。出航母，轻母，重巡以及空想;屏蔽其余战列，轻巡，重炮，其余驱逐以及大青花鱼。</p></li><li><p>130 30 130 30(小船通用公式)<br>小船指得是轻巡驱逐潜艇。屏蔽其余舰种船只。如果要鱼的话30 60 60 30就够了。</p></li></ol>","excerpt":"","more":"<h2 id=\"类型\"><a href=\"#类型\" class=\"headerlink\" title=\"类型\"></a>类型</h2><table><thead><tr><th>类型</th><th>缩写</th><th>特点</th></tr></thead><tbody><tr><td>战列舰</td><td>BB</td><td>大炮巨舰的典范，高火力、高血量、高护甲。是游戏中后期推图的主力。</td></tr><tr><td>战列巡洋舰</td><td>BC</td><td>战列舰的缩减版本，火力、血量、护甲略低于战列舰，拥有相对高的防空属性，优点是全部是高速舰，推图上有优势。</td></tr><tr><td>正规航母</td><td>CV</td><td>高索敌，有开幕战，多一轮攻击，受装备影响大，夜间无法攻击。</td></tr><tr><td>轻型航母</td><td>CVL</td><td>正规航母的缩水版，装甲低下，可反潜，搭载数量低，作用是前期舰队补充。</td></tr><tr><td>浅水重炮舰</td><td>BM</td><td>游戏中只有两艘，火力高，可以装长距离的主炮，白天可以来两发，消耗低，本来可以用来打捞保姆，之后有改过，护甲变低，基本上没人用了。</td></tr><tr><td>潜艇</td><td>SS</td><td>同样为数不多，低闪避，高鱼雷，只有具备反潜能力的舰船才能打到，夜战能力高!升到11级后有开幕雷击的能力。</td></tr><tr><td>重巡洋舰</td><td>CA</td><td>夜战优秀，闪避中上，部分能够发射鱼雷，消耗较，欺负小学生的神器。</td></tr><tr><td>轻巡洋舰</td><td>CL</td><td>大部分反潜优秀，属性在重巡和驱逐之间，闪避出色，依旧适合欺负小学生。</td></tr><tr><td>驱逐舰</td><td>DD</td><td>属性低，消耗低，闪避高，夜战出色，鱼雷战优秀。小学生作为入门舰船，也是必须练的船，一般用来推图带路和完成远征的特定条件。</td></tr></tbody></table><blockquote><p><strong>炮潜</strong><br>在2015夏季活动中加入的新舰船—絮库夫的舰船种类，虽然会潜水，但是却没有开幕雷击，没多大用处。</p><p><strong>补给舰</strong><br>目前唯一一艘<strong>苏赫巴托尔</strong>，萌萌哒，幸运高，闪避高，技能可以打捞到更好的船，1-5通关奖励。</p></blockquote><h2 id=\"驱逐\"><a href=\"#驱逐\" class=\"headerlink\" title=\"驱逐\"></a>驱逐</h2><blockquote><p>空想、绫波、Z1、萤火虫、Z31、Z16、晓、响、雷、电、敷波和标枪</p><p>高星稀有驱逐: 塔什干、奥班农、拉菲等</p><p>以及Z系的其他驱逐</p></blockquote><h2 id=\"战列\"><a href=\"#战列\" class=\"headerlink\" title=\"战列\"></a>战列</h2><table><thead><tr><th>-</th><th>名称</th></tr></thead><tbody><tr><td>改造战列</td><td>威尔士亲王改、俾斯麦改、罗德尼改、安德烈亚多利亚改、纳尔逊改、内华达改、俄克拉荷马改</td></tr><tr><td>高星稀有</td><td>黎塞留、前卫、提尔比茨、华盛顿</td></tr><tr><td>四星</td><td>科罗拉多、马里兰，西弗吉尼亚</td></tr></tbody></table><h2 id=\"轻巡\"><a href=\"#轻巡\" class=\"headerlink\" title=\"轻巡\"></a>轻巡</h2><table><thead><tr><th>名称</th><th>特点</th></tr></thead><tbody><tr><td>海伦娜改</td><td>可以给全队增加索敌和命中</td></tr><tr><td>夕张改</td><td>觉醒技能后，可以使性能提升很多</td></tr><tr><td>奥希金斯改</td><td></td></tr><tr><td>宁海改</td><td>经验宝宝，技能可以增加战斗经验</td></tr><tr><td>平海改</td><td></td></tr><tr><td>天龙改</td><td></td></tr></tbody></table><blockquote><p>5星轻巡天狼星，贝尔法斯特<br>4星的基洛夫，以及中国船逸仙、重庆（曙光女神改）</p></blockquote><h2 id=\"热门\"><a href=\"#热门\" class=\"headerlink\" title=\"热门\"></a>热门</h2><p>埃塞克斯，马汉，M1，睦月，企业号航母，狮，宁海，威奇塔改，拉菲，青叶</p><h2 id=\"公式\"><a href=\"#公式\" class=\"headerlink\" title=\"公式\"></a>公式</h2><table><thead><tr><th>-</th><th>第一</th><th>第二</th><th>产物</th></tr></thead><tbody><tr><td>战列</td><td>400 80 650 130</td><td>630 600 650 230</td><td>黎塞留、前卫、安德烈亚多利亚、提尔比茨、俾斯麦、华盛顿</td></tr><tr><td>航母轻母</td><td>400 600 600 400</td><td>500 130 600 400</td><td>赤城、加贺、追赶者</td></tr><tr><td>轻巡</td><td>200 30 200 100</td><td>130 130 130 130</td><td>贝尔法斯特、爱丁堡、逸仙、平海、宁海、基洛夫、埃姆登、莱比锡</td></tr><tr><td>驱逐</td><td>130 30 130 30</td><td>130 130 130 130</td><td>拉菲、空想、塔什干（拉菲用3663出货率还是蛮不错的）</td></tr><tr><td>潜艇</td><td>30 60 60 30</td><td>250 30 250 30</td><td>大青花鱼</td></tr></tbody></table><h2 id=\"常用公式产出分析\"><a href=\"#常用公式产出分析\" class=\"headerlink\" title=\"常用公式产出分析\"></a>常用公式产出分析</h2><ol><li><p>400 80 650 130(前卫公式)<br>当前用的最多的战列公式，出所有战列，所有战巡，所有重巡，4星以上轻巡，重炮以及空想和拉菲这两艘驱逐;屏蔽了航母，轻母，其余轻巡，驱逐以及大青花鱼。</p></li><li><p>630 600 650 230(黑猫公式)<br>据说是最容易出北宅和猫?出所有战列，所有战巡，所有重巡，重炮以及空想;屏蔽了航母，轻母，所有轻巡，其余驱逐以及大青花鱼。</p></li><li><p>400 600 600 400(标准航母公式)<br>最早常见的航母公式，出航母，轻母，重巡，4星轻巡以及空想;屏蔽战列，战巡，其余轻巡，其余驱逐，重炮以及大青花鱼。</p></li><li><p>400 130 500 130(稀有轻巡公式)<br>可以用来赌贝爷(贝尔法斯特)，当然其他4星轻巡也是可以的。出战巡，重巡，稀有轻巡，重炮以及空想;屏蔽战列，航母，轻母，3星以下轻巡，其余驱逐和大青花鱼。</p></li><li><p>500 130 600 400(航母公式)<br>新型航母公式，相比标准航母公式，屏蔽了轻巡，一定程度上提高了吃喝、追赶的出货率。出航母，轻母，重巡以及空想;屏蔽其余战列，轻巡，重炮，其余驱逐以及大青花鱼。</p></li><li><p>130 30 130 30(小船通用公式)<br>小船指得是轻巡驱逐潜艇。屏蔽其余舰种船只。如果要鱼的话30 60 60 30就够了。</p></li></ol>"},{"title":"修改 WebStorm 里面丑陋的 Markdown 样式","date":"2016-12-23T07:27:27.000Z","_content":"\n一直觉得在 webstrom 里面看 markdown 是一种折磨，尤其是有 table 的情况下，很不爽！！！\n\n今天突然发现有一个设置项可以自定义 markdown 的样式，\n\n![设置](../images/webstorm-md-css-1.png)\n\n就是右边方框里面的选项，取消 webstorm 默认的， 然后添加自己的 css，下面的css 是我找来的，还可以看：\n```css\nbody{\n    background-color: #fff;\n    margin: 0 auto;\n    font-family: Georgia, Palatino, serif;\n    color: #333333;\n    line-height: 120%;\n    max-width: 960px;\n    padding: 30px;\n    font-size: 12px;\n}\nh1, h2, h3, h4 {\n    color: #111111;\n    font-weight: 400;\n}\nh1, h2, h3, h4, h5, p {\n    margin-bottom: 18px;\n    padding: 0;\n}\nh1 {\n    font-size: 36px;\n}\nh2 {\n    font-size: 24px;\n    margin: 18px 0 6px;\n}\nh3 {\n    font-size: 20px;\n}\nh4 {\n    font-size: 16px;\n}\nh5 {\n    font-size: 14px;\n}\nh6 {\n    font-size: 12px;\n}\na {\n    color: #0099ff;\n    margin: 0;\n    padding: 0;\n    vertical-align: baseline;\n}\na:hover {\n    text-decoration: none;\n    color: #ff6600;\n}\na:visited {\n    color: purple;\n}\nul, ol {\n    padding: 0;\n    margin-left: 18px;\n    margin-bottom: 18px;\n}\nli {\n    line-height: 18px;\n}\nli ul, li ul {\n    margin-left: 18px;\n}\np, ul, ol {\n    font-size: 12px;\n    line-height: 1.5;\n    max-width: 540px;\n}\n\nblockquote {\n   padding: 12px 12px 12px 15px;\n   margin-bottom: 16px;\n   font-family:georgia,serif;\n   font-style: italic;\n   border-left: 2px solid #d9d9d9;\n}\nblockquote p {\n   font-size: 12px;\n   font-weight: 300;\n   line-height: 1.2;\n   margin-bottom: 0;\n   font-style: italic;\n}\ncode, pre {\n   font-family: Monaco, Andale Mono, Courier New, monospace;\n}\ncode {\n   background-color: #fee9cc;\n   color: #000000;\n   padding: 1px 3px;\n   font-size: 12px;\n   border-radius: 3px;\n}\npre {\n   display: block;\n   padding: 14px;\n   margin: 0 0 18px;\n   line-height: 16px;\n   font-size: 11px;\n   border: 1px solid #d9d9d9;\n   white-space: pre-wrap;\n   word-wrap: break-word;\n}\npre code {\n   background-color: #ffffff;\n   color:#666666;\n   font-size: 11px;\n   padding: 0;\n}\n\naside {\n    display: block;\n    float: right;\n    width: 390px;\n}\n\n\nhr {\n    width: 540px;\n    text-align: left;\n    margin: 0 auto 0 0;\n    color: #999999;\n}\n\n/* Code below this line is copyright Twitter Inc. */\n\nbutton,\ninput,\nselect,\ntextarea {\n  font-size: 100%;\n  margin: 0;\n  vertical-align: baseline;\n  *vertical-align: middle;\n}\nbutton, input {\n  line-height: normal;\n  *overflow: visible;\n}\nbutton::-moz-focus-inner, input::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\nbutton,\ninput[type=\"button\"],\ninput[type=\"reset\"],\ninput[type=\"submit\"] {\n  cursor: pointer;\n  -webkit-appearance: button;\n}\ninput[type=checkbox], input[type=radio] {\n  cursor: pointer;\n}\n/* override default chrome & firefox settings */\ninput:not([type=\"image\"]), textarea {\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\ninput[type=\"search\"] {\n  -webkit-appearance: textfield;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\ninput[type=\"search\"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\nlabel,\ninput,\nselect,\ntextarea {\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  font-weight: normal;\n  line-height: normal;\n  margin-bottom: 18px;\n}\ninput[type=checkbox], input[type=radio] {\n  cursor: pointer;\n  margin-bottom: 0;\n}\ninput[type=text],\ninput[type=password],\ntextarea,\nselect {\n  display: inline-block;\n  width: 210px;\n  padding: 4px;\n  font-size: 13px;\n  font-weight: normal;\n  line-height: 18px;\n  height: 18px;\n  color: #808080;\n  border: 1px solid #ccc;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  border-radius: 3px;\n}\nselect, input[type=file] {\n  height: 27px;\n  line-height: 27px;\n}\ntextarea {\n  height: auto;\n}\n\n/* grey out placeholders */\n:-moz-placeholder {\n  color: #bfbfbf;\n}\n::-webkit-input-placeholder {\n  color: #bfbfbf;\n}\n\ninput[type=text],\ninput[type=password],\nselect,\ntextarea {\n  -webkit-transition: border linear 0.2s, box-shadow linear 0.2s;\n  -moz-transition: border linear 0.2s, box-shadow linear 0.2s;\n  transition: border linear 0.2s, box-shadow linear 0.2s;\n  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n}\ninput[type=text]:focus, input[type=password]:focus, textarea:focus {\n  outline: none;\n  border-color: rgba(82, 168, 236, 0.8);\n  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n}\n\n/* buttons */\nbutton {\n  display: inline-block;\n  padding: 4px 14px;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  line-height: 18px;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);\n  -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);\n  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);\n  background-color: #0064cd;\n  background-repeat: repeat-x;\n  background-image: -khtml-gradient(linear, left top, left bottom, from(#049cdb), to(#0064cd));\n  background-image: -moz-linear-gradient(top, #049cdb, #0064cd);\n  background-image: -ms-linear-gradient(top, #049cdb, #0064cd);\n  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #049cdb), color-stop(100%, #0064cd));\n  background-image: -webkit-linear-gradient(top, #049cdb, #0064cd);\n  background-image: -o-linear-gradient(top, #049cdb, #0064cd);\n  background-image: linear-gradient(top, #049cdb, #0064cd);\n  color: #fff;\n  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\n  border: 1px solid #004b9a;\n  border-bottom-color: #003f81;\n  -webkit-transition: 0.1s linear all;\n  -moz-transition: 0.1s linear all;\n  transition: 0.1s linear all;\n  border-color: #0064cd #0064cd #003f81;\n  border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\n}\nbutton:hover {\n  color: #fff;\n  background-position: 0 -15px;\n  text-decoration: none;\n}\nbutton:active {\n  -webkit-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);\n  -moz-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);\n  box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);\n}\nbutton::-moz-focus-inner {\n  padding: 0;\n  border: 0;\n}\n```","source":"_posts/correct-ugly-markdown-css-in-webstorm.md","raw":"title: 修改 WebStorm 里面丑陋的 Markdown 样式\ntags:\n  - markdown\n  - webstrom\ncategories:\n  - WebStorm\ndate: 2016-12-23 15:27:27\n---\n\n一直觉得在 webstrom 里面看 markdown 是一种折磨，尤其是有 table 的情况下，很不爽！！！\n\n今天突然发现有一个设置项可以自定义 markdown 的样式，\n\n![设置](../images/webstorm-md-css-1.png)\n\n就是右边方框里面的选项，取消 webstorm 默认的， 然后添加自己的 css，下面的css 是我找来的，还可以看：\n```css\nbody{\n    background-color: #fff;\n    margin: 0 auto;\n    font-family: Georgia, Palatino, serif;\n    color: #333333;\n    line-height: 120%;\n    max-width: 960px;\n    padding: 30px;\n    font-size: 12px;\n}\nh1, h2, h3, h4 {\n    color: #111111;\n    font-weight: 400;\n}\nh1, h2, h3, h4, h5, p {\n    margin-bottom: 18px;\n    padding: 0;\n}\nh1 {\n    font-size: 36px;\n}\nh2 {\n    font-size: 24px;\n    margin: 18px 0 6px;\n}\nh3 {\n    font-size: 20px;\n}\nh4 {\n    font-size: 16px;\n}\nh5 {\n    font-size: 14px;\n}\nh6 {\n    font-size: 12px;\n}\na {\n    color: #0099ff;\n    margin: 0;\n    padding: 0;\n    vertical-align: baseline;\n}\na:hover {\n    text-decoration: none;\n    color: #ff6600;\n}\na:visited {\n    color: purple;\n}\nul, ol {\n    padding: 0;\n    margin-left: 18px;\n    margin-bottom: 18px;\n}\nli {\n    line-height: 18px;\n}\nli ul, li ul {\n    margin-left: 18px;\n}\np, ul, ol {\n    font-size: 12px;\n    line-height: 1.5;\n    max-width: 540px;\n}\n\nblockquote {\n   padding: 12px 12px 12px 15px;\n   margin-bottom: 16px;\n   font-family:georgia,serif;\n   font-style: italic;\n   border-left: 2px solid #d9d9d9;\n}\nblockquote p {\n   font-size: 12px;\n   font-weight: 300;\n   line-height: 1.2;\n   margin-bottom: 0;\n   font-style: italic;\n}\ncode, pre {\n   font-family: Monaco, Andale Mono, Courier New, monospace;\n}\ncode {\n   background-color: #fee9cc;\n   color: #000000;\n   padding: 1px 3px;\n   font-size: 12px;\n   border-radius: 3px;\n}\npre {\n   display: block;\n   padding: 14px;\n   margin: 0 0 18px;\n   line-height: 16px;\n   font-size: 11px;\n   border: 1px solid #d9d9d9;\n   white-space: pre-wrap;\n   word-wrap: break-word;\n}\npre code {\n   background-color: #ffffff;\n   color:#666666;\n   font-size: 11px;\n   padding: 0;\n}\n\naside {\n    display: block;\n    float: right;\n    width: 390px;\n}\n\n\nhr {\n    width: 540px;\n    text-align: left;\n    margin: 0 auto 0 0;\n    color: #999999;\n}\n\n/* Code below this line is copyright Twitter Inc. */\n\nbutton,\ninput,\nselect,\ntextarea {\n  font-size: 100%;\n  margin: 0;\n  vertical-align: baseline;\n  *vertical-align: middle;\n}\nbutton, input {\n  line-height: normal;\n  *overflow: visible;\n}\nbutton::-moz-focus-inner, input::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\nbutton,\ninput[type=\"button\"],\ninput[type=\"reset\"],\ninput[type=\"submit\"] {\n  cursor: pointer;\n  -webkit-appearance: button;\n}\ninput[type=checkbox], input[type=radio] {\n  cursor: pointer;\n}\n/* override default chrome & firefox settings */\ninput:not([type=\"image\"]), textarea {\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\ninput[type=\"search\"] {\n  -webkit-appearance: textfield;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\ninput[type=\"search\"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\nlabel,\ninput,\nselect,\ntextarea {\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  font-weight: normal;\n  line-height: normal;\n  margin-bottom: 18px;\n}\ninput[type=checkbox], input[type=radio] {\n  cursor: pointer;\n  margin-bottom: 0;\n}\ninput[type=text],\ninput[type=password],\ntextarea,\nselect {\n  display: inline-block;\n  width: 210px;\n  padding: 4px;\n  font-size: 13px;\n  font-weight: normal;\n  line-height: 18px;\n  height: 18px;\n  color: #808080;\n  border: 1px solid #ccc;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  border-radius: 3px;\n}\nselect, input[type=file] {\n  height: 27px;\n  line-height: 27px;\n}\ntextarea {\n  height: auto;\n}\n\n/* grey out placeholders */\n:-moz-placeholder {\n  color: #bfbfbf;\n}\n::-webkit-input-placeholder {\n  color: #bfbfbf;\n}\n\ninput[type=text],\ninput[type=password],\nselect,\ntextarea {\n  -webkit-transition: border linear 0.2s, box-shadow linear 0.2s;\n  -moz-transition: border linear 0.2s, box-shadow linear 0.2s;\n  transition: border linear 0.2s, box-shadow linear 0.2s;\n  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n}\ninput[type=text]:focus, input[type=password]:focus, textarea:focus {\n  outline: none;\n  border-color: rgba(82, 168, 236, 0.8);\n  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n}\n\n/* buttons */\nbutton {\n  display: inline-block;\n  padding: 4px 14px;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  line-height: 18px;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);\n  -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);\n  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);\n  background-color: #0064cd;\n  background-repeat: repeat-x;\n  background-image: -khtml-gradient(linear, left top, left bottom, from(#049cdb), to(#0064cd));\n  background-image: -moz-linear-gradient(top, #049cdb, #0064cd);\n  background-image: -ms-linear-gradient(top, #049cdb, #0064cd);\n  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #049cdb), color-stop(100%, #0064cd));\n  background-image: -webkit-linear-gradient(top, #049cdb, #0064cd);\n  background-image: -o-linear-gradient(top, #049cdb, #0064cd);\n  background-image: linear-gradient(top, #049cdb, #0064cd);\n  color: #fff;\n  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\n  border: 1px solid #004b9a;\n  border-bottom-color: #003f81;\n  -webkit-transition: 0.1s linear all;\n  -moz-transition: 0.1s linear all;\n  transition: 0.1s linear all;\n  border-color: #0064cd #0064cd #003f81;\n  border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\n}\nbutton:hover {\n  color: #fff;\n  background-position: 0 -15px;\n  text-decoration: none;\n}\nbutton:active {\n  -webkit-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);\n  -moz-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);\n  box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);\n}\nbutton::-moz-focus-inner {\n  padding: 0;\n  border: 0;\n}\n```","slug":"correct-ugly-markdown-css-in-webstorm","published":1,"updated":"2016-12-23T07:37:41.376Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bq2000v8gnydc3eui3p","content":"<p>一直觉得在 webstrom 里面看 markdown 是一种折磨，尤其是有 table 的情况下，很不爽！！！</p><p>今天突然发现有一个设置项可以自定义 markdown 的样式，</p><p><img src=\"../images/webstorm-md-css-1.png\" alt=\"设置\"></p><p>就是右边方框里面的选项，取消 webstorm 默认的， 然后添加自己的 css，下面的css 是我找来的，还可以看：<br></p><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n<span class=\"line\">61</span>\n<span class=\"line\">62</span>\n<span class=\"line\">63</span>\n<span class=\"line\">64</span>\n<span class=\"line\">65</span>\n<span class=\"line\">66</span>\n<span class=\"line\">67</span>\n<span class=\"line\">68</span>\n<span class=\"line\">69</span>\n<span class=\"line\">70</span>\n<span class=\"line\">71</span>\n<span class=\"line\">72</span>\n<span class=\"line\">73</span>\n<span class=\"line\">74</span>\n<span class=\"line\">75</span>\n<span class=\"line\">76</span>\n<span class=\"line\">77</span>\n<span class=\"line\">78</span>\n<span class=\"line\">79</span>\n<span class=\"line\">80</span>\n<span class=\"line\">81</span>\n<span class=\"line\">82</span>\n<span class=\"line\">83</span>\n<span class=\"line\">84</span>\n<span class=\"line\">85</span>\n<span class=\"line\">86</span>\n<span class=\"line\">87</span>\n<span class=\"line\">88</span>\n<span class=\"line\">89</span>\n<span class=\"line\">90</span>\n<span class=\"line\">91</span>\n<span class=\"line\">92</span>\n<span class=\"line\">93</span>\n<span class=\"line\">94</span>\n<span class=\"line\">95</span>\n<span class=\"line\">96</span>\n<span class=\"line\">97</span>\n<span class=\"line\">98</span>\n<span class=\"line\">99</span>\n<span class=\"line\">100</span>\n<span class=\"line\">101</span>\n<span class=\"line\">102</span>\n<span class=\"line\">103</span>\n<span class=\"line\">104</span>\n<span class=\"line\">105</span>\n<span class=\"line\">106</span>\n<span class=\"line\">107</span>\n<span class=\"line\">108</span>\n<span class=\"line\">109</span>\n<span class=\"line\">110</span>\n<span class=\"line\">111</span>\n<span class=\"line\">112</span>\n<span class=\"line\">113</span>\n<span class=\"line\">114</span>\n<span class=\"line\">115</span>\n<span class=\"line\">116</span>\n<span class=\"line\">117</span>\n<span class=\"line\">118</span>\n<span class=\"line\">119</span>\n<span class=\"line\">120</span>\n<span class=\"line\">121</span>\n<span class=\"line\">122</span>\n<span class=\"line\">123</span>\n<span class=\"line\">124</span>\n<span class=\"line\">125</span>\n<span class=\"line\">126</span>\n<span class=\"line\">127</span>\n<span class=\"line\">128</span>\n<span class=\"line\">129</span>\n<span class=\"line\">130</span>\n<span class=\"line\">131</span>\n<span class=\"line\">132</span>\n<span class=\"line\">133</span>\n<span class=\"line\">134</span>\n<span class=\"line\">135</span>\n<span class=\"line\">136</span>\n<span class=\"line\">137</span>\n<span class=\"line\">138</span>\n<span class=\"line\">139</span>\n<span class=\"line\">140</span>\n<span class=\"line\">141</span>\n<span class=\"line\">142</span>\n<span class=\"line\">143</span>\n<span class=\"line\">144</span>\n<span class=\"line\">145</span>\n<span class=\"line\">146</span>\n<span class=\"line\">147</span>\n<span class=\"line\">148</span>\n<span class=\"line\">149</span>\n<span class=\"line\">150</span>\n<span class=\"line\">151</span>\n<span class=\"line\">152</span>\n<span class=\"line\">153</span>\n<span class=\"line\">154</span>\n<span class=\"line\">155</span>\n<span class=\"line\">156</span>\n<span class=\"line\">157</span>\n<span class=\"line\">158</span>\n<span class=\"line\">159</span>\n<span class=\"line\">160</span>\n<span class=\"line\">161</span>\n<span class=\"line\">162</span>\n<span class=\"line\">163</span>\n<span class=\"line\">164</span>\n<span class=\"line\">165</span>\n<span class=\"line\">166</span>\n<span class=\"line\">167</span>\n<span class=\"line\">168</span>\n<span class=\"line\">169</span>\n<span class=\"line\">170</span>\n<span class=\"line\">171</span>\n<span class=\"line\">172</span>\n<span class=\"line\">173</span>\n<span class=\"line\">174</span>\n<span class=\"line\">175</span>\n<span class=\"line\">176</span>\n<span class=\"line\">177</span>\n<span class=\"line\">178</span>\n<span class=\"line\">179</span>\n<span class=\"line\">180</span>\n<span class=\"line\">181</span>\n<span class=\"line\">182</span>\n<span class=\"line\">183</span>\n<span class=\"line\">184</span>\n<span class=\"line\">185</span>\n<span class=\"line\">186</span>\n<span class=\"line\">187</span>\n<span class=\"line\">188</span>\n<span class=\"line\">189</span>\n<span class=\"line\">190</span>\n<span class=\"line\">191</span>\n<span class=\"line\">192</span>\n<span class=\"line\">193</span>\n<span class=\"line\">194</span>\n<span class=\"line\">195</span>\n<span class=\"line\">196</span>\n<span class=\"line\">197</span>\n<span class=\"line\">198</span>\n<span class=\"line\">199</span>\n<span class=\"line\">200</span>\n<span class=\"line\">201</span>\n<span class=\"line\">202</span>\n<span class=\"line\">203</span>\n<span class=\"line\">204</span>\n<span class=\"line\">205</span>\n<span class=\"line\">206</span>\n<span class=\"line\">207</span>\n<span class=\"line\">208</span>\n<span class=\"line\">209</span>\n<span class=\"line\">210</span>\n<span class=\"line\">211</span>\n<span class=\"line\">212</span>\n<span class=\"line\">213</span>\n<span class=\"line\">214</span>\n<span class=\"line\">215</span>\n<span class=\"line\">216</span>\n<span class=\"line\">217</span>\n<span class=\"line\">218</span>\n<span class=\"line\">219</span>\n<span class=\"line\">220</span>\n<span class=\"line\">221</span>\n<span class=\"line\">222</span>\n<span class=\"line\">223</span>\n<span class=\"line\">224</span>\n<span class=\"line\">225</span>\n<span class=\"line\">226</span>\n<span class=\"line\">227</span>\n<span class=\"line\">228</span>\n<span class=\"line\">229</span>\n<span class=\"line\">230</span>\n<span class=\"line\">231</span>\n<span class=\"line\">232</span>\n<span class=\"line\">233</span>\n<span class=\"line\">234</span>\n<span class=\"line\">235</span>\n<span class=\"line\">236</span>\n<span class=\"line\">237</span>\n<span class=\"line\">238</span>\n<span class=\"line\">239</span>\n<span class=\"line\">240</span>\n<span class=\"line\">241</span>\n<span class=\"line\">242</span>\n<span class=\"line\">243</span>\n<span class=\"line\">244</span>\n<span class=\"line\">245</span>\n<span class=\"line\">246</span>\n<span class=\"line\">247</span>\n<span class=\"line\">248</span>\n<span class=\"line\">249</span>\n<span class=\"line\">250</span>\n<span class=\"line\">251</span>\n<span class=\"line\">252</span>\n<span class=\"line\">253</span>\n<span class=\"line\">254</span>\n<span class=\"line\">255</span>\n<span class=\"line\">256</span>\n<span class=\"line\">257</span>\n<span class=\"line\">258</span>\n<span class=\"line\">259</span>\n<span class=\"line\">260</span>\n<span class=\"line\">261</span>\n<span class=\"line\">262</span>\n<span class=\"line\">263</span>\n<span class=\"line\">264</span>\n<span class=\"line\">265</span>\n<span class=\"line\">266</span>\n<span class=\"line\">267</span>\n<span class=\"line\">268</span>\n<span class=\"line\">269</span>\n<span class=\"line\">270</span>\n<span class=\"line\">271</span>\n<span class=\"line\">272</span>\n<span class=\"line\">273</span>\n<span class=\"line\">274</span>\n<span class=\"line\">275</span>\n<span class=\"line\">276</span>\n<span class=\"line\">277</span>\n<span class=\"line\">278</span>\n<span class=\"line\">279</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">body&#123;</span>\n<span class=\"line\">    background-color: #fff;</span>\n<span class=\"line\">    margin: 0 auto;</span>\n<span class=\"line\">    font-family: Georgia, Palatino, serif;</span>\n<span class=\"line\">    color: #333333;</span>\n<span class=\"line\">    line-height: 120%;</span>\n<span class=\"line\">    max-width: 960px;</span>\n<span class=\"line\">    padding: 30px;</span>\n<span class=\"line\">    font-size: 12px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h1, h2, h3, h4 &#123;</span>\n<span class=\"line\">    color: #111111;</span>\n<span class=\"line\">    font-weight: 400;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h1, h2, h3, h4, h5, p &#123;</span>\n<span class=\"line\">    margin-bottom: 18px;</span>\n<span class=\"line\">    padding: 0;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h1 &#123;</span>\n<span class=\"line\">    font-size: 36px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h2 &#123;</span>\n<span class=\"line\">    font-size: 24px;</span>\n<span class=\"line\">    margin: 18px 0 6px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h3 &#123;</span>\n<span class=\"line\">    font-size: 20px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h4 &#123;</span>\n<span class=\"line\">    font-size: 16px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h5 &#123;</span>\n<span class=\"line\">    font-size: 14px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h6 &#123;</span>\n<span class=\"line\">    font-size: 12px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">a &#123;</span>\n<span class=\"line\">    color: #0099ff;</span>\n<span class=\"line\">    margin: 0;</span>\n<span class=\"line\">    padding: 0;</span>\n<span class=\"line\">    vertical-align: baseline;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">a:hover &#123;</span>\n<span class=\"line\">    text-decoration: none;</span>\n<span class=\"line\">    color: #ff6600;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">a:visited &#123;</span>\n<span class=\"line\">    color: purple;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">ul, ol &#123;</span>\n<span class=\"line\">    padding: 0;</span>\n<span class=\"line\">    margin-left: 18px;</span>\n<span class=\"line\">    margin-bottom: 18px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">li &#123;</span>\n<span class=\"line\">    line-height: 18px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">li ul, li ul &#123;</span>\n<span class=\"line\">    margin-left: 18px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">p, ul, ol &#123;</span>\n<span class=\"line\">    font-size: 12px;</span>\n<span class=\"line\">    line-height: 1.5;</span>\n<span class=\"line\">    max-width: 540px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">blockquote &#123;</span>\n<span class=\"line\">   padding: 12px 12px 12px 15px;</span>\n<span class=\"line\">   margin-bottom: 16px;</span>\n<span class=\"line\">   font-family:georgia,serif;</span>\n<span class=\"line\">   font-style: italic;</span>\n<span class=\"line\">   border-left: 2px solid #d9d9d9;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">blockquote p &#123;</span>\n<span class=\"line\">   font-size: 12px;</span>\n<span class=\"line\">   font-weight: 300;</span>\n<span class=\"line\">   line-height: 1.2;</span>\n<span class=\"line\">   margin-bottom: 0;</span>\n<span class=\"line\">   font-style: italic;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">code, pre &#123;</span>\n<span class=\"line\">   font-family: Monaco, Andale Mono, Courier New, monospace;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">code &#123;</span>\n<span class=\"line\">   background-color: #fee9cc;</span>\n<span class=\"line\">   color: #000000;</span>\n<span class=\"line\">   padding: 1px 3px;</span>\n<span class=\"line\">   font-size: 12px;</span>\n<span class=\"line\">   border-radius: 3px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">pre &#123;</span>\n<span class=\"line\">   display: block;</span>\n<span class=\"line\">   padding: 14px;</span>\n<span class=\"line\">   margin: 0 0 18px;</span>\n<span class=\"line\">   line-height: 16px;</span>\n<span class=\"line\">   font-size: 11px;</span>\n<span class=\"line\">   border: 1px solid #d9d9d9;</span>\n<span class=\"line\">   white-space: pre-wrap;</span>\n<span class=\"line\">   word-wrap: break-word;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">pre code &#123;</span>\n<span class=\"line\">   background-color: #ffffff;</span>\n<span class=\"line\">   color:#666666;</span>\n<span class=\"line\">   font-size: 11px;</span>\n<span class=\"line\">   padding: 0;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">aside &#123;</span>\n<span class=\"line\">    display: block;</span>\n<span class=\"line\">    float: right;</span>\n<span class=\"line\">    width: 390px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\">hr &#123;</span>\n<span class=\"line\">    width: 540px;</span>\n<span class=\"line\">    text-align: left;</span>\n<span class=\"line\">    margin: 0 auto 0 0;</span>\n<span class=\"line\">    color: #999999;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">/* Code below this line is copyright Twitter Inc. */</span>\n<span class=\"line\"></span>\n<span class=\"line\">button,</span>\n<span class=\"line\">input,</span>\n<span class=\"line\">select,</span>\n<span class=\"line\">textarea &#123;</span>\n<span class=\"line\">  font-size: 100%;</span>\n<span class=\"line\">  margin: 0;</span>\n<span class=\"line\">  vertical-align: baseline;</span>\n<span class=\"line\">  *vertical-align: middle;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button, input &#123;</span>\n<span class=\"line\">  line-height: normal;</span>\n<span class=\"line\">  *overflow: visible;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button::-moz-focus-inner, input::-moz-focus-inner &#123;</span>\n<span class=\"line\">  border: 0;</span>\n<span class=\"line\">  padding: 0;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button,</span>\n<span class=\"line\">input[type=\"button\"],</span>\n<span class=\"line\">input[type=\"reset\"],</span>\n<span class=\"line\">input[type=\"submit\"] &#123;</span>\n<span class=\"line\">  cursor: pointer;</span>\n<span class=\"line\">  -webkit-appearance: button;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">input[type=checkbox], input[type=radio] &#123;</span>\n<span class=\"line\">  cursor: pointer;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">/* override default chrome &amp; firefox settings */</span>\n<span class=\"line\">input:not([type=\"image\"]), textarea &#123;</span>\n<span class=\"line\">  -webkit-box-sizing: content-box;</span>\n<span class=\"line\">  -moz-box-sizing: content-box;</span>\n<span class=\"line\">  box-sizing: content-box;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">input[type=\"search\"] &#123;</span>\n<span class=\"line\">  -webkit-appearance: textfield;</span>\n<span class=\"line\">  -webkit-box-sizing: content-box;</span>\n<span class=\"line\">  -moz-box-sizing: content-box;</span>\n<span class=\"line\">  box-sizing: content-box;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">input[type=\"search\"]::-webkit-search-decoration &#123;</span>\n<span class=\"line\">  -webkit-appearance: none;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">label,</span>\n<span class=\"line\">input,</span>\n<span class=\"line\">select,</span>\n<span class=\"line\">textarea &#123;</span>\n<span class=\"line\">  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;</span>\n<span class=\"line\">  font-size: 13px;</span>\n<span class=\"line\">  font-weight: normal;</span>\n<span class=\"line\">  line-height: normal;</span>\n<span class=\"line\">  margin-bottom: 18px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">input[type=checkbox], input[type=radio] &#123;</span>\n<span class=\"line\">  cursor: pointer;</span>\n<span class=\"line\">  margin-bottom: 0;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">input[type=text],</span>\n<span class=\"line\">input[type=password],</span>\n<span class=\"line\">textarea,</span>\n<span class=\"line\">select &#123;</span>\n<span class=\"line\">  display: inline-block;</span>\n<span class=\"line\">  width: 210px;</span>\n<span class=\"line\">  padding: 4px;</span>\n<span class=\"line\">  font-size: 13px;</span>\n<span class=\"line\">  font-weight: normal;</span>\n<span class=\"line\">  line-height: 18px;</span>\n<span class=\"line\">  height: 18px;</span>\n<span class=\"line\">  color: #808080;</span>\n<span class=\"line\">  border: 1px solid #ccc;</span>\n<span class=\"line\">  -webkit-border-radius: 3px;</span>\n<span class=\"line\">  -moz-border-radius: 3px;</span>\n<span class=\"line\">  border-radius: 3px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">select, input[type=file] &#123;</span>\n<span class=\"line\">  height: 27px;</span>\n<span class=\"line\">  line-height: 27px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">textarea &#123;</span>\n<span class=\"line\">  height: auto;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">/* grey out placeholders */</span>\n<span class=\"line\">:-moz-placeholder &#123;</span>\n<span class=\"line\">  color: #bfbfbf;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">::-webkit-input-placeholder &#123;</span>\n<span class=\"line\">  color: #bfbfbf;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">input[type=text],</span>\n<span class=\"line\">input[type=password],</span>\n<span class=\"line\">select,</span>\n<span class=\"line\">textarea &#123;</span>\n<span class=\"line\">  -webkit-transition: border linear 0.2s, box-shadow linear 0.2s;</span>\n<span class=\"line\">  -moz-transition: border linear 0.2s, box-shadow linear 0.2s;</span>\n<span class=\"line\">  transition: border linear 0.2s, box-shadow linear 0.2s;</span>\n<span class=\"line\">  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);</span>\n<span class=\"line\">  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);</span>\n<span class=\"line\">  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">input[type=text]:focus, input[type=password]:focus, textarea:focus &#123;</span>\n<span class=\"line\">  outline: none;</span>\n<span class=\"line\">  border-color: rgba(82, 168, 236, 0.8);</span>\n<span class=\"line\">  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);</span>\n<span class=\"line\">  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);</span>\n<span class=\"line\">  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">/* buttons */</span>\n<span class=\"line\">button &#123;</span>\n<span class=\"line\">  display: inline-block;</span>\n<span class=\"line\">  padding: 4px 14px;</span>\n<span class=\"line\">  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;</span>\n<span class=\"line\">  font-size: 13px;</span>\n<span class=\"line\">  line-height: 18px;</span>\n<span class=\"line\">  -webkit-border-radius: 4px;</span>\n<span class=\"line\">  -moz-border-radius: 4px;</span>\n<span class=\"line\">  border-radius: 4px;</span>\n<span class=\"line\">  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">  -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">  background-color: #0064cd;</span>\n<span class=\"line\">  background-repeat: repeat-x;</span>\n<span class=\"line\">  background-image: -khtml-gradient(linear, left top, left bottom, from(#049cdb), to(#0064cd));</span>\n<span class=\"line\">  background-image: -moz-linear-gradient(top, #049cdb, #0064cd);</span>\n<span class=\"line\">  background-image: -ms-linear-gradient(top, #049cdb, #0064cd);</span>\n<span class=\"line\">  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #049cdb), color-stop(100%, #0064cd));</span>\n<span class=\"line\">  background-image: -webkit-linear-gradient(top, #049cdb, #0064cd);</span>\n<span class=\"line\">  background-image: -o-linear-gradient(top, #049cdb, #0064cd);</span>\n<span class=\"line\">  background-image: linear-gradient(top, #049cdb, #0064cd);</span>\n<span class=\"line\">  color: #fff;</span>\n<span class=\"line\">  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);</span>\n<span class=\"line\">  border: 1px solid #004b9a;</span>\n<span class=\"line\">  border-bottom-color: #003f81;</span>\n<span class=\"line\">  -webkit-transition: 0.1s linear all;</span>\n<span class=\"line\">  -moz-transition: 0.1s linear all;</span>\n<span class=\"line\">  transition: 0.1s linear all;</span>\n<span class=\"line\">  border-color: #0064cd #0064cd #003f81;</span>\n<span class=\"line\">  border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button:hover &#123;</span>\n<span class=\"line\">  color: #fff;</span>\n<span class=\"line\">  background-position: 0 -15px;</span>\n<span class=\"line\">  text-decoration: none;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button:active &#123;</span>\n<span class=\"line\">  -webkit-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">  -moz-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">  box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button::-moz-focus-inner &#123;</span>\n<span class=\"line\">  padding: 0;</span>\n<span class=\"line\">  border: 0;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p>","excerpt":"","more":"<p>一直觉得在 webstrom 里面看 markdown 是一种折磨，尤其是有 table 的情况下，很不爽！！！</p><p>今天突然发现有一个设置项可以自定义 markdown 的样式，</p><p><img src=\"../images/webstorm-md-css-1.png\" alt=\"设置\"></p><p>就是右边方框里面的选项，取消 webstorm 默认的， 然后添加自己的 css，下面的css 是我找来的，还可以看：<br></p><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n<span class=\"line\">61</span>\n<span class=\"line\">62</span>\n<span class=\"line\">63</span>\n<span class=\"line\">64</span>\n<span class=\"line\">65</span>\n<span class=\"line\">66</span>\n<span class=\"line\">67</span>\n<span class=\"line\">68</span>\n<span class=\"line\">69</span>\n<span class=\"line\">70</span>\n<span class=\"line\">71</span>\n<span class=\"line\">72</span>\n<span class=\"line\">73</span>\n<span class=\"line\">74</span>\n<span class=\"line\">75</span>\n<span class=\"line\">76</span>\n<span class=\"line\">77</span>\n<span class=\"line\">78</span>\n<span class=\"line\">79</span>\n<span class=\"line\">80</span>\n<span class=\"line\">81</span>\n<span class=\"line\">82</span>\n<span class=\"line\">83</span>\n<span class=\"line\">84</span>\n<span class=\"line\">85</span>\n<span class=\"line\">86</span>\n<span class=\"line\">87</span>\n<span class=\"line\">88</span>\n<span class=\"line\">89</span>\n<span class=\"line\">90</span>\n<span class=\"line\">91</span>\n<span class=\"line\">92</span>\n<span class=\"line\">93</span>\n<span class=\"line\">94</span>\n<span class=\"line\">95</span>\n<span class=\"line\">96</span>\n<span class=\"line\">97</span>\n<span class=\"line\">98</span>\n<span class=\"line\">99</span>\n<span class=\"line\">100</span>\n<span class=\"line\">101</span>\n<span class=\"line\">102</span>\n<span class=\"line\">103</span>\n<span class=\"line\">104</span>\n<span class=\"line\">105</span>\n<span class=\"line\">106</span>\n<span class=\"line\">107</span>\n<span class=\"line\">108</span>\n<span class=\"line\">109</span>\n<span class=\"line\">110</span>\n<span class=\"line\">111</span>\n<span class=\"line\">112</span>\n<span class=\"line\">113</span>\n<span class=\"line\">114</span>\n<span class=\"line\">115</span>\n<span class=\"line\">116</span>\n<span class=\"line\">117</span>\n<span class=\"line\">118</span>\n<span class=\"line\">119</span>\n<span class=\"line\">120</span>\n<span class=\"line\">121</span>\n<span class=\"line\">122</span>\n<span class=\"line\">123</span>\n<span class=\"line\">124</span>\n<span class=\"line\">125</span>\n<span class=\"line\">126</span>\n<span class=\"line\">127</span>\n<span class=\"line\">128</span>\n<span class=\"line\">129</span>\n<span class=\"line\">130</span>\n<span class=\"line\">131</span>\n<span class=\"line\">132</span>\n<span class=\"line\">133</span>\n<span class=\"line\">134</span>\n<span class=\"line\">135</span>\n<span class=\"line\">136</span>\n<span class=\"line\">137</span>\n<span class=\"line\">138</span>\n<span class=\"line\">139</span>\n<span class=\"line\">140</span>\n<span class=\"line\">141</span>\n<span class=\"line\">142</span>\n<span class=\"line\">143</span>\n<span class=\"line\">144</span>\n<span class=\"line\">145</span>\n<span class=\"line\">146</span>\n<span class=\"line\">147</span>\n<span class=\"line\">148</span>\n<span class=\"line\">149</span>\n<span class=\"line\">150</span>\n<span class=\"line\">151</span>\n<span class=\"line\">152</span>\n<span class=\"line\">153</span>\n<span class=\"line\">154</span>\n<span class=\"line\">155</span>\n<span class=\"line\">156</span>\n<span class=\"line\">157</span>\n<span class=\"line\">158</span>\n<span class=\"line\">159</span>\n<span class=\"line\">160</span>\n<span class=\"line\">161</span>\n<span class=\"line\">162</span>\n<span class=\"line\">163</span>\n<span class=\"line\">164</span>\n<span class=\"line\">165</span>\n<span class=\"line\">166</span>\n<span class=\"line\">167</span>\n<span class=\"line\">168</span>\n<span class=\"line\">169</span>\n<span class=\"line\">170</span>\n<span class=\"line\">171</span>\n<span class=\"line\">172</span>\n<span class=\"line\">173</span>\n<span class=\"line\">174</span>\n<span class=\"line\">175</span>\n<span class=\"line\">176</span>\n<span class=\"line\">177</span>\n<span class=\"line\">178</span>\n<span class=\"line\">179</span>\n<span class=\"line\">180</span>\n<span class=\"line\">181</span>\n<span class=\"line\">182</span>\n<span class=\"line\">183</span>\n<span class=\"line\">184</span>\n<span class=\"line\">185</span>\n<span class=\"line\">186</span>\n<span class=\"line\">187</span>\n<span class=\"line\">188</span>\n<span class=\"line\">189</span>\n<span class=\"line\">190</span>\n<span class=\"line\">191</span>\n<span class=\"line\">192</span>\n<span class=\"line\">193</span>\n<span class=\"line\">194</span>\n<span class=\"line\">195</span>\n<span class=\"line\">196</span>\n<span class=\"line\">197</span>\n<span class=\"line\">198</span>\n<span class=\"line\">199</span>\n<span class=\"line\">200</span>\n<span class=\"line\">201</span>\n<span class=\"line\">202</span>\n<span class=\"line\">203</span>\n<span class=\"line\">204</span>\n<span class=\"line\">205</span>\n<span class=\"line\">206</span>\n<span class=\"line\">207</span>\n<span class=\"line\">208</span>\n<span class=\"line\">209</span>\n<span class=\"line\">210</span>\n<span class=\"line\">211</span>\n<span class=\"line\">212</span>\n<span class=\"line\">213</span>\n<span class=\"line\">214</span>\n<span class=\"line\">215</span>\n<span class=\"line\">216</span>\n<span class=\"line\">217</span>\n<span class=\"line\">218</span>\n<span class=\"line\">219</span>\n<span class=\"line\">220</span>\n<span class=\"line\">221</span>\n<span class=\"line\">222</span>\n<span class=\"line\">223</span>\n<span class=\"line\">224</span>\n<span class=\"line\">225</span>\n<span class=\"line\">226</span>\n<span class=\"line\">227</span>\n<span class=\"line\">228</span>\n<span class=\"line\">229</span>\n<span class=\"line\">230</span>\n<span class=\"line\">231</span>\n<span class=\"line\">232</span>\n<span class=\"line\">233</span>\n<span class=\"line\">234</span>\n<span class=\"line\">235</span>\n<span class=\"line\">236</span>\n<span class=\"line\">237</span>\n<span class=\"line\">238</span>\n<span class=\"line\">239</span>\n<span class=\"line\">240</span>\n<span class=\"line\">241</span>\n<span class=\"line\">242</span>\n<span class=\"line\">243</span>\n<span class=\"line\">244</span>\n<span class=\"line\">245</span>\n<span class=\"line\">246</span>\n<span class=\"line\">247</span>\n<span class=\"line\">248</span>\n<span class=\"line\">249</span>\n<span class=\"line\">250</span>\n<span class=\"line\">251</span>\n<span class=\"line\">252</span>\n<span class=\"line\">253</span>\n<span class=\"line\">254</span>\n<span class=\"line\">255</span>\n<span class=\"line\">256</span>\n<span class=\"line\">257</span>\n<span class=\"line\">258</span>\n<span class=\"line\">259</span>\n<span class=\"line\">260</span>\n<span class=\"line\">261</span>\n<span class=\"line\">262</span>\n<span class=\"line\">263</span>\n<span class=\"line\">264</span>\n<span class=\"line\">265</span>\n<span class=\"line\">266</span>\n<span class=\"line\">267</span>\n<span class=\"line\">268</span>\n<span class=\"line\">269</span>\n<span class=\"line\">270</span>\n<span class=\"line\">271</span>\n<span class=\"line\">272</span>\n<span class=\"line\">273</span>\n<span class=\"line\">274</span>\n<span class=\"line\">275</span>\n<span class=\"line\">276</span>\n<span class=\"line\">277</span>\n<span class=\"line\">278</span>\n<span class=\"line\">279</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">body&#123;</span>\n<span class=\"line\">    background-color: #fff;</span>\n<span class=\"line\">    margin: 0 auto;</span>\n<span class=\"line\">    font-family: Georgia, Palatino, serif;</span>\n<span class=\"line\">    color: #333333;</span>\n<span class=\"line\">    line-height: 120%;</span>\n<span class=\"line\">    max-width: 960px;</span>\n<span class=\"line\">    padding: 30px;</span>\n<span class=\"line\">    font-size: 12px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h1, h2, h3, h4 &#123;</span>\n<span class=\"line\">    color: #111111;</span>\n<span class=\"line\">    font-weight: 400;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h1, h2, h3, h4, h5, p &#123;</span>\n<span class=\"line\">    margin-bottom: 18px;</span>\n<span class=\"line\">    padding: 0;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h1 &#123;</span>\n<span class=\"line\">    font-size: 36px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h2 &#123;</span>\n<span class=\"line\">    font-size: 24px;</span>\n<span class=\"line\">    margin: 18px 0 6px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h3 &#123;</span>\n<span class=\"line\">    font-size: 20px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h4 &#123;</span>\n<span class=\"line\">    font-size: 16px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h5 &#123;</span>\n<span class=\"line\">    font-size: 14px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">h6 &#123;</span>\n<span class=\"line\">    font-size: 12px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">a &#123;</span>\n<span class=\"line\">    color: #0099ff;</span>\n<span class=\"line\">    margin: 0;</span>\n<span class=\"line\">    padding: 0;</span>\n<span class=\"line\">    vertical-align: baseline;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">a:hover &#123;</span>\n<span class=\"line\">    text-decoration: none;</span>\n<span class=\"line\">    color: #ff6600;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">a:visited &#123;</span>\n<span class=\"line\">    color: purple;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">ul, ol &#123;</span>\n<span class=\"line\">    padding: 0;</span>\n<span class=\"line\">    margin-left: 18px;</span>\n<span class=\"line\">    margin-bottom: 18px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">li &#123;</span>\n<span class=\"line\">    line-height: 18px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">li ul, li ul &#123;</span>\n<span class=\"line\">    margin-left: 18px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">p, ul, ol &#123;</span>\n<span class=\"line\">    font-size: 12px;</span>\n<span class=\"line\">    line-height: 1.5;</span>\n<span class=\"line\">    max-width: 540px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">blockquote &#123;</span>\n<span class=\"line\">   padding: 12px 12px 12px 15px;</span>\n<span class=\"line\">   margin-bottom: 16px;</span>\n<span class=\"line\">   font-family:georgia,serif;</span>\n<span class=\"line\">   font-style: italic;</span>\n<span class=\"line\">   border-left: 2px solid #d9d9d9;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">blockquote p &#123;</span>\n<span class=\"line\">   font-size: 12px;</span>\n<span class=\"line\">   font-weight: 300;</span>\n<span class=\"line\">   line-height: 1.2;</span>\n<span class=\"line\">   margin-bottom: 0;</span>\n<span class=\"line\">   font-style: italic;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">code, pre &#123;</span>\n<span class=\"line\">   font-family: Monaco, Andale Mono, Courier New, monospace;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">code &#123;</span>\n<span class=\"line\">   background-color: #fee9cc;</span>\n<span class=\"line\">   color: #000000;</span>\n<span class=\"line\">   padding: 1px 3px;</span>\n<span class=\"line\">   font-size: 12px;</span>\n<span class=\"line\">   border-radius: 3px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">pre &#123;</span>\n<span class=\"line\">   display: block;</span>\n<span class=\"line\">   padding: 14px;</span>\n<span class=\"line\">   margin: 0 0 18px;</span>\n<span class=\"line\">   line-height: 16px;</span>\n<span class=\"line\">   font-size: 11px;</span>\n<span class=\"line\">   border: 1px solid #d9d9d9;</span>\n<span class=\"line\">   white-space: pre-wrap;</span>\n<span class=\"line\">   word-wrap: break-word;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">pre code &#123;</span>\n<span class=\"line\">   background-color: #ffffff;</span>\n<span class=\"line\">   color:#666666;</span>\n<span class=\"line\">   font-size: 11px;</span>\n<span class=\"line\">   padding: 0;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">aside &#123;</span>\n<span class=\"line\">    display: block;</span>\n<span class=\"line\">    float: right;</span>\n<span class=\"line\">    width: 390px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\">hr &#123;</span>\n<span class=\"line\">    width: 540px;</span>\n<span class=\"line\">    text-align: left;</span>\n<span class=\"line\">    margin: 0 auto 0 0;</span>\n<span class=\"line\">    color: #999999;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">/* Code below this line is copyright Twitter Inc. */</span>\n<span class=\"line\"></span>\n<span class=\"line\">button,</span>\n<span class=\"line\">input,</span>\n<span class=\"line\">select,</span>\n<span class=\"line\">textarea &#123;</span>\n<span class=\"line\">  font-size: 100%;</span>\n<span class=\"line\">  margin: 0;</span>\n<span class=\"line\">  vertical-align: baseline;</span>\n<span class=\"line\">  *vertical-align: middle;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button, input &#123;</span>\n<span class=\"line\">  line-height: normal;</span>\n<span class=\"line\">  *overflow: visible;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button::-moz-focus-inner, input::-moz-focus-inner &#123;</span>\n<span class=\"line\">  border: 0;</span>\n<span class=\"line\">  padding: 0;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button,</span>\n<span class=\"line\">input[type=\"button\"],</span>\n<span class=\"line\">input[type=\"reset\"],</span>\n<span class=\"line\">input[type=\"submit\"] &#123;</span>\n<span class=\"line\">  cursor: pointer;</span>\n<span class=\"line\">  -webkit-appearance: button;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">input[type=checkbox], input[type=radio] &#123;</span>\n<span class=\"line\">  cursor: pointer;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">/* override default chrome &amp; firefox settings */</span>\n<span class=\"line\">input:not([type=\"image\"]), textarea &#123;</span>\n<span class=\"line\">  -webkit-box-sizing: content-box;</span>\n<span class=\"line\">  -moz-box-sizing: content-box;</span>\n<span class=\"line\">  box-sizing: content-box;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">input[type=\"search\"] &#123;</span>\n<span class=\"line\">  -webkit-appearance: textfield;</span>\n<span class=\"line\">  -webkit-box-sizing: content-box;</span>\n<span class=\"line\">  -moz-box-sizing: content-box;</span>\n<span class=\"line\">  box-sizing: content-box;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">input[type=\"search\"]::-webkit-search-decoration &#123;</span>\n<span class=\"line\">  -webkit-appearance: none;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">label,</span>\n<span class=\"line\">input,</span>\n<span class=\"line\">select,</span>\n<span class=\"line\">textarea &#123;</span>\n<span class=\"line\">  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;</span>\n<span class=\"line\">  font-size: 13px;</span>\n<span class=\"line\">  font-weight: normal;</span>\n<span class=\"line\">  line-height: normal;</span>\n<span class=\"line\">  margin-bottom: 18px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">input[type=checkbox], input[type=radio] &#123;</span>\n<span class=\"line\">  cursor: pointer;</span>\n<span class=\"line\">  margin-bottom: 0;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">input[type=text],</span>\n<span class=\"line\">input[type=password],</span>\n<span class=\"line\">textarea,</span>\n<span class=\"line\">select &#123;</span>\n<span class=\"line\">  display: inline-block;</span>\n<span class=\"line\">  width: 210px;</span>\n<span class=\"line\">  padding: 4px;</span>\n<span class=\"line\">  font-size: 13px;</span>\n<span class=\"line\">  font-weight: normal;</span>\n<span class=\"line\">  line-height: 18px;</span>\n<span class=\"line\">  height: 18px;</span>\n<span class=\"line\">  color: #808080;</span>\n<span class=\"line\">  border: 1px solid #ccc;</span>\n<span class=\"line\">  -webkit-border-radius: 3px;</span>\n<span class=\"line\">  -moz-border-radius: 3px;</span>\n<span class=\"line\">  border-radius: 3px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">select, input[type=file] &#123;</span>\n<span class=\"line\">  height: 27px;</span>\n<span class=\"line\">  line-height: 27px;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">textarea &#123;</span>\n<span class=\"line\">  height: auto;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">/* grey out placeholders */</span>\n<span class=\"line\">:-moz-placeholder &#123;</span>\n<span class=\"line\">  color: #bfbfbf;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">::-webkit-input-placeholder &#123;</span>\n<span class=\"line\">  color: #bfbfbf;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">input[type=text],</span>\n<span class=\"line\">input[type=password],</span>\n<span class=\"line\">select,</span>\n<span class=\"line\">textarea &#123;</span>\n<span class=\"line\">  -webkit-transition: border linear 0.2s, box-shadow linear 0.2s;</span>\n<span class=\"line\">  -moz-transition: border linear 0.2s, box-shadow linear 0.2s;</span>\n<span class=\"line\">  transition: border linear 0.2s, box-shadow linear 0.2s;</span>\n<span class=\"line\">  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);</span>\n<span class=\"line\">  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);</span>\n<span class=\"line\">  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">input[type=text]:focus, input[type=password]:focus, textarea:focus &#123;</span>\n<span class=\"line\">  outline: none;</span>\n<span class=\"line\">  border-color: rgba(82, 168, 236, 0.8);</span>\n<span class=\"line\">  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);</span>\n<span class=\"line\">  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);</span>\n<span class=\"line\">  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">/* buttons */</span>\n<span class=\"line\">button &#123;</span>\n<span class=\"line\">  display: inline-block;</span>\n<span class=\"line\">  padding: 4px 14px;</span>\n<span class=\"line\">  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;</span>\n<span class=\"line\">  font-size: 13px;</span>\n<span class=\"line\">  line-height: 18px;</span>\n<span class=\"line\">  -webkit-border-radius: 4px;</span>\n<span class=\"line\">  -moz-border-radius: 4px;</span>\n<span class=\"line\">  border-radius: 4px;</span>\n<span class=\"line\">  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">  -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">  background-color: #0064cd;</span>\n<span class=\"line\">  background-repeat: repeat-x;</span>\n<span class=\"line\">  background-image: -khtml-gradient(linear, left top, left bottom, from(#049cdb), to(#0064cd));</span>\n<span class=\"line\">  background-image: -moz-linear-gradient(top, #049cdb, #0064cd);</span>\n<span class=\"line\">  background-image: -ms-linear-gradient(top, #049cdb, #0064cd);</span>\n<span class=\"line\">  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #049cdb), color-stop(100%, #0064cd));</span>\n<span class=\"line\">  background-image: -webkit-linear-gradient(top, #049cdb, #0064cd);</span>\n<span class=\"line\">  background-image: -o-linear-gradient(top, #049cdb, #0064cd);</span>\n<span class=\"line\">  background-image: linear-gradient(top, #049cdb, #0064cd);</span>\n<span class=\"line\">  color: #fff;</span>\n<span class=\"line\">  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);</span>\n<span class=\"line\">  border: 1px solid #004b9a;</span>\n<span class=\"line\">  border-bottom-color: #003f81;</span>\n<span class=\"line\">  -webkit-transition: 0.1s linear all;</span>\n<span class=\"line\">  -moz-transition: 0.1s linear all;</span>\n<span class=\"line\">  transition: 0.1s linear all;</span>\n<span class=\"line\">  border-color: #0064cd #0064cd #003f81;</span>\n<span class=\"line\">  border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button:hover &#123;</span>\n<span class=\"line\">  color: #fff;</span>\n<span class=\"line\">  background-position: 0 -15px;</span>\n<span class=\"line\">  text-decoration: none;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button:active &#123;</span>\n<span class=\"line\">  -webkit-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">  -moz-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">  box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\">button::-moz-focus-inner &#123;</span>\n<span class=\"line\">  padding: 0;</span>\n<span class=\"line\">  border: 0;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p>"},{"title":"Queue Anim 列表","date":"2016-03-03T09:45:24.000Z","_content":"\n\n# @keyframes\n基本写法是一个开始状态和一个结束状态：\n```css\n@keyframes demo-anim {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n```\n\n<p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"QNbBOy\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/QNbBOy/\">QNbBOy</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n> 其中 `animation-iteration-count: number or infinite;` 可以设置循环次数，infinite为无限次\n\n还可以定义的很详细：\n```css\n@keyframes demo-anim {\n  from {\n    transform: translate(0, 0);\n  }\n  20% {\n    transform: translate(20, 20);\n  }\n  40% {\n    transform: translate(40, 0);\n  }\n  60% {\n    transform: translate(60, 20);\n  }\n  80% {\n    transform: translate(80, 0);\n  }\n  to {\n    transform: translate(100, 20);\n  }\n}\n\n```\n\n# animation-fill-mode\n> animation-fill-mode : none | forwards | backwards | both;\n\n\n值|描述\n-|-\nnone|不改变默认行为。\nforward|当动画完成后，保持最后一个属性值（在最后一个关键帧中定义）。\nbackwards|在 animation-delay 所指定的一段时间内，在动画显示之前，应用开始属性值（在第一个关键帧中定义）。\nboth|向前和向后填充模式都被应用。\n\n\n> 用到的知识点就是上面两个，下面开始写。\n\n# Queue-in List\n我要写的效果是一个列表，当列表显示时，其子项逐个出现，从右向左滑入，透明度也由浅变深。\n\n## 思路\n先写一个使 li 从左向右滑入的效果，然后再给需要稍晚滑入的 li 加上 `animation-delay` 就好了。\n\n## css\n```css\n/* 定义 li 样式 */\nli {\n  width: 200px;\n  height: 30px;\n  background-color: #ccc;\n  margin-top: 2px;\n  opacity: 0; /* 默认是隐藏的 */\n}\n\n/* 定义动画 */\n@keyframes queue-in {\n  from {\n    /* 开始时 在左边 */\n    transform: translateX(40px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* 调用动画 */\n.list-queue-in > li {\n  animation-name: queue-in;\n  animation-duration: .3s;\n  /* 这一行就表示动画结束时元素的状态就是动画的最后一帧 */\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-in;\n}\n```\n\n\n## html\n这是 进入状态时的 html\n\n```html\n<ul class=\"list-queue-in\">\n  <li class=\"list-ad-0\" key=\"0\">1</li>\n  <li class=\"list-ad-1\" key=\"1\">2</li>\n  <li class=\"list-ad-2\" key=\"2\">3</li>\n  <li class=\"list-ad-3\" key=\"2\">4</li>\n  <li class=\"list-ad-4\" key=\"2\">5</li>\n</ul>\n```\n> 这样的话，li 已经可以从右向左滑入了，但是，是在一起滑入的，我需要他们分开~\n\n## animation-delay\n\n`list-ad-0` 这个东西就是提前定义好的 `animation-delay`，比如：\n\n```css\n.list-ad-0 {\n  -webkit-animation-delay: 0s;\n          animation-delay: 0s;\n}\n\n.list-ad-1 {\n  -webkit-animation-delay: 0.1s;\n          animation-delay: 0.1s;\n}\n```\n然后，他们就可以一个接一个的滑了~\n\n## 最后\n所有的代码都在这里，就是这样的效果：\n<p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"zqYgxb\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/zqYgxb/\">zqYgxb</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n","source":"_posts/css-animation-queue-list.md","raw":"title: Queue Anim 列表\ntags:\n  - css\n  - animation\ncategories:\n  - CSS\ndate: 2016-03-3 17:45:24\n---\n\n\n# @keyframes\n基本写法是一个开始状态和一个结束状态：\n```css\n@keyframes demo-anim {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n```\n\n<p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"QNbBOy\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/QNbBOy/\">QNbBOy</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n> 其中 `animation-iteration-count: number or infinite;` 可以设置循环次数，infinite为无限次\n\n还可以定义的很详细：\n```css\n@keyframes demo-anim {\n  from {\n    transform: translate(0, 0);\n  }\n  20% {\n    transform: translate(20, 20);\n  }\n  40% {\n    transform: translate(40, 0);\n  }\n  60% {\n    transform: translate(60, 20);\n  }\n  80% {\n    transform: translate(80, 0);\n  }\n  to {\n    transform: translate(100, 20);\n  }\n}\n\n```\n\n# animation-fill-mode\n> animation-fill-mode : none | forwards | backwards | both;\n\n\n值|描述\n-|-\nnone|不改变默认行为。\nforward|当动画完成后，保持最后一个属性值（在最后一个关键帧中定义）。\nbackwards|在 animation-delay 所指定的一段时间内，在动画显示之前，应用开始属性值（在第一个关键帧中定义）。\nboth|向前和向后填充模式都被应用。\n\n\n> 用到的知识点就是上面两个，下面开始写。\n\n# Queue-in List\n我要写的效果是一个列表，当列表显示时，其子项逐个出现，从右向左滑入，透明度也由浅变深。\n\n## 思路\n先写一个使 li 从左向右滑入的效果，然后再给需要稍晚滑入的 li 加上 `animation-delay` 就好了。\n\n## css\n```css\n/* 定义 li 样式 */\nli {\n  width: 200px;\n  height: 30px;\n  background-color: #ccc;\n  margin-top: 2px;\n  opacity: 0; /* 默认是隐藏的 */\n}\n\n/* 定义动画 */\n@keyframes queue-in {\n  from {\n    /* 开始时 在左边 */\n    transform: translateX(40px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* 调用动画 */\n.list-queue-in > li {\n  animation-name: queue-in;\n  animation-duration: .3s;\n  /* 这一行就表示动画结束时元素的状态就是动画的最后一帧 */\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-in;\n}\n```\n\n\n## html\n这是 进入状态时的 html\n\n```html\n<ul class=\"list-queue-in\">\n  <li class=\"list-ad-0\" key=\"0\">1</li>\n  <li class=\"list-ad-1\" key=\"1\">2</li>\n  <li class=\"list-ad-2\" key=\"2\">3</li>\n  <li class=\"list-ad-3\" key=\"2\">4</li>\n  <li class=\"list-ad-4\" key=\"2\">5</li>\n</ul>\n```\n> 这样的话，li 已经可以从右向左滑入了，但是，是在一起滑入的，我需要他们分开~\n\n## animation-delay\n\n`list-ad-0` 这个东西就是提前定义好的 `animation-delay`，比如：\n\n```css\n.list-ad-0 {\n  -webkit-animation-delay: 0s;\n          animation-delay: 0s;\n}\n\n.list-ad-1 {\n  -webkit-animation-delay: 0.1s;\n          animation-delay: 0.1s;\n}\n```\n然后，他们就可以一个接一个的滑了~\n\n## 最后\n所有的代码都在这里，就是这样的效果：\n<p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"zqYgxb\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/zqYgxb/\">zqYgxb</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n","slug":"css-animation-queue-list","published":1,"updated":"2016-11-22T01:40:09.735Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bq4000w8gnynyu057ma","content":"<h1 id=\"keyframes\"><a href=\"#keyframes\" class=\"headerlink\" title=\"@keyframes\"></a>@keyframes</h1><p>基本写法是一个开始状态和一个结束状态：<br></p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"keyword\">keyframes</span> demo-anim &#123;</span>\n<span class=\"line\">  <span class=\"selector-tag\">from</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  <span class=\"selector-tag\">to</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p></p><p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"QNbBOy\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/QNbBOy/\" target=\"_blank\" rel=\"external\">QNbBOy</a> by Oliver (<a href=\"http://codepen.io/ochukai\" target=\"_blank\" rel=\"external\">@ochukai</a>) on <a href=\"http://codepen.io\" target=\"_blank\" rel=\"external\">CodePen</a>.</p><p></p><script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script><blockquote><p>其中 <code>animation-iteration-count: number or infinite;</code> 可以设置循环次数，infinite为无限次</p></blockquote><p>还可以定义的很详细：<br></p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"keyword\">keyframes</span> demo-anim &#123;</span>\n<span class=\"line\">  <span class=\"selector-tag\">from</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(0, 0);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  20% &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(20, 20);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  40% &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(40, 0);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  60% &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(60, 20);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  80% &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(80, 0);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  <span class=\"selector-tag\">to</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(100, 20);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><h1 id=\"animation-fill-mode\"><a href=\"#animation-fill-mode\" class=\"headerlink\" title=\"animation-fill-mode\"></a>animation-fill-mode</h1><blockquote><p>animation-fill-mode : none | forwards | backwards | both;</p></blockquote><table><thead><tr><th>值</th><th>描述</th></tr></thead><tbody><tr><td>none</td><td>不改变默认行为。</td></tr><tr><td>forward</td><td>当动画完成后，保持最后一个属性值（在最后一个关键帧中定义）。</td></tr><tr><td>backwards</td><td>在 animation-delay 所指定的一段时间内，在动画显示之前，应用开始属性值（在第一个关键帧中定义）。</td></tr><tr><td>both</td><td>向前和向后填充模式都被应用。</td></tr></tbody></table><blockquote><p>用到的知识点就是上面两个，下面开始写。</p></blockquote><h1 id=\"Queue-in-List\"><a href=\"#Queue-in-List\" class=\"headerlink\" title=\"Queue-in List\"></a>Queue-in List</h1><p>我要写的效果是一个列表，当列表显示时，其子项逐个出现，从右向左滑入，透明度也由浅变深。</p><h2 id=\"思路\"><a href=\"#思路\" class=\"headerlink\" title=\"思路\"></a>思路</h2><p>先写一个使 li 从左向右滑入的效果，然后再给需要稍晚滑入的 li 加上 <code>animation-delay</code> 就好了。</p><h2 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h2><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 定义 li 样式 */</span></span>\n<span class=\"line\"><span class=\"selector-tag\">li</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span>\n<span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">30px</span>;</span>\n<span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#ccc</span>;</span>\n<span class=\"line\">  <span class=\"attribute\">margin-top</span>: <span class=\"number\">2px</span>;</span>\n<span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 默认是隐藏的 */</span></span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">/* 定义动画 */</span></span>\n<span class=\"line\">@<span class=\"keyword\">keyframes</span> queue-in &#123;</span>\n<span class=\"line\">  <span class=\"selector-tag\">from</span> &#123;</span>\n<span class=\"line\">    <span class=\"comment\">/* 开始时 在左边 */</span></span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateX</span>(40px);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"selector-tag\">to</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateX</span>(0);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">/* 调用动画 */</span></span>\n<span class=\"line\"><span class=\"selector-class\">.list-queue-in</span> &gt; <span class=\"selector-tag\">li</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">animation-name</span>: queue-in;</span>\n<span class=\"line\">  <span class=\"attribute\">animation-duration</span>: .<span class=\"number\">3s</span>;</span>\n<span class=\"line\">  <span class=\"comment\">/* 这一行就表示动画结束时元素的状态就是动画的最后一帧 */</span></span>\n<span class=\"line\">  <span class=\"attribute\">animation-fill-mode</span>: forwards;</span>\n<span class=\"line\">  <span class=\"attribute\">animation-timing-function</span>: ease-in;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><h2 id=\"html\"><a href=\"#html\" class=\"headerlink\" title=\"html\"></a>html</h2><p>这是 进入状态时的 html</p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-queue-in\"</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-ad-0\"</span> <span class=\"attr\">key</span>=<span class=\"string\">\"0\"</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-ad-1\"</span> <span class=\"attr\">key</span>=<span class=\"string\">\"1\"</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-ad-2\"</span> <span class=\"attr\">key</span>=<span class=\"string\">\"2\"</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-ad-3\"</span> <span class=\"attr\">key</span>=<span class=\"string\">\"2\"</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-ad-4\"</span> <span class=\"attr\">key</span>=<span class=\"string\">\"2\"</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span>\n</pre></td></tr></table></figure><blockquote><p>这样的话，li 已经可以从右向左滑入了，但是，是在一起滑入的，我需要他们分开~</p></blockquote><h2 id=\"animation-delay\"><a href=\"#animation-delay\" class=\"headerlink\" title=\"animation-delay\"></a>animation-delay</h2><p><code>list-ad-0</code> 这个东西就是提前定义好的 <code>animation-delay</code>，比如：</p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.list-ad-0</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">-webkit-animation-delay</span>: <span class=\"number\">0s</span>;</span>\n<span class=\"line\">          <span class=\"attribute\">animation-delay</span>: <span class=\"number\">0s</span>;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"selector-class\">.list-ad-1</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">-webkit-animation-delay</span>: <span class=\"number\">0.1s</span>;</span>\n<span class=\"line\">          <span class=\"attribute\">animation-delay</span>: <span class=\"number\">0.1s</span>;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>然后，他们就可以一个接一个的滑了~</p><h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>所有的代码都在这里，就是这样的效果：</p><p></p><p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"zqYgxb\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/zqYgxb/\" target=\"_blank\" rel=\"external\">zqYgxb</a> by Oliver (<a href=\"http://codepen.io/ochukai\" target=\"_blank\" rel=\"external\">@ochukai</a>) on <a href=\"http://codepen.io\" target=\"_blank\" rel=\"external\">CodePen</a>.</p><p></p><script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>","excerpt":"","more":"<h1 id=\"keyframes\"><a href=\"#keyframes\" class=\"headerlink\" title=\"@keyframes\"></a>@keyframes</h1><p>基本写法是一个开始状态和一个结束状态：<br></p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"keyword\">keyframes</span> demo-anim &#123;</span>\n<span class=\"line\">  <span class=\"selector-tag\">from</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  <span class=\"selector-tag\">to</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p></p><p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"QNbBOy\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/QNbBOy/\">QNbBOy</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p><p></p><script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script><blockquote><p>其中 <code>animation-iteration-count: number or infinite;</code> 可以设置循环次数，infinite为无限次</p></blockquote><p>还可以定义的很详细：<br></p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"keyword\">keyframes</span> demo-anim &#123;</span>\n<span class=\"line\">  <span class=\"selector-tag\">from</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(0, 0);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  20% &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(20, 20);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  40% &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(40, 0);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  60% &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(60, 20);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  80% &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(80, 0);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  <span class=\"selector-tag\">to</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(100, 20);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><h1 id=\"animation-fill-mode\"><a href=\"#animation-fill-mode\" class=\"headerlink\" title=\"animation-fill-mode\"></a>animation-fill-mode</h1><blockquote><p>animation-fill-mode : none | forwards | backwards | both;</p></blockquote><table><thead><tr><th>值</th><th>描述</th></tr></thead><tbody><tr><td>none</td><td>不改变默认行为。</td></tr><tr><td>forward</td><td>当动画完成后，保持最后一个属性值（在最后一个关键帧中定义）。</td></tr><tr><td>backwards</td><td>在 animation-delay 所指定的一段时间内，在动画显示之前，应用开始属性值（在第一个关键帧中定义）。</td></tr><tr><td>both</td><td>向前和向后填充模式都被应用。</td></tr></tbody></table><blockquote><p>用到的知识点就是上面两个，下面开始写。</p></blockquote><h1 id=\"Queue-in-List\"><a href=\"#Queue-in-List\" class=\"headerlink\" title=\"Queue-in List\"></a>Queue-in List</h1><p>我要写的效果是一个列表，当列表显示时，其子项逐个出现，从右向左滑入，透明度也由浅变深。</p><h2 id=\"思路\"><a href=\"#思路\" class=\"headerlink\" title=\"思路\"></a>思路</h2><p>先写一个使 li 从左向右滑入的效果，然后再给需要稍晚滑入的 li 加上 <code>animation-delay</code> 就好了。</p><h2 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h2><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 定义 li 样式 */</span></span>\n<span class=\"line\"><span class=\"selector-tag\">li</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span>\n<span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">30px</span>;</span>\n<span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#ccc</span>;</span>\n<span class=\"line\">  <span class=\"attribute\">margin-top</span>: <span class=\"number\">2px</span>;</span>\n<span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 默认是隐藏的 */</span></span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">/* 定义动画 */</span></span>\n<span class=\"line\">@<span class=\"keyword\">keyframes</span> queue-in &#123;</span>\n<span class=\"line\">  <span class=\"selector-tag\">from</span> &#123;</span>\n<span class=\"line\">    <span class=\"comment\">/* 开始时 在左边 */</span></span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateX</span>(40px);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"selector-tag\">to</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span>\n<span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateX</span>(0);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">/* 调用动画 */</span></span>\n<span class=\"line\"><span class=\"selector-class\">.list-queue-in</span> &gt; <span class=\"selector-tag\">li</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">animation-name</span>: queue-in;</span>\n<span class=\"line\">  <span class=\"attribute\">animation-duration</span>: .<span class=\"number\">3s</span>;</span>\n<span class=\"line\">  <span class=\"comment\">/* 这一行就表示动画结束时元素的状态就是动画的最后一帧 */</span></span>\n<span class=\"line\">  <span class=\"attribute\">animation-fill-mode</span>: forwards;</span>\n<span class=\"line\">  <span class=\"attribute\">animation-timing-function</span>: ease-in;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><h2 id=\"html\"><a href=\"#html\" class=\"headerlink\" title=\"html\"></a>html</h2><p>这是 进入状态时的 html</p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-queue-in\"</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-ad-0\"</span> <span class=\"attr\">key</span>=<span class=\"string\">\"0\"</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-ad-1\"</span> <span class=\"attr\">key</span>=<span class=\"string\">\"1\"</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-ad-2\"</span> <span class=\"attr\">key</span>=<span class=\"string\">\"2\"</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-ad-3\"</span> <span class=\"attr\">key</span>=<span class=\"string\">\"2\"</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-ad-4\"</span> <span class=\"attr\">key</span>=<span class=\"string\">\"2\"</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span>\n</pre></td></tr></table></figure><blockquote><p>这样的话，li 已经可以从右向左滑入了，但是，是在一起滑入的，我需要他们分开~</p></blockquote><h2 id=\"animation-delay\"><a href=\"#animation-delay\" class=\"headerlink\" title=\"animation-delay\"></a>animation-delay</h2><p><code>list-ad-0</code> 这个东西就是提前定义好的 <code>animation-delay</code>，比如：</p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.list-ad-0</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">-webkit-animation-delay</span>: <span class=\"number\">0s</span>;</span>\n<span class=\"line\">          <span class=\"attribute\">animation-delay</span>: <span class=\"number\">0s</span>;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"selector-class\">.list-ad-1</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">-webkit-animation-delay</span>: <span class=\"number\">0.1s</span>;</span>\n<span class=\"line\">          <span class=\"attribute\">animation-delay</span>: <span class=\"number\">0.1s</span>;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>然后，他们就可以一个接一个的滑了~</p><h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>所有的代码都在这里，就是这样的效果：</p><p></p><p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"zqYgxb\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/zqYgxb/\">zqYgxb</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p><p></p><script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>"},{"title":"JavaScript 中的 Decorator","date":"2016-12-21T01:33:38.000Z","_content":"\n昨天在看一个拖拽库的时候，遇到了这么一段代码，感觉很有意思：\n```jsx\n@sortable\nclass DemoHOCItem extends React.Component {\n\n  render() {\n    return (\n      <div { ...this.props }>\n        { this.props.children }\n      </div>\n    );\n  }\n  \n}\n```\n\n查了一下之后发现这是 es7 的新语法，叫 [Decorator](https://github.com/wycats/javascript-decorators)。\n\n## 语法\n\n如果要定义一个 Decorator 的话，不难，其实每一个 decorator 就是一个 function，有三个参数，像这样\n\n```js\nlet log = (target, name, descriptor) => {\n  console.log(target, name, descriptor);\n\n  const method = descriptor.value;\n  descriptor.value = (...args) => {\n    logger.info(`before function execute: ${name}(${args}) = ?`);\n    return method.apply(target, args);\n  }\n}\n```\n\n三个参数还是比较好理解的\n\n然后要用这个 decorator 的时候\n\n```js\nclass Example {\n\n  @log\n  add(a, b) {\n    return a + b;\n  }\n   \n}\n\nlet my = new Example();\nmy.add(2, 3);\n```\n\n这好像跟 Java 的 Annotation 形式差不多。 但是功能却跟 Python 的 Decorator 一样。\n\n下面是运行时的输出\n\n![正常](../images/decorator-1.png)\n\n所以呢，decorator 的三个参数分别是\n1. target 目标方法所在的类\n2. name 方法名\n3. descriptor 该方法的一些描述， 其中 `value` 就是方法本身，这一点在上一个例子中已经看到了。\n\n## 用在 class 上面\n\n因为我最开始见到 decorator 是看到\n\n```jsx\n@sortable\nclass DemoHOCItem extends React.Component {/*...*/}\n```\n\n这时， decorator 是用在 class 上面的，当 decorator 用在 class 上面的时候只有第一个参数有值，比如\n\n```js\n@log\nclass Example {\n  add(a, b) { return a + b; }\n}\n```\n只会输出\n\n```shell\n# 也就是 name, descriptor 都是 undefined\n2016-12-21 10:28:26.617 function Example() {\n        _classCallCheck(this, Example);\n    } undefined undefined\n```","source":"_posts/decorator-in-js.md","raw":"title: JavaScript 中的 Decorator\ntags:\n  - decorator\ncategories:\n  - JavaScript\ndate: 2016-12-21 09:33:38\n---\n\n昨天在看一个拖拽库的时候，遇到了这么一段代码，感觉很有意思：\n```jsx\n@sortable\nclass DemoHOCItem extends React.Component {\n\n  render() {\n    return (\n      <div { ...this.props }>\n        { this.props.children }\n      </div>\n    );\n  }\n  \n}\n```\n\n查了一下之后发现这是 es7 的新语法，叫 [Decorator](https://github.com/wycats/javascript-decorators)。\n\n## 语法\n\n如果要定义一个 Decorator 的话，不难，其实每一个 decorator 就是一个 function，有三个参数，像这样\n\n```js\nlet log = (target, name, descriptor) => {\n  console.log(target, name, descriptor);\n\n  const method = descriptor.value;\n  descriptor.value = (...args) => {\n    logger.info(`before function execute: ${name}(${args}) = ?`);\n    return method.apply(target, args);\n  }\n}\n```\n\n三个参数还是比较好理解的\n\n然后要用这个 decorator 的时候\n\n```js\nclass Example {\n\n  @log\n  add(a, b) {\n    return a + b;\n  }\n   \n}\n\nlet my = new Example();\nmy.add(2, 3);\n```\n\n这好像跟 Java 的 Annotation 形式差不多。 但是功能却跟 Python 的 Decorator 一样。\n\n下面是运行时的输出\n\n![正常](../images/decorator-1.png)\n\n所以呢，decorator 的三个参数分别是\n1. target 目标方法所在的类\n2. name 方法名\n3. descriptor 该方法的一些描述， 其中 `value` 就是方法本身，这一点在上一个例子中已经看到了。\n\n## 用在 class 上面\n\n因为我最开始见到 decorator 是看到\n\n```jsx\n@sortable\nclass DemoHOCItem extends React.Component {/*...*/}\n```\n\n这时， decorator 是用在 class 上面的，当 decorator 用在 class 上面的时候只有第一个参数有值，比如\n\n```js\n@log\nclass Example {\n  add(a, b) { return a + b; }\n}\n```\n只会输出\n\n```shell\n# 也就是 name, descriptor 都是 undefined\n2016-12-21 10:28:26.617 function Example() {\n        _classCallCheck(this, Example);\n    } undefined undefined\n```","slug":"decorator-in-js","published":1,"updated":"2017-01-24T06:24:27.531Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bq6000x8gnyi12ugxli","content":"<p>昨天在看一个拖拽库的时候，遇到了这么一段代码，感觉很有意思：<br></p><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@sortable</span>\n<span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DemoHOCItem</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> (</span>\n<span class=\"line\">      <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> &#123; <span class=\"attr\">...this.props</span> &#125;&gt;</span></span>\n<span class=\"line\">        &#123; this.props.children &#125;</span>\n<span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span>\n<span class=\"line\">    );</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  </span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p>查了一下之后发现这是 es7 的新语法，叫 <a href=\"https://github.com/wycats/javascript-decorators\" target=\"_blank\" rel=\"external\">Decorator</a>。</p><h2 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h2><p>如果要定义一个 Decorator 的话，不难，其实每一个 decorator 就是一个 function，有三个参数，像这样</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> log = <span class=\"function\">(<span class=\"params\">target, name, descriptor</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">  <span class=\"built_in\">console</span>.log(target, name, descriptor);</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">const</span> method = descriptor.value;</span>\n<span class=\"line\">  descriptor.value = <span class=\"function\">(<span class=\"params\">...args</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    logger.info(<span class=\"string\">`before function execute: <span class=\"subst\">$&#123;name&#125;</span>(<span class=\"subst\">$&#123;args&#125;</span>) = ?`</span>);</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> method.apply(target, args);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>三个参数还是比较好理解的</p><p>然后要用这个 decorator 的时候</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span> </span>&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  @log</span>\n<span class=\"line\">  add(a, b) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> a + b;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">   </span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">let</span> my = <span class=\"keyword\">new</span> Example();</span>\n<span class=\"line\">my.add(<span class=\"number\">2</span>, <span class=\"number\">3</span>);</span>\n</pre></td></tr></table></figure><p>这好像跟 Java 的 Annotation 形式差不多。 但是功能却跟 Python 的 Decorator 一样。</p><p>下面是运行时的输出</p><p><img src=\"../images/decorator-1.png\" alt=\"正常\"></p><p>所以呢，decorator 的三个参数分别是</p><ol><li>target 目标方法所在的类</li><li>name 方法名</li><li>descriptor 该方法的一些描述， 其中 <code>value</code> 就是方法本身，这一点在上一个例子中已经看到了。</li></ol><h2 id=\"用在-class-上面\"><a href=\"#用在-class-上面\" class=\"headerlink\" title=\"用在 class 上面\"></a>用在 class 上面</h2><p>因为我最开始见到 decorator 是看到</p><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@sortable</span>\n<span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DemoHOCItem</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;<span class=\"comment\">/*...*/</span>&#125;</span>\n</pre></td></tr></table></figure><p>这时， decorator 是用在 class 上面的，当 decorator 用在 class 上面的时候只有第一个参数有值，比如</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@log</span>\n<span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span> </span>&#123;</span>\n<span class=\"line\">  add(a, b) &#123; <span class=\"keyword\">return</span> a + b; &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>只会输出</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"># 也就是 name, descriptor 都是 undefined</span>\n<span class=\"line\">2016-12-21 10:28:26.617 function Example() &#123;</span>\n<span class=\"line\">        _classCallCheck(this, Example);</span>\n<span class=\"line\">    &#125; undefined undefined</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<p>昨天在看一个拖拽库的时候，遇到了这么一段代码，感觉很有意思：<br></p><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@sortable</span>\n<span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DemoHOCItem</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> (</span>\n<span class=\"line\">      <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> &#123; <span class=\"attr\">...this.props</span> &#125;&gt;</span></span>\n<span class=\"line\">        &#123; this.props.children &#125;</span>\n<span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span>\n<span class=\"line\">    );</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">  </span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p>查了一下之后发现这是 es7 的新语法，叫 <a href=\"https://github.com/wycats/javascript-decorators\">Decorator</a>。</p><h2 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h2><p>如果要定义一个 Decorator 的话，不难，其实每一个 decorator 就是一个 function，有三个参数，像这样</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> log = <span class=\"function\">(<span class=\"params\">target, name, descriptor</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">  <span class=\"built_in\">console</span>.log(target, name, descriptor);</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">const</span> method = descriptor.value;</span>\n<span class=\"line\">  descriptor.value = <span class=\"function\">(<span class=\"params\">...args</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    logger.info(<span class=\"string\">`before function execute: <span class=\"subst\">$&#123;name&#125;</span>(<span class=\"subst\">$&#123;args&#125;</span>) = ?`</span>);</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> method.apply(target, args);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>三个参数还是比较好理解的</p><p>然后要用这个 decorator 的时候</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span> </span>&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  @log</span>\n<span class=\"line\">  add(a, b) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> a + b;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">   </span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">let</span> my = <span class=\"keyword\">new</span> Example();</span>\n<span class=\"line\">my.add(<span class=\"number\">2</span>, <span class=\"number\">3</span>);</span>\n</pre></td></tr></table></figure><p>这好像跟 Java 的 Annotation 形式差不多。 但是功能却跟 Python 的 Decorator 一样。</p><p>下面是运行时的输出</p><p><img src=\"../images/decorator-1.png\" alt=\"正常\"></p><p>所以呢，decorator 的三个参数分别是</p><ol><li>target 目标方法所在的类</li><li>name 方法名</li><li>descriptor 该方法的一些描述， 其中 <code>value</code> 就是方法本身，这一点在上一个例子中已经看到了。</li></ol><h2 id=\"用在-class-上面\"><a href=\"#用在-class-上面\" class=\"headerlink\" title=\"用在 class 上面\"></a>用在 class 上面</h2><p>因为我最开始见到 decorator 是看到</p><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@sortable</span>\n<span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DemoHOCItem</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;<span class=\"comment\">/*...*/</span>&#125;</span>\n</pre></td></tr></table></figure><p>这时， decorator 是用在 class 上面的，当 decorator 用在 class 上面的时候只有第一个参数有值，比如</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@log</span>\n<span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span> </span>&#123;</span>\n<span class=\"line\">  add(a, b) &#123; <span class=\"keyword\">return</span> a + b; &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>只会输出</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"># 也就是 name, descriptor 都是 undefined</span>\n<span class=\"line\">2016-12-21 10:28:26.617 function Example() &#123;</span>\n<span class=\"line\">        _classCallCheck(this, Example);</span>\n<span class=\"line\">    &#125; undefined undefined</span>\n</pre></td></tr></table></figure>"},{"title":"稍微总结一下 dva 😜","date":"2017-01-23T01:28:20.000Z","_content":"\n使用 dva 已经四个月了吧，陆陆续续做了两三个项目，之前在非常恶心的傻逼公司 Kyligence，算是我的 dva 的启蒙地，那一天傍晚，不小心看到了 ant-tool，然后又看到了 antd，于是感觉我的前端有了一次不小的改变~ 😇\n\n## 几个概念\n\n![](../images/dva-flow.png)\n\n上面是一张 dva 的图，`component，state，dispatch，connect` 都是与 redux 一样的概念，不过，dva 把 **action -> reducer** 拆分成了，**action -> model(reducer, effect,subscription)**，这一部分改变的还是很多的，让 dispatch 的写法方便了一万倍。\n\n## Model\n\n一个简单的 model 是这样的:\n\n```js\nexport default {\n  namespace: 'example', // 这里是命名空间  \n  state: {},\n  subscriptions: {},\n  \n  effects: {\n    * query({ payload }, { select, call, put }) {\n      //\n    }\n  },\n\n  reducers: {\n    querySuccess(state, { payload }) {\n      //\n    }\n  },\n}\n```\n\n### namespace\n\n可以简单的理解为 comboReducer 使用这个值作为 key，而且 namespace 最重要的地方是用在 dispatch（put）的时候\n\n```js\n// 假如 example 的 model 定义了 query 这个 effect 或者 reducer。\ndispatch({ type: 'example/query' })\n\n// 当前 model 中存在名为 querySuccess 的 reducer\n// 然后在 effect 中这样访问 reducer\nyield put({ type: 'querySuccess' }) \n\n// 在组件中当然可以直接 dispatch({ type: 'example/someReducer' })\n```\n\n### state \n\n就是一个对象\n\n### subscriptions \n\n顾名思义可以订阅一些事件，待续😆\n\n### effects \n\n异步操作，这里使用了 [redux-sagas](https://github.com/redux-saga/redux-saga)，先举个例子吧，其实就是异步的action， 但是是使用 sagas 实现的，很好（niu）看（bi）。\n\n```js\n  // ...\n  * update({ payload }, { call, put }) {\n    yield put({ type: 'showModalLoading' });\n\n    const { data } = yield call(saveTenants, payload);\n    if (data.status === 'success') {\n      yield put({ type: 'hideModal' });\n      yield put({ type: 'query' }); // 刷新一下列表\n    } else {\n      yield put({ type: 'hideModalLoading' });\n    }\n  },\n  // ...\n```\n\n（感觉丝毫不需要我用文字描述，顺着读完就知道是什么意思了，还是特么异步的）\n\n> select, put, call 这些概念是 sagas 里面的\n\n### reducer \n\n修改 state 的地方\n\n## dva\n\ndva 会对 dispatch 做一些处理，比如他要把 **example/query** 分成 example 下面的 query （effect/reducer）。\n\n所以肯定要注册这个 model，才能让 dva 知道 example 的存在，\n\n```js\nimport dva from 'dva';\nconst app = dva();\n\napp.model(require('./models/example'));\n```\n\n其实 dva 出了 model 这个方法，还有其他的几个\n\n```js\n// 1. Init\nimport dva from 'dva';\nconst app = dva();\n\n// 2. Plugins\napp.use({\n/**\n* called when an effect or subscription emit an error.\n*\n* @param  {string} err       Exception\n* @param  {function} action  the effect or subscription\n*/\n// onError : (err, action) => {}\n});\n\n// 3. Model\napp.model(require('./models/example'));\n\n// 4. Router\napp.router(require('./router'));\n\n// 5. Start\napp.start('#root');\n\n```\n\n## [dev-cli](https://github.com/dvajs/dva-cli)\n\n比较好用的东西，解决了新建 router，component，model 还要添加 dva 的配置的问题，生成 router， component 的同时会直接在 dva 配置中更新。\n\n例子：\n\n```js\n$ dva g route product-list\n$ dva g model products\n$ dva g component Editor\n$ dva g component Users/UserModal\n$ dva g component Header --no-css\n```","source":"_posts/dva-in-action.md","raw":"title: 稍微总结一下 dva 😜\ntags:\n  - dva\n  - react\n  - js\ncategories:\n  - React\n  - JavaScript\ndate: 2017-01-23 09:28:20\n---\n\n使用 dva 已经四个月了吧，陆陆续续做了两三个项目，之前在非常恶心的傻逼公司 Kyligence，算是我的 dva 的启蒙地，那一天傍晚，不小心看到了 ant-tool，然后又看到了 antd，于是感觉我的前端有了一次不小的改变~ 😇\n\n## 几个概念\n\n![](../images/dva-flow.png)\n\n上面是一张 dva 的图，`component，state，dispatch，connect` 都是与 redux 一样的概念，不过，dva 把 **action -> reducer** 拆分成了，**action -> model(reducer, effect,subscription)**，这一部分改变的还是很多的，让 dispatch 的写法方便了一万倍。\n\n## Model\n\n一个简单的 model 是这样的:\n\n```js\nexport default {\n  namespace: 'example', // 这里是命名空间  \n  state: {},\n  subscriptions: {},\n  \n  effects: {\n    * query({ payload }, { select, call, put }) {\n      //\n    }\n  },\n\n  reducers: {\n    querySuccess(state, { payload }) {\n      //\n    }\n  },\n}\n```\n\n### namespace\n\n可以简单的理解为 comboReducer 使用这个值作为 key，而且 namespace 最重要的地方是用在 dispatch（put）的时候\n\n```js\n// 假如 example 的 model 定义了 query 这个 effect 或者 reducer。\ndispatch({ type: 'example/query' })\n\n// 当前 model 中存在名为 querySuccess 的 reducer\n// 然后在 effect 中这样访问 reducer\nyield put({ type: 'querySuccess' }) \n\n// 在组件中当然可以直接 dispatch({ type: 'example/someReducer' })\n```\n\n### state \n\n就是一个对象\n\n### subscriptions \n\n顾名思义可以订阅一些事件，待续😆\n\n### effects \n\n异步操作，这里使用了 [redux-sagas](https://github.com/redux-saga/redux-saga)，先举个例子吧，其实就是异步的action， 但是是使用 sagas 实现的，很好（niu）看（bi）。\n\n```js\n  // ...\n  * update({ payload }, { call, put }) {\n    yield put({ type: 'showModalLoading' });\n\n    const { data } = yield call(saveTenants, payload);\n    if (data.status === 'success') {\n      yield put({ type: 'hideModal' });\n      yield put({ type: 'query' }); // 刷新一下列表\n    } else {\n      yield put({ type: 'hideModalLoading' });\n    }\n  },\n  // ...\n```\n\n（感觉丝毫不需要我用文字描述，顺着读完就知道是什么意思了，还是特么异步的）\n\n> select, put, call 这些概念是 sagas 里面的\n\n### reducer \n\n修改 state 的地方\n\n## dva\n\ndva 会对 dispatch 做一些处理，比如他要把 **example/query** 分成 example 下面的 query （effect/reducer）。\n\n所以肯定要注册这个 model，才能让 dva 知道 example 的存在，\n\n```js\nimport dva from 'dva';\nconst app = dva();\n\napp.model(require('./models/example'));\n```\n\n其实 dva 出了 model 这个方法，还有其他的几个\n\n```js\n// 1. Init\nimport dva from 'dva';\nconst app = dva();\n\n// 2. Plugins\napp.use({\n/**\n* called when an effect or subscription emit an error.\n*\n* @param  {string} err       Exception\n* @param  {function} action  the effect or subscription\n*/\n// onError : (err, action) => {}\n});\n\n// 3. Model\napp.model(require('./models/example'));\n\n// 4. Router\napp.router(require('./router'));\n\n// 5. Start\napp.start('#root');\n\n```\n\n## [dev-cli](https://github.com/dvajs/dva-cli)\n\n比较好用的东西，解决了新建 router，component，model 还要添加 dva 的配置的问题，生成 router， component 的同时会直接在 dva 配置中更新。\n\n例子：\n\n```js\n$ dva g route product-list\n$ dva g model products\n$ dva g component Editor\n$ dva g component Users/UserModal\n$ dva g component Header --no-css\n```","slug":"dva-in-action","published":1,"updated":"2017-01-24T06:18:01.627Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqa00108gnyfl4zajdo","content":"<p>使用 dva 已经四个月了吧，陆陆续续做了两三个项目，之前在非常恶心的傻逼公司 Kyligence，算是我的 dva 的启蒙地，那一天傍晚，不小心看到了 ant-tool，然后又看到了 antd，于是感觉我的前端有了一次不小的改变~ 😇</p><h2 id=\"几个概念\"><a href=\"#几个概念\" class=\"headerlink\" title=\"几个概念\"></a>几个概念</h2><p><img src=\"../images/dva-flow.png\" alt=\"\"></p><p>上面是一张 dva 的图，<code>component，state，dispatch，connect</code> 都是与 redux 一样的概念，不过，dva 把 <strong>action -&gt; reducer</strong> 拆分成了，<strong>action -&gt; model(reducer, effect,subscription)</strong>，这一部分改变的还是很多的，让 dispatch 的写法方便了一万倍。</p><h2 id=\"Model\"><a href=\"#Model\" class=\"headerlink\" title=\"Model\"></a>Model</h2><p>一个简单的 model 是这样的:</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span>\n<span class=\"line\">  <span class=\"attr\">namespace</span>: <span class=\"string\">'example'</span>, <span class=\"comment\">// 这里是命名空间  </span></span>\n<span class=\"line\">  state: &#123;&#125;,</span>\n<span class=\"line\">  <span class=\"attr\">subscriptions</span>: &#123;&#125;,</span>\n<span class=\"line\">  </span>\n<span class=\"line\">  <span class=\"attr\">effects</span>: &#123;</span>\n<span class=\"line\">    * query(&#123; payload &#125;, &#123; select, call, put &#125;) &#123;</span>\n<span class=\"line\">      <span class=\"comment\">//</span></span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"attr\">reducers</span>: &#123;</span>\n<span class=\"line\">    querySuccess(state, &#123; payload &#125;) &#123;</span>\n<span class=\"line\">      <span class=\"comment\">//</span></span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><h3 id=\"namespace\"><a href=\"#namespace\" class=\"headerlink\" title=\"namespace\"></a>namespace</h3><p>可以简单的理解为 comboReducer 使用这个值作为 key，而且 namespace 最重要的地方是用在 dispatch（put）的时候</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 假如 example 的 model 定义了 query 这个 effect 或者 reducer。</span></span>\n<span class=\"line\">dispatch(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'example/query'</span> &#125;)</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 当前 model 中存在名为 querySuccess 的 reducer</span></span>\n<span class=\"line\"><span class=\"comment\">// 然后在 effect 中这样访问 reducer</span></span>\n<span class=\"line\"><span class=\"keyword\">yield</span> put(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'querySuccess'</span> &#125;) </span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 在组件中当然可以直接 dispatch(&#123; type: 'example/someReducer' &#125;)</span></span>\n</pre></td></tr></table></figure><h3 id=\"state\"><a href=\"#state\" class=\"headerlink\" title=\"state\"></a>state</h3><p>就是一个对象</p><h3 id=\"subscriptions\"><a href=\"#subscriptions\" class=\"headerlink\" title=\"subscriptions\"></a>subscriptions</h3><p>顾名思义可以订阅一些事件，待续😆</p><h3 id=\"effects\"><a href=\"#effects\" class=\"headerlink\" title=\"effects\"></a>effects</h3><p>异步操作，这里使用了 <a href=\"https://github.com/redux-saga/redux-saga\" target=\"_blank\" rel=\"external\">redux-sagas</a>，先举个例子吧，其实就是异步的action， 但是是使用 sagas 实现的，很好（niu）看（bi）。</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ...</span></span>\n<span class=\"line\">* update(&#123; payload &#125;, &#123; call, put &#125;) &#123;</span>\n<span class=\"line\">  <span class=\"keyword\">yield</span> put(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'showModalLoading'</span> &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">const</span> &#123; data &#125; = <span class=\"keyword\">yield</span> call(saveTenants, payload);</span>\n<span class=\"line\">  <span class=\"keyword\">if</span> (data.status === <span class=\"string\">'success'</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">yield</span> put(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'hideModal'</span> &#125;);</span>\n<span class=\"line\">    <span class=\"keyword\">yield</span> put(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'query'</span> &#125;); <span class=\"comment\">// 刷新一下列表</span></span>\n<span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">yield</span> put(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'hideModalLoading'</span> &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;,</span>\n<span class=\"line\"><span class=\"comment\">// ...</span></span>\n</pre></td></tr></table></figure><p>（感觉丝毫不需要我用文字描述，顺着读完就知道是什么意思了，还是特么异步的）</p><blockquote><p>select, put, call 这些概念是 sagas 里面的</p></blockquote><h3 id=\"reducer\"><a href=\"#reducer\" class=\"headerlink\" title=\"reducer\"></a>reducer</h3><p>修改 state 的地方</p><h2 id=\"dva\"><a href=\"#dva\" class=\"headerlink\" title=\"dva\"></a>dva</h2><p>dva 会对 dispatch 做一些处理，比如他要把 <strong>example/query</strong> 分成 example 下面的 query （effect/reducer）。</p><p>所以肯定要注册这个 model，才能让 dva 知道 example 的存在，</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> dva <span class=\"keyword\">from</span> <span class=\"string\">'dva'</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> app = dva();</span>\n<span class=\"line\"></span>\n<span class=\"line\">app.model(<span class=\"built_in\">require</span>(<span class=\"string\">'./models/example'</span>));</span>\n</pre></td></tr></table></figure><p>其实 dva 出了 model 这个方法，还有其他的几个</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1. Init</span></span>\n<span class=\"line\"><span class=\"keyword\">import</span> dva <span class=\"keyword\">from</span> <span class=\"string\">'dva'</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> app = dva();</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 2. Plugins</span></span>\n<span class=\"line\">app.use(&#123;</span>\n<span class=\"line\"><span class=\"comment\">/**</span>\n<span class=\"line\">* called when an effect or subscription emit an error.</span>\n<span class=\"line\">*</span>\n<span class=\"line\">* @param  &#123;string&#125; err       Exception</span>\n<span class=\"line\">* @param  &#123;function&#125; action  the effect or subscription</span>\n<span class=\"line\">*/</span></span>\n<span class=\"line\"><span class=\"comment\">// onError : (err, action) =&gt; &#123;&#125;</span></span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 3. Model</span></span>\n<span class=\"line\">app.model(<span class=\"built_in\">require</span>(<span class=\"string\">'./models/example'</span>));</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 4. Router</span></span>\n<span class=\"line\">app.router(<span class=\"built_in\">require</span>(<span class=\"string\">'./router'</span>));</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 5. Start</span></span>\n<span class=\"line\">app.start(<span class=\"string\">'#root'</span>);</span>\n</pre></td></tr></table></figure><h2 id=\"dev-cli\"><a href=\"#dev-cli\" class=\"headerlink\" title=\"dev-cli\"></a><a href=\"https://github.com/dvajs/dva-cli\" target=\"_blank\" rel=\"external\">dev-cli</a></h2><p>比较好用的东西，解决了新建 router，component，model 还要添加 dva 的配置的问题，生成 router， component 的同时会直接在 dva 配置中更新。</p><p>例子：</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$ dva g route product-list</span>\n<span class=\"line\">$ dva g model products</span>\n<span class=\"line\">$ dva g component Editor</span>\n<span class=\"line\">$ dva g component Users/UserModal</span>\n<span class=\"line\">$ dva g component Header --no-css</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<p>使用 dva 已经四个月了吧，陆陆续续做了两三个项目，之前在非常恶心的傻逼公司 Kyligence，算是我的 dva 的启蒙地，那一天傍晚，不小心看到了 ant-tool，然后又看到了 antd，于是感觉我的前端有了一次不小的改变~ 😇</p><h2 id=\"几个概念\"><a href=\"#几个概念\" class=\"headerlink\" title=\"几个概念\"></a>几个概念</h2><p><img src=\"../images/dva-flow.png\" alt=\"\"></p><p>上面是一张 dva 的图，<code>component，state，dispatch，connect</code> 都是与 redux 一样的概念，不过，dva 把 <strong>action -&gt; reducer</strong> 拆分成了，<strong>action -&gt; model(reducer, effect,subscription)</strong>，这一部分改变的还是很多的，让 dispatch 的写法方便了一万倍。</p><h2 id=\"Model\"><a href=\"#Model\" class=\"headerlink\" title=\"Model\"></a>Model</h2><p>一个简单的 model 是这样的:</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span>\n<span class=\"line\">  <span class=\"attr\">namespace</span>: <span class=\"string\">'example'</span>, <span class=\"comment\">// 这里是命名空间  </span></span>\n<span class=\"line\">  state: &#123;&#125;,</span>\n<span class=\"line\">  <span class=\"attr\">subscriptions</span>: &#123;&#125;,</span>\n<span class=\"line\">  </span>\n<span class=\"line\">  <span class=\"attr\">effects</span>: &#123;</span>\n<span class=\"line\">    * query(&#123; payload &#125;, &#123; select, call, put &#125;) &#123;</span>\n<span class=\"line\">      <span class=\"comment\">//</span></span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"attr\">reducers</span>: &#123;</span>\n<span class=\"line\">    querySuccess(state, &#123; payload &#125;) &#123;</span>\n<span class=\"line\">      <span class=\"comment\">//</span></span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><h3 id=\"namespace\"><a href=\"#namespace\" class=\"headerlink\" title=\"namespace\"></a>namespace</h3><p>可以简单的理解为 comboReducer 使用这个值作为 key，而且 namespace 最重要的地方是用在 dispatch（put）的时候</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 假如 example 的 model 定义了 query 这个 effect 或者 reducer。</span></span>\n<span class=\"line\">dispatch(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'example/query'</span> &#125;)</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 当前 model 中存在名为 querySuccess 的 reducer</span></span>\n<span class=\"line\"><span class=\"comment\">// 然后在 effect 中这样访问 reducer</span></span>\n<span class=\"line\"><span class=\"keyword\">yield</span> put(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'querySuccess'</span> &#125;) </span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 在组件中当然可以直接 dispatch(&#123; type: 'example/someReducer' &#125;)</span></span>\n</pre></td></tr></table></figure><h3 id=\"state\"><a href=\"#state\" class=\"headerlink\" title=\"state\"></a>state</h3><p>就是一个对象</p><h3 id=\"subscriptions\"><a href=\"#subscriptions\" class=\"headerlink\" title=\"subscriptions\"></a>subscriptions</h3><p>顾名思义可以订阅一些事件，待续😆</p><h3 id=\"effects\"><a href=\"#effects\" class=\"headerlink\" title=\"effects\"></a>effects</h3><p>异步操作，这里使用了 <a href=\"https://github.com/redux-saga/redux-saga\">redux-sagas</a>，先举个例子吧，其实就是异步的action， 但是是使用 sagas 实现的，很好（niu）看（bi）。</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ...</span></span>\n<span class=\"line\">* update(&#123; payload &#125;, &#123; call, put &#125;) &#123;</span>\n<span class=\"line\">  <span class=\"keyword\">yield</span> put(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'showModalLoading'</span> &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">const</span> &#123; data &#125; = <span class=\"keyword\">yield</span> call(saveTenants, payload);</span>\n<span class=\"line\">  <span class=\"keyword\">if</span> (data.status === <span class=\"string\">'success'</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">yield</span> put(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'hideModal'</span> &#125;);</span>\n<span class=\"line\">    <span class=\"keyword\">yield</span> put(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'query'</span> &#125;); <span class=\"comment\">// 刷新一下列表</span></span>\n<span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">yield</span> put(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'hideModalLoading'</span> &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;,</span>\n<span class=\"line\"><span class=\"comment\">// ...</span></span>\n</pre></td></tr></table></figure><p>（感觉丝毫不需要我用文字描述，顺着读完就知道是什么意思了，还是特么异步的）</p><blockquote><p>select, put, call 这些概念是 sagas 里面的</p></blockquote><h3 id=\"reducer\"><a href=\"#reducer\" class=\"headerlink\" title=\"reducer\"></a>reducer</h3><p>修改 state 的地方</p><h2 id=\"dva\"><a href=\"#dva\" class=\"headerlink\" title=\"dva\"></a>dva</h2><p>dva 会对 dispatch 做一些处理，比如他要把 <strong>example/query</strong> 分成 example 下面的 query （effect/reducer）。</p><p>所以肯定要注册这个 model，才能让 dva 知道 example 的存在，</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> dva <span class=\"keyword\">from</span> <span class=\"string\">'dva'</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> app = dva();</span>\n<span class=\"line\"></span>\n<span class=\"line\">app.model(<span class=\"built_in\">require</span>(<span class=\"string\">'./models/example'</span>));</span>\n</pre></td></tr></table></figure><p>其实 dva 出了 model 这个方法，还有其他的几个</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1. Init</span></span>\n<span class=\"line\"><span class=\"keyword\">import</span> dva <span class=\"keyword\">from</span> <span class=\"string\">'dva'</span>;</span>\n<span class=\"line\"><span class=\"keyword\">const</span> app = dva();</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 2. Plugins</span></span>\n<span class=\"line\">app.use(&#123;</span>\n<span class=\"line\"><span class=\"comment\">/**</span>\n<span class=\"line\">* called when an effect or subscription emit an error.</span>\n<span class=\"line\">*</span>\n<span class=\"line\">* @param  &#123;string&#125; err       Exception</span>\n<span class=\"line\">* @param  &#123;function&#125; action  the effect or subscription</span>\n<span class=\"line\">*/</span></span>\n<span class=\"line\"><span class=\"comment\">// onError : (err, action) =&gt; &#123;&#125;</span></span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 3. Model</span></span>\n<span class=\"line\">app.model(<span class=\"built_in\">require</span>(<span class=\"string\">'./models/example'</span>));</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 4. Router</span></span>\n<span class=\"line\">app.router(<span class=\"built_in\">require</span>(<span class=\"string\">'./router'</span>));</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 5. Start</span></span>\n<span class=\"line\">app.start(<span class=\"string\">'#root'</span>);</span>\n</pre></td></tr></table></figure><h2 id=\"dev-cli\"><a href=\"#dev-cli\" class=\"headerlink\" title=\"dev-cli\"></a><a href=\"https://github.com/dvajs/dva-cli\">dev-cli</a></h2><p>比较好用的东西，解决了新建 router，component，model 还要添加 dva 的配置的问题，生成 router， component 的同时会直接在 dva 配置中更新。</p><p>例子：</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$ dva g route product-list</span>\n<span class=\"line\">$ dva g model products</span>\n<span class=\"line\">$ dva g component Editor</span>\n<span class=\"line\">$ dva g component Users/UserModal</span>\n<span class=\"line\">$ dva g component Header --no-css</span>\n</pre></td></tr></table></figure>"},{"title":"戦艦の女の子 の 航母 - 诶塞克斯","date":"2016-03-03T05:49:03.000Z","_content":"\n## 战舰少女\n首先让我们认识一下这个游戏的名字：\n> 戦艦の女の子 【せんかんのおんなのこ】【senkannoonnanoko】\n\n## 航空母舰\n还有航空母舰这个单词\n> 航空母艦日【こうくうぼかん】【koukuubokann】  \n\n> 航空母舰。（航空機を搭載し、これを発着させるための飛行甲板および格納庫・修理設備などを備えた軍艦。今日、水上兵力の中核。略称、空母。）\n\n## 埃塞克斯\n下面进入正题，就是我很喜欢但是还咩有得到的 - 埃塞克斯\n\n![正常](../images/aise-normal.png)\n![正常](../images/aise-broken.png)\n\n## 建造公式\n\n1. 标准航母公式：400,600,600,400（基本上赌航母都用这个）\n2. 低费航母公式：300,30,400,300（当资源不足时可用）\n3. 常用玄学公式：400 600 650 430（目前出货率极高的公式）\n4. 500 130 600 400（据说出货率更高~）\n\n## 建造时间\n4 个小时\n","source":"_posts/esekesu-senkanno-onnanoko.md","raw":"title: 戦艦の女の子 の 航母 - 诶塞克斯\ntags:\n  - 埃塞克斯\n  - 航母\ncategories:\n  - 戦艦の女の子\ndate: 2016-03-03 13:49:03\n---\n\n## 战舰少女\n首先让我们认识一下这个游戏的名字：\n> 戦艦の女の子 【せんかんのおんなのこ】【senkannoonnanoko】\n\n## 航空母舰\n还有航空母舰这个单词\n> 航空母艦日【こうくうぼかん】【koukuubokann】  \n\n> 航空母舰。（航空機を搭載し、これを発着させるための飛行甲板および格納庫・修理設備などを備えた軍艦。今日、水上兵力の中核。略称、空母。）\n\n## 埃塞克斯\n下面进入正题，就是我很喜欢但是还咩有得到的 - 埃塞克斯\n\n![正常](../images/aise-normal.png)\n![正常](../images/aise-broken.png)\n\n## 建造公式\n\n1. 标准航母公式：400,600,600,400（基本上赌航母都用这个）\n2. 低费航母公式：300,30,400,300（当资源不足时可用）\n3. 常用玄学公式：400 600 650 430（目前出货率极高的公式）\n4. 500 130 600 400（据说出货率更高~）\n\n## 建造时间\n4 个小时\n","slug":"esekesu-senkanno-onnanoko","published":1,"updated":"2017-01-24T06:24:27.531Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqd00128gnydox1zkmx","content":"<h2 id=\"战舰少女\"><a href=\"#战舰少女\" class=\"headerlink\" title=\"战舰少女\"></a>战舰少女</h2><p>首先让我们认识一下这个游戏的名字：</p><blockquote><p>戦艦の女の子 【せんかんのおんなのこ】【senkannoonnanoko】</p></blockquote><h2 id=\"航空母舰\"><a href=\"#航空母舰\" class=\"headerlink\" title=\"航空母舰\"></a>航空母舰</h2><p>还有航空母舰这个单词</p><blockquote><p>航空母艦日【こうくうぼかん】【koukuubokann】</p><p>航空母舰。（航空機を搭載し、これを発着させるための飛行甲板および格納庫・修理設備などを備えた軍艦。今日、水上兵力の中核。略称、空母。）</p></blockquote><h2 id=\"埃塞克斯\"><a href=\"#埃塞克斯\" class=\"headerlink\" title=\"埃塞克斯\"></a>埃塞克斯</h2><p>下面进入正题，就是我很喜欢但是还咩有得到的 - 埃塞克斯</p><p><img src=\"../images/aise-normal.png\" alt=\"正常\"><br><img src=\"../images/aise-broken.png\" alt=\"正常\"></p><h2 id=\"建造公式\"><a href=\"#建造公式\" class=\"headerlink\" title=\"建造公式\"></a>建造公式</h2><ol><li>标准航母公式：400,600,600,400（基本上赌航母都用这个）</li><li>低费航母公式：300,30,400,300（当资源不足时可用）</li><li>常用玄学公式：400 600 650 430（目前出货率极高的公式）</li><li>500 130 600 400（据说出货率更高~）</li></ol><h2 id=\"建造时间\"><a href=\"#建造时间\" class=\"headerlink\" title=\"建造时间\"></a>建造时间</h2><p>4 个小时</p>","excerpt":"","more":"<h2 id=\"战舰少女\"><a href=\"#战舰少女\" class=\"headerlink\" title=\"战舰少女\"></a>战舰少女</h2><p>首先让我们认识一下这个游戏的名字：</p><blockquote><p>戦艦の女の子 【せんかんのおんなのこ】【senkannoonnanoko】</p></blockquote><h2 id=\"航空母舰\"><a href=\"#航空母舰\" class=\"headerlink\" title=\"航空母舰\"></a>航空母舰</h2><p>还有航空母舰这个单词</p><blockquote><p>航空母艦日【こうくうぼかん】【koukuubokann】</p><p>航空母舰。（航空機を搭載し、これを発着させるための飛行甲板および格納庫・修理設備などを備えた軍艦。今日、水上兵力の中核。略称、空母。）</p></blockquote><h2 id=\"埃塞克斯\"><a href=\"#埃塞克斯\" class=\"headerlink\" title=\"埃塞克斯\"></a>埃塞克斯</h2><p>下面进入正题，就是我很喜欢但是还咩有得到的 - 埃塞克斯</p><p><img src=\"../images/aise-normal.png\" alt=\"正常\"><br><img src=\"../images/aise-broken.png\" alt=\"正常\"></p><h2 id=\"建造公式\"><a href=\"#建造公式\" class=\"headerlink\" title=\"建造公式\"></a>建造公式</h2><ol><li>标准航母公式：400,600,600,400（基本上赌航母都用这个）</li><li>低费航母公式：300,30,400,300（当资源不足时可用）</li><li>常用玄学公式：400 600 650 430（目前出货率极高的公式）</li><li>500 130 600 400（据说出货率更高~）</li></ol><h2 id=\"建造时间\"><a href=\"#建造时间\" class=\"headerlink\" title=\"建造时间\"></a>建造时间</h2><p>4 个小时</p>"},{"title":"Scss 里面的 for 循环","date":"2016-03-03T05:40:35.000Z","_content":"\n最近在写一个动画效果，使 ul 下面的 li 逐个进入，就像下图  \n![](../images/li-queue-in.png)\n\n做这个效果用到了 css 的 animation 中 `animation-delay`，给 li 设置入场动画后，再给 li 设置 `animation-delay`，像这样：\n\n```css\n.li-animation-delay-1 {\n  animation-delay: 0.1s;\n}\n```\n\n并且每一个 li 的 animation-delay 都比前一个 li 的长 .1s，也就达到了后面的 li 的入场动画后播放的效果。\n\n因为 li 的数量也不确定，所以我打算批量生成一些 `li-animation-delay-*`, 查了一下 scss 正好有 for 的用法：\n\n```scss\n@for $index from 0 to 10 {\n  .list-ad-#{$index} {\n    animation-delay: $index * 0.1#{s};\n  }\n}\n```\n\n其中，`#{***}` 的作用的把字符串原封不动的输出。\n```\n#{s} --> s\n```\n","source":"_posts/for-in-scss.md","raw":"title: Scss 里面的 for 循环\ntags:\n  - scss\n  - for\ncategories:\n  - SASS\ndate: 2016-03-03 13:40:35\n---\n\n最近在写一个动画效果，使 ul 下面的 li 逐个进入，就像下图  \n![](../images/li-queue-in.png)\n\n做这个效果用到了 css 的 animation 中 `animation-delay`，给 li 设置入场动画后，再给 li 设置 `animation-delay`，像这样：\n\n```css\n.li-animation-delay-1 {\n  animation-delay: 0.1s;\n}\n```\n\n并且每一个 li 的 animation-delay 都比前一个 li 的长 .1s，也就达到了后面的 li 的入场动画后播放的效果。\n\n因为 li 的数量也不确定，所以我打算批量生成一些 `li-animation-delay-*`, 查了一下 scss 正好有 for 的用法：\n\n```scss\n@for $index from 0 to 10 {\n  .list-ad-#{$index} {\n    animation-delay: $index * 0.1#{s};\n  }\n}\n```\n\n其中，`#{***}` 的作用的把字符串原封不动的输出。\n```\n#{s} --> s\n```\n","slug":"for-in-scss","published":1,"updated":"2016-11-22T01:40:09.735Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqe00168gnyunlkcu6m","content":"<p>最近在写一个动画效果，使 ul 下面的 li 逐个进入，就像下图<br><img src=\"../images/li-queue-in.png\" alt=\"\"></p><p>做这个效果用到了 css 的 animation 中 <code>animation-delay</code>，给 li 设置入场动画后，再给 li 设置 <code>animation-delay</code>，像这样：</p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.li-animation-delay-1</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">animation-delay</span>: <span class=\"number\">0.1s</span>;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>并且每一个 li 的 animation-delay 都比前一个 li 的长 .1s，也就达到了后面的 li 的入场动画后播放的效果。</p><p>因为 li 的数量也不确定，所以我打算批量生成一些 <code>li-animation-delay-*</code>, 查了一下 scss 正好有 for 的用法：</p><figure class=\"highlight scss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"keyword\">for</span> <span class=\"variable\">$index</span> from 0 to 10 &#123;</span>\n<span class=\"line\">  <span class=\"selector-class\">.list-ad-</span>#&#123;<span class=\"variable\">$index</span>&#125; &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">animation-delay</span>: <span class=\"variable\">$index</span> * <span class=\"number\">0.1</span>#&#123;s&#125;;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>其中，<code>#{***}</code> 的作用的把字符串原封不动的输出。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">#&#123;s&#125; --&gt; s</span>\n</pre></td></tr></table></figure><p></p>","excerpt":"","more":"<p>最近在写一个动画效果，使 ul 下面的 li 逐个进入，就像下图<br><img src=\"../images/li-queue-in.png\" alt=\"\"></p><p>做这个效果用到了 css 的 animation 中 <code>animation-delay</code>，给 li 设置入场动画后，再给 li 设置 <code>animation-delay</code>，像这样：</p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.li-animation-delay-1</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">animation-delay</span>: <span class=\"number\">0.1s</span>;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>并且每一个 li 的 animation-delay 都比前一个 li 的长 .1s，也就达到了后面的 li 的入场动画后播放的效果。</p><p>因为 li 的数量也不确定，所以我打算批量生成一些 <code>li-animation-delay-*</code>, 查了一下 scss 正好有 for 的用法：</p><figure class=\"highlight scss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"keyword\">for</span> <span class=\"variable\">$index</span> from 0 to 10 &#123;</span>\n<span class=\"line\">  <span class=\"selector-class\">.list-ad-</span>#&#123;<span class=\"variable\">$index</span>&#125; &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">animation-delay</span>: <span class=\"variable\">$index</span> * <span class=\"number\">0.1</span>#&#123;s&#125;;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>其中，<code>#{***}</code> 的作用的把字符串原封不动的输出。<br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">#&#123;s&#125; --&gt; s</span>\n</pre></td></tr></table></figure><p></p>"},{"title":"使用 formData 提交表单和上传图片","date":"2016-04-11T07:34:57.000Z","_content":"最近做了一个表单，需要提交好多信息和一些图片，后台的同学说要图片随着表单一起提交。那就不能用 ajax 单张上传了~\n\n图片的话，最多可以选8张，选中了的也可以取消掉，因为并没有传到服务器，所以删除很easy。\n\n然后我就想到了可以用 FormData 来做，因为之前好像用过，感觉很方便。\n\n### FormData\n\n> The FormData interface provides a way to easily construct a set of `key/value` pairs representing form fields and their values, which can then be easily sent using the `XMLHttpRequest.send()` method. It uses the same format a form would use if the encoding type were set to \"multipart/form-data\".\n\n如果使用 jQuery 提交 formData 的话，大致像这样：\n```js\n$.ajax({\n  url        : url,\n  type       : 'POST',\n  data       : formData,\n  // 下面这两条需要特别注意\n  processData: false,\n  contentType: false,\n  success(data) {\n    // ...\n  },\n  error(xhr) {\n    // ...\n  }\n});\n```\n\n就是把 formData 作为 data 发送到后台就好了，如果要构造一个 formData 对象的话，也很简单呢\n```js\n\nvar formdata = new FormData();\nformData.append('ticket_id', 1);\n\n```\n\n如果放文件在 formData 里面的话呢，也没有太复杂的地方：\n```js\n// html\n// <input\n//   ref=\"input-image\"\n//   accept=\"image/*\"\n//   onChange={ this.onImageSelected }\n//   type=\"file\"\n// />\n\n// ....\nisImage: function (file) {\n  // (!src.type.match(/image.*/)\n  var type = '|' + file.type.slice(file.type.lastIndexOf('/') + 1) + '|';\n  return '|jpg|png|jpeg|bmp|gif|'.indexOf(type) !== -1;\n},\n\nonImageSelected(e) {\n  var file = e.target.files[0];\n  console.log('select image', file);\n\n  if (!this.isImage(file)) {\n    Modal.error({ title: '请选择一张图片' });\n    return;\n  }\n\n  this.props.onImageSelected(file);\n}\n// ...\n\n// 放多个也可以~\nformData.append('file1', file1)\nformData.append('file2', file2)\n\n```\n\n对了，因为我把上传文件的 input 隐藏掉了，显示出来了是一个 加号 的图标，所以如果要触发 input 的点击事件的话：\n```js\nonItemClick() {\n  const input = findDOMNode(this.refs['input-image']);\n  input.click();\n},\n```\n\n### 生成 formData\n一个一个的 append 可能速度太慢了，而且需要每个都写一遍，其实生成的 formData 的方式还是蛮多的：\n```js\n// 1\nvar form =  document.getElementById(\"form\");\nvar formdata = new FormData(form);\n\n// 2\nvar form =  document.getElementById(\"form\");\nvar formdata = form.getFormData();\n```\n\n好了，没了。\n","source":"_posts/formdata-in-action.md","raw":"title: 使用 formData 提交表单和上传图片\ntags:\n  - formData\n  - ajax\n  - image upload\ncategories:\n  - form\n  - JavaScript\ndate: 2016-04-11 15:34:57\n---\n最近做了一个表单，需要提交好多信息和一些图片，后台的同学说要图片随着表单一起提交。那就不能用 ajax 单张上传了~\n\n图片的话，最多可以选8张，选中了的也可以取消掉，因为并没有传到服务器，所以删除很easy。\n\n然后我就想到了可以用 FormData 来做，因为之前好像用过，感觉很方便。\n\n### FormData\n\n> The FormData interface provides a way to easily construct a set of `key/value` pairs representing form fields and their values, which can then be easily sent using the `XMLHttpRequest.send()` method. It uses the same format a form would use if the encoding type were set to \"multipart/form-data\".\n\n如果使用 jQuery 提交 formData 的话，大致像这样：\n```js\n$.ajax({\n  url        : url,\n  type       : 'POST',\n  data       : formData,\n  // 下面这两条需要特别注意\n  processData: false,\n  contentType: false,\n  success(data) {\n    // ...\n  },\n  error(xhr) {\n    // ...\n  }\n});\n```\n\n就是把 formData 作为 data 发送到后台就好了，如果要构造一个 formData 对象的话，也很简单呢\n```js\n\nvar formdata = new FormData();\nformData.append('ticket_id', 1);\n\n```\n\n如果放文件在 formData 里面的话呢，也没有太复杂的地方：\n```js\n// html\n// <input\n//   ref=\"input-image\"\n//   accept=\"image/*\"\n//   onChange={ this.onImageSelected }\n//   type=\"file\"\n// />\n\n// ....\nisImage: function (file) {\n  // (!src.type.match(/image.*/)\n  var type = '|' + file.type.slice(file.type.lastIndexOf('/') + 1) + '|';\n  return '|jpg|png|jpeg|bmp|gif|'.indexOf(type) !== -1;\n},\n\nonImageSelected(e) {\n  var file = e.target.files[0];\n  console.log('select image', file);\n\n  if (!this.isImage(file)) {\n    Modal.error({ title: '请选择一张图片' });\n    return;\n  }\n\n  this.props.onImageSelected(file);\n}\n// ...\n\n// 放多个也可以~\nformData.append('file1', file1)\nformData.append('file2', file2)\n\n```\n\n对了，因为我把上传文件的 input 隐藏掉了，显示出来了是一个 加号 的图标，所以如果要触发 input 的点击事件的话：\n```js\nonItemClick() {\n  const input = findDOMNode(this.refs['input-image']);\n  input.click();\n},\n```\n\n### 生成 formData\n一个一个的 append 可能速度太慢了，而且需要每个都写一遍，其实生成的 formData 的方式还是蛮多的：\n```js\n// 1\nvar form =  document.getElementById(\"form\");\nvar formdata = new FormData(form);\n\n// 2\nvar form =  document.getElementById(\"form\");\nvar formdata = form.getFormData();\n```\n\n好了，没了。\n","slug":"formdata-in-action","published":1,"updated":"2016-11-22T01:40:09.735Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqf00178gnyuq4yo8y5","content":"<p>最近做了一个表单，需要提交好多信息和一些图片，后台的同学说要图片随着表单一起提交。那就不能用 ajax 单张上传了~</p><p>图片的话，最多可以选8张，选中了的也可以取消掉，因为并没有传到服务器，所以删除很easy。</p><p>然后我就想到了可以用 FormData 来做，因为之前好像用过，感觉很方便。</p><h3 id=\"FormData\"><a href=\"#FormData\" class=\"headerlink\" title=\"FormData\"></a>FormData</h3><blockquote><p>The FormData interface provides a way to easily construct a set of <code>key/value</code> pairs representing form fields and their values, which can then be easily sent using the <code>XMLHttpRequest.send()</code> method. It uses the same format a form would use if the encoding type were set to “multipart/form-data”.</p></blockquote><p>如果使用 jQuery 提交 formData 的话，大致像这样：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$.ajax(&#123;</span>\n<span class=\"line\">  <span class=\"attr\">url</span>        : url,</span>\n<span class=\"line\">  <span class=\"attr\">type</span>       : <span class=\"string\">'POST'</span>,</span>\n<span class=\"line\">  <span class=\"attr\">data</span>       : formData,</span>\n<span class=\"line\">  <span class=\"comment\">// 下面这两条需要特别注意</span></span>\n<span class=\"line\">  processData: <span class=\"literal\">false</span>,</span>\n<span class=\"line\">  <span class=\"attr\">contentType</span>: <span class=\"literal\">false</span>,</span>\n<span class=\"line\">  success(data) &#123;</span>\n<span class=\"line\">    <span class=\"comment\">// ...</span></span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  error(xhr) &#123;</span>\n<span class=\"line\">    <span class=\"comment\">// ...</span></span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p></p><p>就是把 formData 作为 data 发送到后台就好了，如果要构造一个 formData 对象的话，也很简单呢<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">var</span> formdata = <span class=\"keyword\">new</span> FormData();</span>\n<span class=\"line\">formData.append(<span class=\"string\">'ticket_id'</span>, <span class=\"number\">1</span>);</span>\n</pre></td></tr></table></figure><p></p><p>如果放文件在 formData 里面的话呢，也没有太复杂的地方：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// html</span></span>\n<span class=\"line\"><span class=\"comment\">// &lt;input</span></span>\n<span class=\"line\"><span class=\"comment\">//   ref=\"input-image\"</span></span>\n<span class=\"line\"><span class=\"comment\">//   accept=\"image/*\"</span></span>\n<span class=\"line\"><span class=\"comment\">//   onChange=&#123; this.onImageSelected &#125;</span></span>\n<span class=\"line\"><span class=\"comment\">//   type=\"file\"</span></span>\n<span class=\"line\"><span class=\"comment\">// /&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// ....</span></span>\n<span class=\"line\">isImage: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">file</span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"comment\">// (!src.type.match(/image.*/)</span></span>\n<span class=\"line\">  <span class=\"keyword\">var</span> type = <span class=\"string\">'|'</span> + file.type.slice(file.type.lastIndexOf(<span class=\"string\">'/'</span>) + <span class=\"number\">1</span>) + <span class=\"string\">'|'</span>;</span>\n<span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">'|jpg|png|jpeg|bmp|gif|'</span>.indexOf(type) !== <span class=\"number\">-1</span>;</span>\n<span class=\"line\">&#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">onImageSelected(e) &#123;</span>\n<span class=\"line\">  <span class=\"keyword\">var</span> file = e.target.files[<span class=\"number\">0</span>];</span>\n<span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'select image'</span>, file);</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.isImage(file)) &#123;</span>\n<span class=\"line\">    Modal.error(&#123; <span class=\"attr\">title</span>: <span class=\"string\">'请选择一张图片'</span> &#125;);</span>\n<span class=\"line\">    <span class=\"keyword\">return</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">this</span>.props.onImageSelected(file);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"><span class=\"comment\">// ...</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 放多个也可以~</span></span>\n<span class=\"line\">formData.append(<span class=\"string\">'file1'</span>, file1)</span>\n<span class=\"line\">formData.append(<span class=\"string\">'file2'</span>, file2)</span>\n</pre></td></tr></table></figure><p></p><p>对了，因为我把上传文件的 input 隐藏掉了，显示出来了是一个 加号 的图标，所以如果要触发 input 的点击事件的话：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">onItemClick() &#123;</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> input = findDOMNode(<span class=\"keyword\">this</span>.refs[<span class=\"string\">'input-image'</span>]);</span>\n<span class=\"line\">  input.click();</span>\n<span class=\"line\">&#125;,</span>\n</pre></td></tr></table></figure><p></p><h3 id=\"生成-formData\"><a href=\"#生成-formData\" class=\"headerlink\" title=\"生成 formData\"></a>生成 formData</h3><p>一个一个的 append 可能速度太慢了，而且需要每个都写一遍，其实生成的 formData 的方式还是蛮多的：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> form =  <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"form\"</span>);</span>\n<span class=\"line\"><span class=\"keyword\">var</span> formdata = <span class=\"keyword\">new</span> FormData(form);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 2</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> form =  <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"form\"</span>);</span>\n<span class=\"line\"><span class=\"keyword\">var</span> formdata = form.getFormData();</span>\n</pre></td></tr></table></figure><p></p><p>好了，没了。</p>","excerpt":"","more":"<p>最近做了一个表单，需要提交好多信息和一些图片，后台的同学说要图片随着表单一起提交。那就不能用 ajax 单张上传了~</p><p>图片的话，最多可以选8张，选中了的也可以取消掉，因为并没有传到服务器，所以删除很easy。</p><p>然后我就想到了可以用 FormData 来做，因为之前好像用过，感觉很方便。</p><h3 id=\"FormData\"><a href=\"#FormData\" class=\"headerlink\" title=\"FormData\"></a>FormData</h3><blockquote><p>The FormData interface provides a way to easily construct a set of <code>key/value</code> pairs representing form fields and their values, which can then be easily sent using the <code>XMLHttpRequest.send()</code> method. It uses the same format a form would use if the encoding type were set to “multipart/form-data”.</p></blockquote><p>如果使用 jQuery 提交 formData 的话，大致像这样：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$.ajax(&#123;</span>\n<span class=\"line\">  <span class=\"attr\">url</span>        : url,</span>\n<span class=\"line\">  <span class=\"attr\">type</span>       : <span class=\"string\">'POST'</span>,</span>\n<span class=\"line\">  <span class=\"attr\">data</span>       : formData,</span>\n<span class=\"line\">  <span class=\"comment\">// 下面这两条需要特别注意</span></span>\n<span class=\"line\">  processData: <span class=\"literal\">false</span>,</span>\n<span class=\"line\">  <span class=\"attr\">contentType</span>: <span class=\"literal\">false</span>,</span>\n<span class=\"line\">  success(data) &#123;</span>\n<span class=\"line\">    <span class=\"comment\">// ...</span></span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  error(xhr) &#123;</span>\n<span class=\"line\">    <span class=\"comment\">// ...</span></span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p></p><p>就是把 formData 作为 data 发送到后台就好了，如果要构造一个 formData 对象的话，也很简单呢<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">var</span> formdata = <span class=\"keyword\">new</span> FormData();</span>\n<span class=\"line\">formData.append(<span class=\"string\">'ticket_id'</span>, <span class=\"number\">1</span>);</span>\n</pre></td></tr></table></figure><p></p><p>如果放文件在 formData 里面的话呢，也没有太复杂的地方：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// html</span></span>\n<span class=\"line\"><span class=\"comment\">// &lt;input</span></span>\n<span class=\"line\"><span class=\"comment\">//   ref=\"input-image\"</span></span>\n<span class=\"line\"><span class=\"comment\">//   accept=\"image/*\"</span></span>\n<span class=\"line\"><span class=\"comment\">//   onChange=&#123; this.onImageSelected &#125;</span></span>\n<span class=\"line\"><span class=\"comment\">//   type=\"file\"</span></span>\n<span class=\"line\"><span class=\"comment\">// /&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// ....</span></span>\n<span class=\"line\">isImage: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">file</span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"comment\">// (!src.type.match(/image.*/)</span></span>\n<span class=\"line\">  <span class=\"keyword\">var</span> type = <span class=\"string\">'|'</span> + file.type.slice(file.type.lastIndexOf(<span class=\"string\">'/'</span>) + <span class=\"number\">1</span>) + <span class=\"string\">'|'</span>;</span>\n<span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">'|jpg|png|jpeg|bmp|gif|'</span>.indexOf(type) !== <span class=\"number\">-1</span>;</span>\n<span class=\"line\">&#125;,</span>\n<span class=\"line\"></span>\n<span class=\"line\">onImageSelected(e) &#123;</span>\n<span class=\"line\">  <span class=\"keyword\">var</span> file = e.target.files[<span class=\"number\">0</span>];</span>\n<span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'select image'</span>, file);</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.isImage(file)) &#123;</span>\n<span class=\"line\">    Modal.error(&#123; <span class=\"attr\">title</span>: <span class=\"string\">'请选择一张图片'</span> &#125;);</span>\n<span class=\"line\">    <span class=\"keyword\">return</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">this</span>.props.onImageSelected(file);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"><span class=\"comment\">// ...</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 放多个也可以~</span></span>\n<span class=\"line\">formData.append(<span class=\"string\">'file1'</span>, file1)</span>\n<span class=\"line\">formData.append(<span class=\"string\">'file2'</span>, file2)</span>\n</pre></td></tr></table></figure><p></p><p>对了，因为我把上传文件的 input 隐藏掉了，显示出来了是一个 加号 的图标，所以如果要触发 input 的点击事件的话：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">onItemClick() &#123;</span>\n<span class=\"line\">  <span class=\"keyword\">const</span> input = findDOMNode(<span class=\"keyword\">this</span>.refs[<span class=\"string\">'input-image'</span>]);</span>\n<span class=\"line\">  input.click();</span>\n<span class=\"line\">&#125;,</span>\n</pre></td></tr></table></figure><p></p><h3 id=\"生成-formData\"><a href=\"#生成-formData\" class=\"headerlink\" title=\"生成 formData\"></a>生成 formData</h3><p>一个一个的 append 可能速度太慢了，而且需要每个都写一遍，其实生成的 formData 的方式还是蛮多的：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> form =  <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"form\"</span>);</span>\n<span class=\"line\"><span class=\"keyword\">var</span> formdata = <span class=\"keyword\">new</span> FormData(form);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// 2</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> form =  <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"form\"</span>);</span>\n<span class=\"line\"><span class=\"keyword\">var</span> formdata = form.getFormData();</span>\n</pre></td></tr></table></figure><p></p><p>好了，没了。</p>"},{"title":"GIT - remember password in window & linux.","date":"2015-11-23T02:46:44.000Z","_content":"\n# Window\n\n```sh\n# 因为 window 不允许之间新建 . 开头的文件，所以使用 mv 的方式\nmv git-credentials .git-credentials\n```\n\n然后编辑 **.git-credentials**\n```\n# github 是这样的格式\nhttps://{username}:{password}@github.com \n\n# git.oschina.net 是这样的\nhttps://{username}:{password}@git.oschina.net\n```\n\n最后一步是\n```sh\ngit config --global credential.helper store\n```\n\n# Linux\n\n> 在此之前或许要添加 ssh-key (https://help.github.com/articles/generating-ssh-keys/#platform-linux)\n\n```\n$ git config --global credential.helper cache\n# 默认缓存密码15分钟，可以改得更长, 比如1小时\n$ git config --global credential.helper 'cache --timeout=3600'\n```","source":"_posts/git-remember-password-in-window-and-linux.md","raw":"title: GIT - remember password in window & linux.\ntags:\n  - git\n  - 记住密码\ncategories:\n  - GIT\ndate: 2015-11-23 10:46:44\n---\n\n# Window\n\n```sh\n# 因为 window 不允许之间新建 . 开头的文件，所以使用 mv 的方式\nmv git-credentials .git-credentials\n```\n\n然后编辑 **.git-credentials**\n```\n# github 是这样的格式\nhttps://{username}:{password}@github.com \n\n# git.oschina.net 是这样的\nhttps://{username}:{password}@git.oschina.net\n```\n\n最后一步是\n```sh\ngit config --global credential.helper store\n```\n\n# Linux\n\n> 在此之前或许要添加 ssh-key (https://help.github.com/articles/generating-ssh-keys/#platform-linux)\n\n```\n$ git config --global credential.helper cache\n# 默认缓存密码15分钟，可以改得更长, 比如1小时\n$ git config --global credential.helper 'cache --timeout=3600'\n```","slug":"git-remember-password-in-window-and-linux","published":1,"updated":"2016-11-22T01:40:09.735Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqh001b8gny0ap40r8t","content":"<h1 id=\"Window\"><a href=\"#Window\" class=\"headerlink\" title=\"Window\"></a>Window</h1><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 因为 window 不允许之间新建 . 开头的文件，所以使用 mv 的方式</span></span>\n<span class=\"line\">mv git-credentials .git-credentials</span>\n</pre></td></tr></table></figure><p>然后编辑 <strong>.git-credentials</strong><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"># github 是这样的格式</span>\n<span class=\"line\">https://&#123;username&#125;:&#123;password&#125;@github.com </span>\n<span class=\"line\"></span>\n<span class=\"line\"># git.oschina.net 是这样的</span>\n<span class=\"line\">https://&#123;username&#125;:&#123;password&#125;@git.oschina.net</span>\n</pre></td></tr></table></figure><p></p><p>最后一步是<br></p><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">git config --global credential.helper store</span>\n</pre></td></tr></table></figure><p></p><h1 id=\"Linux\"><a href=\"#Linux\" class=\"headerlink\" title=\"Linux\"></a>Linux</h1><blockquote><p>在此之前或许要添加 ssh-key (<a href=\"https://help.github.com/articles/generating-ssh-keys/#platform-linux\" target=\"_blank\" rel=\"external\">https://help.github.com/articles/generating-ssh-keys/#platform-linux</a>)</p></blockquote><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$ git config --global credential.helper cache</span>\n<span class=\"line\"># 默认缓存密码15分钟，可以改得更长, 比如1小时</span>\n<span class=\"line\">$ git config --global credential.helper &apos;cache --timeout=3600&apos;</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<h1 id=\"Window\"><a href=\"#Window\" class=\"headerlink\" title=\"Window\"></a>Window</h1><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 因为 window 不允许之间新建 . 开头的文件，所以使用 mv 的方式</span></span>\n<span class=\"line\">mv git-credentials .git-credentials</span>\n</pre></td></tr></table></figure><p>然后编辑 <strong>.git-credentials</strong><br></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"># github 是这样的格式</span>\n<span class=\"line\">https://&#123;username&#125;:&#123;password&#125;@github.com </span>\n<span class=\"line\"></span>\n<span class=\"line\"># git.oschina.net 是这样的</span>\n<span class=\"line\">https://&#123;username&#125;:&#123;password&#125;@git.oschina.net</span>\n</pre></td></tr></table></figure><p></p><p>最后一步是<br></p><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">git config --global credential.helper store</span>\n</pre></td></tr></table></figure><p></p><h1 id=\"Linux\"><a href=\"#Linux\" class=\"headerlink\" title=\"Linux\"></a>Linux</h1><blockquote><p>在此之前或许要添加 ssh-key (<a href=\"https://help.github.com/articles/generating-ssh-keys/#platform-linux\">https://help.github.com/articles/generating-ssh-keys/#platform-linux</a>)</p></blockquote><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$ git config --global credential.helper cache</span>\n<span class=\"line\"># 默认缓存密码15分钟，可以改得更长, 比如1小时</span>\n<span class=\"line\">$ git config --global credential.helper &apos;cache --timeout=3600&apos;</span>\n</pre></td></tr></table></figure>"},{"title":"东野圭吾(Higashino Keigo)的全集","date":"2016-07-26T08:38:44.000Z","_content":"\n最近看了几篇 东野圭吾 的小说, 都还蛮有意思的。 像 《嫌疑人X的献身》, 《流星之绊》,《毕业》啊 等等,好多都记不住名字了。\n\n于是决定把他的全集整理一下,留着有空都看一遍~\n\n---\n\n## 加贺恭一郎系列\n\n* 《毕业——雪月花杀人游戏》（《毕业前杀人游戏》）<卒业―雪月花杀人ゲーム>\n* 《沉睡的森林》<眠りの森>\n* 《谁杀了她》<どちらかが彼女を杀した>\n* 《恶意》\n* 《我杀了他》<私が彼を杀した>\n* 《又一个谎言》 <嘘をもうひとつだけ>　刊载于推理杂志220-224期\n* 《红手指》 <赤い指>（2011年冬季档日剧SP，阿部宽、黑木明纱主演）\n* 《新参者》（2010年拍摄日剧，阿部宽、黑木明纱主演）\n* 《麒麟之翼》<麒麟の翼>\n\n## 神探伽利略 (按列表顺序)\n* 《侦探伽利略》<探侦ガリレオ>\n* 《预知梦》<予知梦>\n* 《嫌疑犯X的献身》<容疑者Xの献身>\n* 《伽利略的苦恼》<ガリレオの苦悩>\n* 《圣女的救济》<圣女の救済>\n* 《盛夏的方程式》<真夏の方程式>\n* 《虚像的小丑》<虚像の道化师>\n* 《禁断的魔术》<禁断の魔术>\n\n## 毒舌三部曲\n* 怪笑小说\n* 毒笑小说\n* 黑笑小说\n\n## 获奖作品\n* 1983年《人偶之家》第29届江戸川乱歩赏二次予选通过\n* 1984年《魔球》第30届江戸川乱歩赏最终候补\n* 1985年《放学后》夺得第31届江户川乱步奖，开始专职写作。\n* 1988年《学生街杀人事件》第9届吉川英治文学新人赏候补・第41回日本推理作家协会赏（长编）候补\n* 1990年《鸟人计划》第11届吉川英治文学新人赏候补\n* 1991年《天使之耳》第44届日本推理作家协会赏（短编集）候补\n* 1992年《镜之中》第45届日本推理作家协会赏（短编集）候补\n* 1993年《雪地杀机》第46届日本推理作家协会赏（长编部）候补\n* 1993年《交通警察之夜》第46届日本推理作家协会赏（短编集）候补\n* 1996年《天空之蜂》第17届吉川英治文学新人赏候补\n* 1997年《名侦探的守则》第18届吉川英治文学新人赏候补\n* 1999年《秘密》第120届直木奖三十五赏候补，第20回吉川英治文学新人赏候补，第52回日本推理作家协会奖\n* 2000年《白夜行》第122届直木奖三十五赏候补\n* 2001年《单恋》第125届直木奖三十五赏候补\n* 2003年《信》第129届直木奖三十五赏候补\n* 2004年《幻夜》第131届直木三奖十五赏候补\n* 2006年《嫌疑人X的献身》将第134届直木奖、第6届本格推理小说 大奖及当年度日本三大推理小说排行榜（“这本推理小说了不起！”、“周刊文春推理小说BEST10”、“本格推理小说 BEST10”）第1名一并收入囊中。\n* 2008年《流星之绊》荣获第43届新风奖。\n* 2009年《新参者》获“这本推理小说了不起！”、“周刊文春推理小说BEST10”年度第1名。\n* 2012年《嫌疑犯X的献身》美国图书馆协会最推荐图书（推理部门）、爱伦·坡奖最优秀长编奖候补、巴瑞奖新人赏奖候补\n* 2012年《浪矢杂货店的奇迹》第7届中央公论文艺奖\n\n---\n\n上面的作品今年都看完应该就不错了~ 毕竟做人都是要有目标的嘛,那么更远大的目标呢,就是下面的全部列表了。\n\n---\n\n## 作品列表\n\n### 1985年\n1. 《放学后》<放课後> （第31 届江户川乱步奖）\n\n### 1986年\n2. 《毕业——雪月花杀人游戏》（加贺恭一郎系列）（《毕业前杀人游戏》）<卒业―雪月花杀人ゲーム>\n3. 《白马山庄杀人事件》<白马山荘杀人事件>\n\n### 1987年\n4. 《学生街里的杀人事件》<学生街の杀人>（入围第41届日本推理作家协会赏）\n5. 《十一字杀人》（11文字の杀人）\n\n### 1988年\n06. 《魔球》\n07. 《以眨眼干杯》<ウインクで乾杯> 原名<香子の梦―コンパニオン杀人事件> / 《香子之梦——夥伴杀人事件》\n08. 《浪花少年侦探团》<浪花少年探侦団>\n\n### 1989年\n09. 《十字豪宅的小丑》<十字屋敷のピエロ>\n10. 《沉睡的森林》<眠りの森>（加贺恭一郎系列）（特别说明：并不是木村拓哉主演的那部电视剧）\n11. 《鸟人计划》<鸟人计画>（入围第11届吉川英治文学新人奖）\n12. 《杀人现场在云端》<杀人现场は云の上>\n13. 《布鲁特斯的心脏——完全犯罪杀人接力》<ブルータスの心臓―完全犯罪杀人リレー>\n\n### 1990年\n14. 《侦探俱乐部》<探侦倶楽部> 原名 <依頼人の娘>《负责人的女儿》\n本短篇集包括：\n    1. 伪装之夜 / 伪装の夜\n    2. 疯狂的电击 / 罠の中\n    3. 少女委托人 / 依頼人の娘\n    4. 伊豆旅馆的神秘案 / 探侦の使い方\n    5. 玫瑰与匕首 / 蔷薇とナイフ\n15. 《宿命》（2004年拍摄日剧SP，柏原崇、藤木直人主演）\n16. 《没有凶手的杀人夜》<犯人のいない杀人の夜>（曾刊载于推理杂志）\n    1. 小小的恶作剧故事 / 小さな故意の物语（2012年日剧《东野圭吾推理系列》第八集，三浦春马主演）\n    2. 黑暗中的两个人 / 闇の中の二人\n    3. 舞女 / 踊り子\n    4. 无尽之夜 / エンドレス·ナイト（2012年日剧《东野圭吾推理系列》第三集，松下奈绪主演）\n    5. 白色凶器 / 白い凶器（2012年日剧《东野圭吾推理系列》第七集，户田惠梨香主演）\n    6. 别了，教练 / さよならコーチ（2012年日剧《东野圭吾推理系列》第一集，唐泽寿明主演）\n    7. 没有凶手的杀人夜 / 犯人のいない杀人の夜（2012年日剧《东野圭吾推理系列》第二集，坂口宪二主演）\n17. 《面具山庄杀人事件》<仮面山荘杀人事件>\n\n### 1991年\n18. 《变身》<变身>（2005年拍摄电影，玉木宏、苍井优主演）\n19. 《回廊亭杀人事件》<回廊亭杀人事件>（2012年06月24日播出日剧SP，主演：常盘贵子）\n20. 《天使之耳》<交通警察の夜>\n    1. 天使之耳/ 天使の耳\n    2. 隔离带/ 分离帯\n    3. 危险的新叶/ 危険な若叶\n    4. 请通过/ 通りゃんせ\n    5. 请勿弃物/ 舍てないで\n    6. 镜之中/ 镜の中で\n\n### 1992年\n21. 《雪地杀机》<ある闭ざされた雪の山荘で>\n22. 《美丽的凶器》<美しき凶器>\n\n### 1993年\n23. 《同班同学》<同级生>\n24. 《分身》（2012年2月12日播出日剧，主演：长泽雅美）\n25. 《和阿忍老师说再见——浪花少年侦探团·独立篇》<しのぶセンセにサヨナラ―浪花少年探侦団·独立编>\n\n### 1994年\n26. 《怪人们》 / 怪しい人びと\n    1. 沉睡的女人 / 寝ていた女\n    2. 让我再听一次你的判罚 / もう一度コールしてくれ\n    3. 至死方休 / 死んだら働けない\n    4. 蜜月之旅 / 甘いはずなのに\n    5. 新婚照之谜 / 结婚报告（2012年日剧《东野圭吾推理系列》第九集，广末凉子主演）\n    6. 灯塔之上 / 灯台にて\n    7. 哥斯达黎加的冷雨 / コスタリカの雨は冷たい\n27. 《我以前死去的家》<むかし仆が死んだ家>\n28. 《操纵彩虹的少年》<虹を操る少年>\n\n### 1995年\n29. 《平行世界·爱情故事》<パラレルワールド·ラブストーリー>\n30. 《那个时候我们是傻瓜》（散文集）<あの顷ぼくらはアホでした>\n31. 《怪笑小说》\n    1. 郁积电车 / 郁积电车\n    2. 追星阿婆 / おっかけバアさん\n    3. 一彻老爸 / 一彻おやじ\n    4. 逆转同学会 / 逆転同窓会\n    5. 超狸理论 / 超たぬき理论\n    6. 无人岛大相扑转播 / 无人岛大相扑中継\n    7. 尸台社区 / しかばね台分譲住宅\n    8. 献给某位老爷爷的线香 / あるジーサンに线香を\n    9. 动物家庭 / 动物家族\n32. 《天空之蜂》<天空の蜂>（入围第17届吉川英治文学新人奖）\n\n### 1996年\n33. 《名侦探的守则》<名探侦の掟>（2009春季日剧，松田翔太主演）\n34. 《谁杀了她》（加贺恭一郎系列）<どちらかが彼女を杀した>\n35. 《毒笑小说》\n    1. 绑架天国 / 诱拐天国\n    2. Angel / エンジェル\n    3. 手工贵妇 / 手作りマダム\n    4. 程序警察 / マニュアル警察（世界奇妙物语 2000秋季sp，玉置浩二主演，又名《准则警察》）\n    5. 爷爷当家 / ホームアローンじいさん\n    6. 新郎人偶 / 花婿人形\n    7. 女作家 / 女流作家\n    8. 杀意使用说明书 / 杀意取扱说明书（世界奇妙物语 2010秋季sp，玉木宏、冢本高史主演）\n    9. 补偿 / つぐない\n    10. 光荣的证言 / 栄光の证言\n    11. 本格推理周边鉴定秀 / 本格推理関连グッズ鉴定ショー\n    12. 绑架电话网 / 诱拐电话网\n36. 《恶意》（加贺恭一郎系列）\n37. 《名侦探的诅咒》<名探侦の呪缚>\n\n### 1998年\n38. 《侦探伽利略》（神探伽利略系列第1部）<探侦ガリレオ>\n39. 《秘密》（第52届日本推理作家协会奖、第120 届直木奖入围）\n\n### 1999年\n40. 《我杀了他》（加贺恭一郎系列）<私が彼を杀した>\n41. 《白夜行》（第122 届直木奖入围）\n\n### 2000年 \n42. 《又一个谎言》 （加贺恭一郎系列） <嘘をもうひとつだけ>　刊载于推理杂志220-224期\n    1. 又一个谎言 / 嘘をもうひとつだけ\n    2. 寒冷的灼热 / 冷たい灼热\n    3. 第二个希望 / 第二の希望\n    4. 疯狂计算 / 狂った计算\n    5. 朋友的忠告 / 友の助言\n43. 《预知梦》（神探伽利略系列第2部）<予知梦>（2007年拍摄日剧《神探伽利略》6-10集，福山雅治、柴崎幸主演）\n\n### 2001年\n44. 《单恋》<片想い> （第125 届直木奖入围）\n45. 《超·杀人事件》<超·杀人事件　推理作家の苦悩>（「2003年世界奇妙物语春季篇」拍摄其中一个单元故事<超税金对策杀人事件>，西村雅彦、大冢宁宁主演）\n    1. 超税金对策杀人事件 / 超税金対策杀人事件\n    2. 超理科杀人事件 / 超理系杀人事件\n    3. 超猜凶手小说杀人事件 / 超犯人当て小说杀人事件（问题篇·解决篇）\n    4. 超高龄化社会杀人事件 / 超高齢化社会杀人事件\n    5. 超预告小说杀人事件 / 超予告小说杀人事件\n    6. 超长篇小说杀人事件 / 超长编小说杀人事件\n    7. 魔风馆杀人事件 / 魔风馆杀人事件（超最终回·ラスト五枚）\n    8. 超读书机器杀人事件 / 超読书机械杀人事件\n46. 《圣诞阿姨》 /サンタのおばさん（絵本：絵は杉田比吕美）\n\n### 2002年\n47. 《湖畔》<レイクサイド>（2002年拍摄电影，药师丸博子、丰川悦司、役所广司主演）\n48. 《时生》<トキオ>（2004年拍摄日剧，樱井翔主演，剧名为「给父亲的口信」）\n49. 《绑架游戏》<ゲームの名は诱拐>（2003年拍摄电影、藤木直人、仲间由纪惠主演）\n\n### 2003年\n50. 《信》<手纸>（第129 届直木奖入围）（2005年拍摄电影，山田孝之、泽尻英龙华主演）\n51. 《我是非常勤》<おれは非情勤> （注：本书书名和「 非常勤」（中文意为兼任）同音，是创作者特别设定的双关语趣味）\n52. 《杀人之门》<杀人の门>\n\n### 2004年\n53. 《幻夜》（第131 届直木奖入围）（2010年秋季档日剧，深田恭子、冢本高史主演）\n54. 《挑战？》（散文集）<ちゃれんじ>（散文集）\n55. 《彷徨之刃》<さまよう刃>（2009年改编为电影，竹野内丰主演）\n\n### 2005年\n56. 《黑笑小说》\n    01. 又一次助跑 / もうひとつの助走\n    02. 线香花火 / 线香花火\n    03. 过去的人 / 过去の人\n    04. 评审会 / 选考会\n    05. 巨乳妄想综合征 / 巨乳妄想症候群\n    06. 无能药 / インポグラ\n    07. 显微眼 / みえすぎ\n    08. 钟情喷雾 / モテモテ·スプレー\n    09. 灰姑娘白夜行 / シンデレラ白夜行\n    10. 跟踪狂入门 / ストーカー入门\n    11. 临界家族 / 临界家族\n    12. 不笑的人 / 笑わない男\n    13. 奇迹之照 / 奇迹の一枚\n57. 《嫌疑犯X的献身》（神探伽利略系列第3部）<容疑者Xの献身>\n58. 《科学》（散文集）<さいえんす>\n\n### 2006年\n59. 《梦回都灵》（散文集）<梦はトリノをかけめぐる>\n60. 《红手指》（加贺恭一郎系列） <赤い指>（2011年冬季档日剧SP，阿部宽、黑木明纱主演）\n61. 《使命与心的极限》<使命と魂のリミット> （2011秋季档日剧SP，石原里美、速水重道主演）\n\n### 2007年\n62. 《也许是最后的寒暄》<たぶん最後の御挨拶>（散文集）\n63. 《黎明之街》<夜明けの街で>（2011年拍摄电影，深田恭子、岸谷五朗主演）\n64. 《濒死之眼》<ダイイング·アイイ>\n\n### 2008年\n65. 《流星之绊》<流星の绊>（2008年拍摄日剧，二宫和也、锦户亮、户田惠梨香主演）\n66. 《伽利略的苦恼》（神探伽利略系列第4部）<ガリレオの苦悩>\n67. 《圣女的救济》（神探伽利略系列第5部）<圣女の救済>\n\n### 2009年\n68. 《悖论13》台版译《异变13秒》<パラドックス13>\n69. 《新参者》（加贺恭一郎系列）（2010年拍摄日剧，阿部宽、黑木明纱主演）\n70. 《美丽的凶器》\n\n### 2010年\n71. 《布谷鸟的蛋是谁的》<カッコウの卵は谁のもの> 在《小说宝石》上连载时原题《フェイク》\n72. 《白金数据》<プラチナデータ>（2012年拍摄电影，二宫和也主演）\n73. 《白银杰克》< 白银ジャック>\n\n### 2011年\n74. 《你旁边是谁》<あの顷の谁か>\n    1. 全是字谜 / シャレードがいっぱい（2012年日剧《东野圭吾推理系列》第六集，长泽雅美主演）\n    2. Reiko和玲子 / 玲子とレイコ（2012年日剧《东野圭吾推理系列》第四集，观月阿丽莎主演）\n    3. 再生魔术之女 / 再生魔术の女 （2012年日剧《东野圭吾推理系列》第十一集，铃木京香主演）\n    4. 再见，“爸爸” / さよなら『お父さん』\n    5. 名侦探退场 / 名探侦退场 \n    6. 母老虎 / 女も虎も\n    7. 好困，我不想死 / りたい死にたくない \n    8. 20年的约定 / 二十年目の约束（2012年日剧《东野圭吾推理系列》第十集，筱原凉子主演）\n75. 《麒麟之翼》（加贺恭一郎系列）<麒麟の翼>（加贺恭一郎系列）\n76. 《牛奶箱的回答》<回答は牛乳箱に>（短篇 出自《小说 野性时代》 第89号）\n77. 《听心》<心聴>（短篇 出自《オール读物》2011年04月号）\n78. 《盛夏的方程式》（神探伽利略系列第6部）<真夏の方程式>\n79. 《假面舞馆》<マスカレード·ホテル> 暂定2012年9月9日出版\n80. 《歪笑小说》\n\n### 2012年\n81. 《虚像的小丑》（神探伽利略系列第7部）<虚像の道化师 ガリレオ 7>\n82. 《杂货店的奇迹》\n83. 《那个时候的谁》\n84. 《禁断的魔术》（神探伽利略系列第8部）<禁断の魔术 ガリレオ8>\n\n### 2013年\n85. 《梦幻花》（むげんばな）\n\n\n\n","source":"_posts/higashino-keigo.md","raw":"title: 东野圭吾(Higashino Keigo)的全集\ntags:\n  - 文学\n  - 日本文学\n  - 东野圭吾\n  - 东野圭吾作品全集\ncategories:\n  - 文学\ndate: 2016-07-26 16:38:44\n---\n\n最近看了几篇 东野圭吾 的小说, 都还蛮有意思的。 像 《嫌疑人X的献身》, 《流星之绊》,《毕业》啊 等等,好多都记不住名字了。\n\n于是决定把他的全集整理一下,留着有空都看一遍~\n\n---\n\n## 加贺恭一郎系列\n\n* 《毕业——雪月花杀人游戏》（《毕业前杀人游戏》）<卒业―雪月花杀人ゲーム>\n* 《沉睡的森林》<眠りの森>\n* 《谁杀了她》<どちらかが彼女を杀した>\n* 《恶意》\n* 《我杀了他》<私が彼を杀した>\n* 《又一个谎言》 <嘘をもうひとつだけ>　刊载于推理杂志220-224期\n* 《红手指》 <赤い指>（2011年冬季档日剧SP，阿部宽、黑木明纱主演）\n* 《新参者》（2010年拍摄日剧，阿部宽、黑木明纱主演）\n* 《麒麟之翼》<麒麟の翼>\n\n## 神探伽利略 (按列表顺序)\n* 《侦探伽利略》<探侦ガリレオ>\n* 《预知梦》<予知梦>\n* 《嫌疑犯X的献身》<容疑者Xの献身>\n* 《伽利略的苦恼》<ガリレオの苦悩>\n* 《圣女的救济》<圣女の救済>\n* 《盛夏的方程式》<真夏の方程式>\n* 《虚像的小丑》<虚像の道化师>\n* 《禁断的魔术》<禁断の魔术>\n\n## 毒舌三部曲\n* 怪笑小说\n* 毒笑小说\n* 黑笑小说\n\n## 获奖作品\n* 1983年《人偶之家》第29届江戸川乱歩赏二次予选通过\n* 1984年《魔球》第30届江戸川乱歩赏最终候补\n* 1985年《放学后》夺得第31届江户川乱步奖，开始专职写作。\n* 1988年《学生街杀人事件》第9届吉川英治文学新人赏候补・第41回日本推理作家协会赏（长编）候补\n* 1990年《鸟人计划》第11届吉川英治文学新人赏候补\n* 1991年《天使之耳》第44届日本推理作家协会赏（短编集）候补\n* 1992年《镜之中》第45届日本推理作家协会赏（短编集）候补\n* 1993年《雪地杀机》第46届日本推理作家协会赏（长编部）候补\n* 1993年《交通警察之夜》第46届日本推理作家协会赏（短编集）候补\n* 1996年《天空之蜂》第17届吉川英治文学新人赏候补\n* 1997年《名侦探的守则》第18届吉川英治文学新人赏候补\n* 1999年《秘密》第120届直木奖三十五赏候补，第20回吉川英治文学新人赏候补，第52回日本推理作家协会奖\n* 2000年《白夜行》第122届直木奖三十五赏候补\n* 2001年《单恋》第125届直木奖三十五赏候补\n* 2003年《信》第129届直木奖三十五赏候补\n* 2004年《幻夜》第131届直木三奖十五赏候补\n* 2006年《嫌疑人X的献身》将第134届直木奖、第6届本格推理小说 大奖及当年度日本三大推理小说排行榜（“这本推理小说了不起！”、“周刊文春推理小说BEST10”、“本格推理小说 BEST10”）第1名一并收入囊中。\n* 2008年《流星之绊》荣获第43届新风奖。\n* 2009年《新参者》获“这本推理小说了不起！”、“周刊文春推理小说BEST10”年度第1名。\n* 2012年《嫌疑犯X的献身》美国图书馆协会最推荐图书（推理部门）、爱伦·坡奖最优秀长编奖候补、巴瑞奖新人赏奖候补\n* 2012年《浪矢杂货店的奇迹》第7届中央公论文艺奖\n\n---\n\n上面的作品今年都看完应该就不错了~ 毕竟做人都是要有目标的嘛,那么更远大的目标呢,就是下面的全部列表了。\n\n---\n\n## 作品列表\n\n### 1985年\n1. 《放学后》<放课後> （第31 届江户川乱步奖）\n\n### 1986年\n2. 《毕业——雪月花杀人游戏》（加贺恭一郎系列）（《毕业前杀人游戏》）<卒业―雪月花杀人ゲーム>\n3. 《白马山庄杀人事件》<白马山荘杀人事件>\n\n### 1987年\n4. 《学生街里的杀人事件》<学生街の杀人>（入围第41届日本推理作家协会赏）\n5. 《十一字杀人》（11文字の杀人）\n\n### 1988年\n06. 《魔球》\n07. 《以眨眼干杯》<ウインクで乾杯> 原名<香子の梦―コンパニオン杀人事件> / 《香子之梦——夥伴杀人事件》\n08. 《浪花少年侦探团》<浪花少年探侦団>\n\n### 1989年\n09. 《十字豪宅的小丑》<十字屋敷のピエロ>\n10. 《沉睡的森林》<眠りの森>（加贺恭一郎系列）（特别说明：并不是木村拓哉主演的那部电视剧）\n11. 《鸟人计划》<鸟人计画>（入围第11届吉川英治文学新人奖）\n12. 《杀人现场在云端》<杀人现场は云の上>\n13. 《布鲁特斯的心脏——完全犯罪杀人接力》<ブルータスの心臓―完全犯罪杀人リレー>\n\n### 1990年\n14. 《侦探俱乐部》<探侦倶楽部> 原名 <依頼人の娘>《负责人的女儿》\n本短篇集包括：\n    1. 伪装之夜 / 伪装の夜\n    2. 疯狂的电击 / 罠の中\n    3. 少女委托人 / 依頼人の娘\n    4. 伊豆旅馆的神秘案 / 探侦の使い方\n    5. 玫瑰与匕首 / 蔷薇とナイフ\n15. 《宿命》（2004年拍摄日剧SP，柏原崇、藤木直人主演）\n16. 《没有凶手的杀人夜》<犯人のいない杀人の夜>（曾刊载于推理杂志）\n    1. 小小的恶作剧故事 / 小さな故意の物语（2012年日剧《东野圭吾推理系列》第八集，三浦春马主演）\n    2. 黑暗中的两个人 / 闇の中の二人\n    3. 舞女 / 踊り子\n    4. 无尽之夜 / エンドレス·ナイト（2012年日剧《东野圭吾推理系列》第三集，松下奈绪主演）\n    5. 白色凶器 / 白い凶器（2012年日剧《东野圭吾推理系列》第七集，户田惠梨香主演）\n    6. 别了，教练 / さよならコーチ（2012年日剧《东野圭吾推理系列》第一集，唐泽寿明主演）\n    7. 没有凶手的杀人夜 / 犯人のいない杀人の夜（2012年日剧《东野圭吾推理系列》第二集，坂口宪二主演）\n17. 《面具山庄杀人事件》<仮面山荘杀人事件>\n\n### 1991年\n18. 《变身》<变身>（2005年拍摄电影，玉木宏、苍井优主演）\n19. 《回廊亭杀人事件》<回廊亭杀人事件>（2012年06月24日播出日剧SP，主演：常盘贵子）\n20. 《天使之耳》<交通警察の夜>\n    1. 天使之耳/ 天使の耳\n    2. 隔离带/ 分离帯\n    3. 危险的新叶/ 危険な若叶\n    4. 请通过/ 通りゃんせ\n    5. 请勿弃物/ 舍てないで\n    6. 镜之中/ 镜の中で\n\n### 1992年\n21. 《雪地杀机》<ある闭ざされた雪の山荘で>\n22. 《美丽的凶器》<美しき凶器>\n\n### 1993年\n23. 《同班同学》<同级生>\n24. 《分身》（2012年2月12日播出日剧，主演：长泽雅美）\n25. 《和阿忍老师说再见——浪花少年侦探团·独立篇》<しのぶセンセにサヨナラ―浪花少年探侦団·独立编>\n\n### 1994年\n26. 《怪人们》 / 怪しい人びと\n    1. 沉睡的女人 / 寝ていた女\n    2. 让我再听一次你的判罚 / もう一度コールしてくれ\n    3. 至死方休 / 死んだら働けない\n    4. 蜜月之旅 / 甘いはずなのに\n    5. 新婚照之谜 / 结婚报告（2012年日剧《东野圭吾推理系列》第九集，广末凉子主演）\n    6. 灯塔之上 / 灯台にて\n    7. 哥斯达黎加的冷雨 / コスタリカの雨は冷たい\n27. 《我以前死去的家》<むかし仆が死んだ家>\n28. 《操纵彩虹的少年》<虹を操る少年>\n\n### 1995年\n29. 《平行世界·爱情故事》<パラレルワールド·ラブストーリー>\n30. 《那个时候我们是傻瓜》（散文集）<あの顷ぼくらはアホでした>\n31. 《怪笑小说》\n    1. 郁积电车 / 郁积电车\n    2. 追星阿婆 / おっかけバアさん\n    3. 一彻老爸 / 一彻おやじ\n    4. 逆转同学会 / 逆転同窓会\n    5. 超狸理论 / 超たぬき理论\n    6. 无人岛大相扑转播 / 无人岛大相扑中継\n    7. 尸台社区 / しかばね台分譲住宅\n    8. 献给某位老爷爷的线香 / あるジーサンに线香を\n    9. 动物家庭 / 动物家族\n32. 《天空之蜂》<天空の蜂>（入围第17届吉川英治文学新人奖）\n\n### 1996年\n33. 《名侦探的守则》<名探侦の掟>（2009春季日剧，松田翔太主演）\n34. 《谁杀了她》（加贺恭一郎系列）<どちらかが彼女を杀した>\n35. 《毒笑小说》\n    1. 绑架天国 / 诱拐天国\n    2. Angel / エンジェル\n    3. 手工贵妇 / 手作りマダム\n    4. 程序警察 / マニュアル警察（世界奇妙物语 2000秋季sp，玉置浩二主演，又名《准则警察》）\n    5. 爷爷当家 / ホームアローンじいさん\n    6. 新郎人偶 / 花婿人形\n    7. 女作家 / 女流作家\n    8. 杀意使用说明书 / 杀意取扱说明书（世界奇妙物语 2010秋季sp，玉木宏、冢本高史主演）\n    9. 补偿 / つぐない\n    10. 光荣的证言 / 栄光の证言\n    11. 本格推理周边鉴定秀 / 本格推理関连グッズ鉴定ショー\n    12. 绑架电话网 / 诱拐电话网\n36. 《恶意》（加贺恭一郎系列）\n37. 《名侦探的诅咒》<名探侦の呪缚>\n\n### 1998年\n38. 《侦探伽利略》（神探伽利略系列第1部）<探侦ガリレオ>\n39. 《秘密》（第52届日本推理作家协会奖、第120 届直木奖入围）\n\n### 1999年\n40. 《我杀了他》（加贺恭一郎系列）<私が彼を杀した>\n41. 《白夜行》（第122 届直木奖入围）\n\n### 2000年 \n42. 《又一个谎言》 （加贺恭一郎系列） <嘘をもうひとつだけ>　刊载于推理杂志220-224期\n    1. 又一个谎言 / 嘘をもうひとつだけ\n    2. 寒冷的灼热 / 冷たい灼热\n    3. 第二个希望 / 第二の希望\n    4. 疯狂计算 / 狂った计算\n    5. 朋友的忠告 / 友の助言\n43. 《预知梦》（神探伽利略系列第2部）<予知梦>（2007年拍摄日剧《神探伽利略》6-10集，福山雅治、柴崎幸主演）\n\n### 2001年\n44. 《单恋》<片想い> （第125 届直木奖入围）\n45. 《超·杀人事件》<超·杀人事件　推理作家の苦悩>（「2003年世界奇妙物语春季篇」拍摄其中一个单元故事<超税金对策杀人事件>，西村雅彦、大冢宁宁主演）\n    1. 超税金对策杀人事件 / 超税金対策杀人事件\n    2. 超理科杀人事件 / 超理系杀人事件\n    3. 超猜凶手小说杀人事件 / 超犯人当て小说杀人事件（问题篇·解决篇）\n    4. 超高龄化社会杀人事件 / 超高齢化社会杀人事件\n    5. 超预告小说杀人事件 / 超予告小说杀人事件\n    6. 超长篇小说杀人事件 / 超长编小说杀人事件\n    7. 魔风馆杀人事件 / 魔风馆杀人事件（超最终回·ラスト五枚）\n    8. 超读书机器杀人事件 / 超読书机械杀人事件\n46. 《圣诞阿姨》 /サンタのおばさん（絵本：絵は杉田比吕美）\n\n### 2002年\n47. 《湖畔》<レイクサイド>（2002年拍摄电影，药师丸博子、丰川悦司、役所广司主演）\n48. 《时生》<トキオ>（2004年拍摄日剧，樱井翔主演，剧名为「给父亲的口信」）\n49. 《绑架游戏》<ゲームの名は诱拐>（2003年拍摄电影、藤木直人、仲间由纪惠主演）\n\n### 2003年\n50. 《信》<手纸>（第129 届直木奖入围）（2005年拍摄电影，山田孝之、泽尻英龙华主演）\n51. 《我是非常勤》<おれは非情勤> （注：本书书名和「 非常勤」（中文意为兼任）同音，是创作者特别设定的双关语趣味）\n52. 《杀人之门》<杀人の门>\n\n### 2004年\n53. 《幻夜》（第131 届直木奖入围）（2010年秋季档日剧，深田恭子、冢本高史主演）\n54. 《挑战？》（散文集）<ちゃれんじ>（散文集）\n55. 《彷徨之刃》<さまよう刃>（2009年改编为电影，竹野内丰主演）\n\n### 2005年\n56. 《黑笑小说》\n    01. 又一次助跑 / もうひとつの助走\n    02. 线香花火 / 线香花火\n    03. 过去的人 / 过去の人\n    04. 评审会 / 选考会\n    05. 巨乳妄想综合征 / 巨乳妄想症候群\n    06. 无能药 / インポグラ\n    07. 显微眼 / みえすぎ\n    08. 钟情喷雾 / モテモテ·スプレー\n    09. 灰姑娘白夜行 / シンデレラ白夜行\n    10. 跟踪狂入门 / ストーカー入门\n    11. 临界家族 / 临界家族\n    12. 不笑的人 / 笑わない男\n    13. 奇迹之照 / 奇迹の一枚\n57. 《嫌疑犯X的献身》（神探伽利略系列第3部）<容疑者Xの献身>\n58. 《科学》（散文集）<さいえんす>\n\n### 2006年\n59. 《梦回都灵》（散文集）<梦はトリノをかけめぐる>\n60. 《红手指》（加贺恭一郎系列） <赤い指>（2011年冬季档日剧SP，阿部宽、黑木明纱主演）\n61. 《使命与心的极限》<使命と魂のリミット> （2011秋季档日剧SP，石原里美、速水重道主演）\n\n### 2007年\n62. 《也许是最后的寒暄》<たぶん最後の御挨拶>（散文集）\n63. 《黎明之街》<夜明けの街で>（2011年拍摄电影，深田恭子、岸谷五朗主演）\n64. 《濒死之眼》<ダイイング·アイイ>\n\n### 2008年\n65. 《流星之绊》<流星の绊>（2008年拍摄日剧，二宫和也、锦户亮、户田惠梨香主演）\n66. 《伽利略的苦恼》（神探伽利略系列第4部）<ガリレオの苦悩>\n67. 《圣女的救济》（神探伽利略系列第5部）<圣女の救済>\n\n### 2009年\n68. 《悖论13》台版译《异变13秒》<パラドックス13>\n69. 《新参者》（加贺恭一郎系列）（2010年拍摄日剧，阿部宽、黑木明纱主演）\n70. 《美丽的凶器》\n\n### 2010年\n71. 《布谷鸟的蛋是谁的》<カッコウの卵は谁のもの> 在《小说宝石》上连载时原题《フェイク》\n72. 《白金数据》<プラチナデータ>（2012年拍摄电影，二宫和也主演）\n73. 《白银杰克》< 白银ジャック>\n\n### 2011年\n74. 《你旁边是谁》<あの顷の谁か>\n    1. 全是字谜 / シャレードがいっぱい（2012年日剧《东野圭吾推理系列》第六集，长泽雅美主演）\n    2. Reiko和玲子 / 玲子とレイコ（2012年日剧《东野圭吾推理系列》第四集，观月阿丽莎主演）\n    3. 再生魔术之女 / 再生魔术の女 （2012年日剧《东野圭吾推理系列》第十一集，铃木京香主演）\n    4. 再见，“爸爸” / さよなら『お父さん』\n    5. 名侦探退场 / 名探侦退场 \n    6. 母老虎 / 女も虎も\n    7. 好困，我不想死 / りたい死にたくない \n    8. 20年的约定 / 二十年目の约束（2012年日剧《东野圭吾推理系列》第十集，筱原凉子主演）\n75. 《麒麟之翼》（加贺恭一郎系列）<麒麟の翼>（加贺恭一郎系列）\n76. 《牛奶箱的回答》<回答は牛乳箱に>（短篇 出自《小说 野性时代》 第89号）\n77. 《听心》<心聴>（短篇 出自《オール读物》2011年04月号）\n78. 《盛夏的方程式》（神探伽利略系列第6部）<真夏の方程式>\n79. 《假面舞馆》<マスカレード·ホテル> 暂定2012年9月9日出版\n80. 《歪笑小说》\n\n### 2012年\n81. 《虚像的小丑》（神探伽利略系列第7部）<虚像の道化师 ガリレオ 7>\n82. 《杂货店的奇迹》\n83. 《那个时候的谁》\n84. 《禁断的魔术》（神探伽利略系列第8部）<禁断の魔术 ガリレオ8>\n\n### 2013年\n85. 《梦幻花》（むげんばな）\n\n\n\n","slug":"higashino-keigo","published":1,"updated":"2017-01-24T06:11:26.390Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqi001e8gnynelqi2pa","content":"<p>最近看了几篇 东野圭吾 的小说, 都还蛮有意思的。 像 《嫌疑人X的献身》, 《流星之绊》,《毕业》啊 等等,好多都记不住名字了。</p><p>于是决定把他的全集整理一下,留着有空都看一遍~</p><hr><h2 id=\"加贺恭一郎系列\"><a href=\"#加贺恭一郎系列\" class=\"headerlink\" title=\"加贺恭一郎系列\"></a>加贺恭一郎系列</h2><ul><li>《毕业——雪月花杀人游戏》（《毕业前杀人游戏》）&lt;卒业―雪月花杀人ゲーム&gt;</li><li>《沉睡的森林》&lt;眠りの森&gt;</li><li>《谁杀了她》&lt;どちらかが彼女を杀した&gt;</li><li>《恶意》</li><li>《我杀了他》&lt;私が彼を杀した&gt;</li><li>《又一个谎言》 &lt;嘘をもうひとつだけ&gt;　刊载于推理杂志220-224期</li><li>《红手指》 &lt;赤い指&gt;（2011年冬季档日剧SP，阿部宽、黑木明纱主演）</li><li>《新参者》（2010年拍摄日剧，阿部宽、黑木明纱主演）</li><li>《麒麟之翼》&lt;麒麟の翼&gt;</li></ul><h2 id=\"神探伽利略-按列表顺序\"><a href=\"#神探伽利略-按列表顺序\" class=\"headerlink\" title=\"神探伽利略 (按列表顺序)\"></a>神探伽利略 (按列表顺序)</h2><ul><li>《侦探伽利略》&lt;探侦ガリレオ&gt;</li><li>《预知梦》&lt;予知梦&gt;</li><li>《嫌疑犯X的献身》&lt;容疑者Xの献身&gt;</li><li>《伽利略的苦恼》&lt;ガリレオの苦悩&gt;</li><li>《圣女的救济》&lt;圣女の救済&gt;</li><li>《盛夏的方程式》&lt;真夏の方程式&gt;</li><li>《虚像的小丑》&lt;虚像の道化师&gt;</li><li>《禁断的魔术》&lt;禁断の魔术&gt;</li></ul><h2 id=\"毒舌三部曲\"><a href=\"#毒舌三部曲\" class=\"headerlink\" title=\"毒舌三部曲\"></a>毒舌三部曲</h2><ul><li>怪笑小说</li><li>毒笑小说</li><li>黑笑小说</li></ul><h2 id=\"获奖作品\"><a href=\"#获奖作品\" class=\"headerlink\" title=\"获奖作品\"></a>获奖作品</h2><ul><li>1983年《人偶之家》第29届江戸川乱歩赏二次予选通过</li><li>1984年《魔球》第30届江戸川乱歩赏最终候补</li><li>1985年《放学后》夺得第31届江户川乱步奖，开始专职写作。</li><li>1988年《学生街杀人事件》第9届吉川英治文学新人赏候补・第41回日本推理作家协会赏（长编）候补</li><li>1990年《鸟人计划》第11届吉川英治文学新人赏候补</li><li>1991年《天使之耳》第44届日本推理作家协会赏（短编集）候补</li><li>1992年《镜之中》第45届日本推理作家协会赏（短编集）候补</li><li>1993年《雪地杀机》第46届日本推理作家协会赏（长编部）候补</li><li>1993年《交通警察之夜》第46届日本推理作家协会赏（短编集）候补</li><li>1996年《天空之蜂》第17届吉川英治文学新人赏候补</li><li>1997年《名侦探的守则》第18届吉川英治文学新人赏候补</li><li>1999年《秘密》第120届直木奖三十五赏候补，第20回吉川英治文学新人赏候补，第52回日本推理作家协会奖</li><li>2000年《白夜行》第122届直木奖三十五赏候补</li><li>2001年《单恋》第125届直木奖三十五赏候补</li><li>2003年《信》第129届直木奖三十五赏候补</li><li>2004年《幻夜》第131届直木三奖十五赏候补</li><li>2006年《嫌疑人X的献身》将第134届直木奖、第6届本格推理小说 大奖及当年度日本三大推理小说排行榜（“这本推理小说了不起！”、“周刊文春推理小说BEST10”、“本格推理小说 BEST10”）第1名一并收入囊中。</li><li>2008年《流星之绊》荣获第43届新风奖。</li><li>2009年《新参者》获“这本推理小说了不起！”、“周刊文春推理小说BEST10”年度第1名。</li><li>2012年《嫌疑犯X的献身》美国图书馆协会最推荐图书（推理部门）、爱伦·坡奖最优秀长编奖候补、巴瑞奖新人赏奖候补</li><li>2012年《浪矢杂货店的奇迹》第7届中央公论文艺奖</li></ul><hr><p>上面的作品今年都看完应该就不错了~ 毕竟做人都是要有目标的嘛,那么更远大的目标呢,就是下面的全部列表了。</p><hr><h2 id=\"作品列表\"><a href=\"#作品列表\" class=\"headerlink\" title=\"作品列表\"></a>作品列表</h2><h3 id=\"1985年\"><a href=\"#1985年\" class=\"headerlink\" title=\"1985年\"></a>1985年</h3><ol><li>《放学后》&lt;放课後&gt; （第31 届江户川乱步奖）</li></ol><h3 id=\"1986年\"><a href=\"#1986年\" class=\"headerlink\" title=\"1986年\"></a>1986年</h3><ol><li>《毕业——雪月花杀人游戏》（加贺恭一郎系列）（《毕业前杀人游戏》）&lt;卒业―雪月花杀人ゲーム&gt;</li><li>《白马山庄杀人事件》&lt;白马山荘杀人事件&gt;</li></ol><h3 id=\"1987年\"><a href=\"#1987年\" class=\"headerlink\" title=\"1987年\"></a>1987年</h3><ol><li>《学生街里的杀人事件》&lt;学生街の杀人&gt;（入围第41届日本推理作家协会赏）</li><li>《十一字杀人》（11文字の杀人）</li></ol><h3 id=\"1988年\"><a href=\"#1988年\" class=\"headerlink\" title=\"1988年\"></a>1988年</h3><ol><li>《魔球》</li><li>《以眨眼干杯》&lt;ウインクで乾杯&gt; 原名&lt;香子の梦―コンパニオン杀人事件&gt; / 《香子之梦——夥伴杀人事件》</li><li>《浪花少年侦探团》&lt;浪花少年探侦団&gt;</li></ol><h3 id=\"1989年\"><a href=\"#1989年\" class=\"headerlink\" title=\"1989年\"></a>1989年</h3><ol><li>《十字豪宅的小丑》&lt;十字屋敷のピエロ&gt;</li><li>《沉睡的森林》&lt;眠りの森&gt;（加贺恭一郎系列）（特别说明：并不是木村拓哉主演的那部电视剧）</li><li>《鸟人计划》&lt;鸟人计画&gt;（入围第11届吉川英治文学新人奖）</li><li>《杀人现场在云端》&lt;杀人现场は云の上&gt;</li><li>《布鲁特斯的心脏——完全犯罪杀人接力》&lt;ブルータスの心臓―完全犯罪杀人リレー&gt;</li></ol><h3 id=\"1990年\"><a href=\"#1990年\" class=\"headerlink\" title=\"1990年\"></a>1990年</h3><ol><li>《侦探俱乐部》&lt;探侦倶楽部&gt; 原名 &lt;依頼人の娘&gt;《负责人的女儿》<br>本短篇集包括：<ol><li>伪装之夜 / 伪装の夜</li><li>疯狂的电击 / 罠の中</li><li>少女委托人 / 依頼人の娘</li><li>伊豆旅馆的神秘案 / 探侦の使い方</li><li>玫瑰与匕首 / 蔷薇とナイフ</li></ol></li><li>《宿命》（2004年拍摄日剧SP，柏原崇、藤木直人主演）</li><li>《没有凶手的杀人夜》&lt;犯人のいない杀人の夜&gt;（曾刊载于推理杂志）<ol><li>小小的恶作剧故事 / 小さな故意の物语（2012年日剧《东野圭吾推理系列》第八集，三浦春马主演）</li><li>黑暗中的两个人 / 闇の中の二人</li><li>舞女 / 踊り子</li><li>无尽之夜 / エンドレス·ナイト（2012年日剧《东野圭吾推理系列》第三集，松下奈绪主演）</li><li>白色凶器 / 白い凶器（2012年日剧《东野圭吾推理系列》第七集，户田惠梨香主演）</li><li>别了，教练 / さよならコーチ（2012年日剧《东野圭吾推理系列》第一集，唐泽寿明主演）</li><li>没有凶手的杀人夜 / 犯人のいない杀人の夜（2012年日剧《东野圭吾推理系列》第二集，坂口宪二主演）</li></ol></li><li>《面具山庄杀人事件》&lt;仮面山荘杀人事件&gt;</li></ol><h3 id=\"1991年\"><a href=\"#1991年\" class=\"headerlink\" title=\"1991年\"></a>1991年</h3><ol><li>《变身》&lt;变身&gt;（2005年拍摄电影，玉木宏、苍井优主演）</li><li>《回廊亭杀人事件》&lt;回廊亭杀人事件&gt;（2012年06月24日播出日剧SP，主演：常盘贵子）</li><li>《天使之耳》&lt;交通警察の夜&gt;<ol><li>天使之耳/ 天使の耳</li><li>隔离带/ 分离帯</li><li>危险的新叶/ 危険な若叶</li><li>请通过/ 通りゃんせ</li><li>请勿弃物/ 舍てないで</li><li>镜之中/ 镜の中で</li></ol></li></ol><h3 id=\"1992年\"><a href=\"#1992年\" class=\"headerlink\" title=\"1992年\"></a>1992年</h3><ol><li>《雪地杀机》&lt;ある闭ざされた雪の山荘で&gt;</li><li>《美丽的凶器》&lt;美しき凶器&gt;</li></ol><h3 id=\"1993年\"><a href=\"#1993年\" class=\"headerlink\" title=\"1993年\"></a>1993年</h3><ol><li>《同班同学》&lt;同级生&gt;</li><li>《分身》（2012年2月12日播出日剧，主演：长泽雅美）</li><li>《和阿忍老师说再见——浪花少年侦探团·独立篇》&lt;しのぶセンセにサヨナラ―浪花少年探侦団·独立编&gt;</li></ol><h3 id=\"1994年\"><a href=\"#1994年\" class=\"headerlink\" title=\"1994年\"></a>1994年</h3><ol><li>《怪人们》 / 怪しい人びと<ol><li>沉睡的女人 / 寝ていた女</li><li>让我再听一次你的判罚 / もう一度コールしてくれ</li><li>至死方休 / 死んだら働けない</li><li>蜜月之旅 / 甘いはずなのに</li><li>新婚照之谜 / 结婚报告（2012年日剧《东野圭吾推理系列》第九集，广末凉子主演）</li><li>灯塔之上 / 灯台にて</li><li>哥斯达黎加的冷雨 / コスタリカの雨は冷たい</li></ol></li><li>《我以前死去的家》&lt;むかし仆が死んだ家&gt;</li><li>《操纵彩虹的少年》&lt;虹を操る少年&gt;</li></ol><h3 id=\"1995年\"><a href=\"#1995年\" class=\"headerlink\" title=\"1995年\"></a>1995年</h3><ol><li>《平行世界·爱情故事》&lt;パラレルワールド·ラブストーリー&gt;</li><li>《那个时候我们是傻瓜》（散文集）&lt;あの顷ぼくらはアホでした&gt;</li><li>《怪笑小说》<ol><li>郁积电车 / 郁积电车</li><li>追星阿婆 / おっかけバアさん</li><li>一彻老爸 / 一彻おやじ</li><li>逆转同学会 / 逆転同窓会</li><li>超狸理论 / 超たぬき理论</li><li>无人岛大相扑转播 / 无人岛大相扑中継</li><li>尸台社区 / しかばね台分譲住宅</li><li>献给某位老爷爷的线香 / あるジーサンに线香を</li><li>动物家庭 / 动物家族</li></ol></li><li>《天空之蜂》&lt;天空の蜂&gt;（入围第17届吉川英治文学新人奖）</li></ol><h3 id=\"1996年\"><a href=\"#1996年\" class=\"headerlink\" title=\"1996年\"></a>1996年</h3><ol><li>《名侦探的守则》&lt;名探侦の掟&gt;（2009春季日剧，松田翔太主演）</li><li>《谁杀了她》（加贺恭一郎系列）&lt;どちらかが彼女を杀した&gt;</li><li>《毒笑小说》<ol><li>绑架天国 / 诱拐天国</li><li>Angel / エンジェル</li><li>手工贵妇 / 手作りマダム</li><li>程序警察 / マニュアル警察（世界奇妙物语 2000秋季sp，玉置浩二主演，又名《准则警察》）</li><li>爷爷当家 / ホームアローンじいさん</li><li>新郎人偶 / 花婿人形</li><li>女作家 / 女流作家</li><li>杀意使用说明书 / 杀意取扱说明书（世界奇妙物语 2010秋季sp，玉木宏、冢本高史主演）</li><li>补偿 / つぐない</li><li>光荣的证言 / 栄光の证言</li><li>本格推理周边鉴定秀 / 本格推理関连グッズ鉴定ショー</li><li>绑架电话网 / 诱拐电话网</li></ol></li><li>《恶意》（加贺恭一郎系列）</li><li>《名侦探的诅咒》&lt;名探侦の呪缚&gt;</li></ol><h3 id=\"1998年\"><a href=\"#1998年\" class=\"headerlink\" title=\"1998年\"></a>1998年</h3><ol><li>《侦探伽利略》（神探伽利略系列第1部）&lt;探侦ガリレオ&gt;</li><li>《秘密》（第52届日本推理作家协会奖、第120 届直木奖入围）</li></ol><h3 id=\"1999年\"><a href=\"#1999年\" class=\"headerlink\" title=\"1999年\"></a>1999年</h3><ol><li>《我杀了他》（加贺恭一郎系列）&lt;私が彼を杀した&gt;</li><li>《白夜行》（第122 届直木奖入围）</li></ol><h3 id=\"2000年\"><a href=\"#2000年\" class=\"headerlink\" title=\"2000年\"></a>2000年</h3><ol><li>《又一个谎言》 （加贺恭一郎系列） &lt;嘘をもうひとつだけ&gt;　刊载于推理杂志220-224期<ol><li>又一个谎言 / 嘘をもうひとつだけ</li><li>寒冷的灼热 / 冷たい灼热</li><li>第二个希望 / 第二の希望</li><li>疯狂计算 / 狂った计算</li><li>朋友的忠告 / 友の助言</li></ol></li><li>《预知梦》（神探伽利略系列第2部）&lt;予知梦&gt;（2007年拍摄日剧《神探伽利略》6-10集，福山雅治、柴崎幸主演）</li></ol><h3 id=\"2001年\"><a href=\"#2001年\" class=\"headerlink\" title=\"2001年\"></a>2001年</h3><ol><li>《单恋》&lt;片想い&gt; （第125 届直木奖入围）</li><li>《超·杀人事件》&lt;超·杀人事件　推理作家の苦悩&gt;（「2003年世界奇妙物语春季篇」拍摄其中一个单元故事&lt;超税金对策杀人事件&gt;，西村雅彦、大冢宁宁主演）<ol><li>超税金对策杀人事件 / 超税金対策杀人事件</li><li>超理科杀人事件 / 超理系杀人事件</li><li>超猜凶手小说杀人事件 / 超犯人当て小说杀人事件（问题篇·解决篇）</li><li>超高龄化社会杀人事件 / 超高齢化社会杀人事件</li><li>超预告小说杀人事件 / 超予告小说杀人事件</li><li>超长篇小说杀人事件 / 超长编小说杀人事件</li><li>魔风馆杀人事件 / 魔风馆杀人事件（超最终回·ラスト五枚）</li><li>超读书机器杀人事件 / 超読书机械杀人事件</li></ol></li><li>《圣诞阿姨》 /サンタのおばさん（絵本：絵は杉田比吕美）</li></ol><h3 id=\"2002年\"><a href=\"#2002年\" class=\"headerlink\" title=\"2002年\"></a>2002年</h3><ol><li>《湖畔》&lt;レイクサイド&gt;（2002年拍摄电影，药师丸博子、丰川悦司、役所广司主演）</li><li>《时生》&lt;トキオ&gt;（2004年拍摄日剧，樱井翔主演，剧名为「给父亲的口信」）</li><li>《绑架游戏》&lt;ゲームの名は诱拐&gt;（2003年拍摄电影、藤木直人、仲间由纪惠主演）</li></ol><h3 id=\"2003年\"><a href=\"#2003年\" class=\"headerlink\" title=\"2003年\"></a>2003年</h3><ol><li>《信》&lt;手纸&gt;（第129 届直木奖入围）（2005年拍摄电影，山田孝之、泽尻英龙华主演）</li><li>《我是非常勤》&lt;おれは非情勤&gt; （注：本书书名和「 非常勤」（中文意为兼任）同音，是创作者特别设定的双关语趣味）</li><li>《杀人之门》&lt;杀人の门&gt;</li></ol><h3 id=\"2004年\"><a href=\"#2004年\" class=\"headerlink\" title=\"2004年\"></a>2004年</h3><ol><li>《幻夜》（第131 届直木奖入围）（2010年秋季档日剧，深田恭子、冢本高史主演）</li><li>《挑战？》（散文集）&lt;ちゃれんじ&gt;（散文集）</li><li>《彷徨之刃》&lt;さまよう刃&gt;（2009年改编为电影，竹野内丰主演）</li></ol><h3 id=\"2005年\"><a href=\"#2005年\" class=\"headerlink\" title=\"2005年\"></a>2005年</h3><ol><li>《黑笑小说》<ol><li>又一次助跑 / もうひとつの助走</li><li>线香花火 / 线香花火</li><li>过去的人 / 过去の人</li><li>评审会 / 选考会</li><li>巨乳妄想综合征 / 巨乳妄想症候群</li><li>无能药 / インポグラ</li><li>显微眼 / みえすぎ</li><li>钟情喷雾 / モテモテ·スプレー</li><li>灰姑娘白夜行 / シンデレラ白夜行</li><li>跟踪狂入门 / ストーカー入门</li><li>临界家族 / 临界家族</li><li>不笑的人 / 笑わない男</li><li>奇迹之照 / 奇迹の一枚</li></ol></li><li>《嫌疑犯X的献身》（神探伽利略系列第3部）&lt;容疑者Xの献身&gt;</li><li>《科学》（散文集）&lt;さいえんす&gt;</li></ol><h3 id=\"2006年\"><a href=\"#2006年\" class=\"headerlink\" title=\"2006年\"></a>2006年</h3><ol><li>《梦回都灵》（散文集）&lt;梦はトリノをかけめぐる&gt;</li><li>《红手指》（加贺恭一郎系列） &lt;赤い指&gt;（2011年冬季档日剧SP，阿部宽、黑木明纱主演）</li><li>《使命与心的极限》&lt;使命と魂のリミット&gt; （2011秋季档日剧SP，石原里美、速水重道主演）</li></ol><h3 id=\"2007年\"><a href=\"#2007年\" class=\"headerlink\" title=\"2007年\"></a>2007年</h3><ol><li>《也许是最后的寒暄》&lt;たぶん最後の御挨拶&gt;（散文集）</li><li>《黎明之街》&lt;夜明けの街で&gt;（2011年拍摄电影，深田恭子、岸谷五朗主演）</li><li>《濒死之眼》&lt;ダイイング·アイイ&gt;</li></ol><h3 id=\"2008年\"><a href=\"#2008年\" class=\"headerlink\" title=\"2008年\"></a>2008年</h3><ol><li>《流星之绊》&lt;流星の绊&gt;（2008年拍摄日剧，二宫和也、锦户亮、户田惠梨香主演）</li><li>《伽利略的苦恼》（神探伽利略系列第4部）&lt;ガリレオの苦悩&gt;</li><li>《圣女的救济》（神探伽利略系列第5部）&lt;圣女の救済&gt;</li></ol><h3 id=\"2009年\"><a href=\"#2009年\" class=\"headerlink\" title=\"2009年\"></a>2009年</h3><ol><li>《悖论13》台版译《异变13秒》&lt;パラドックス13&gt;</li><li>《新参者》（加贺恭一郎系列）（2010年拍摄日剧，阿部宽、黑木明纱主演）</li><li>《美丽的凶器》</li></ol><h3 id=\"2010年\"><a href=\"#2010年\" class=\"headerlink\" title=\"2010年\"></a>2010年</h3><ol><li>《布谷鸟的蛋是谁的》&lt;カッコウの卵は谁のもの&gt; 在《小说宝石》上连载时原题《フェイク》</li><li>《白金数据》&lt;プラチナデータ&gt;（2012年拍摄电影，二宫和也主演）</li><li>《白银杰克》&lt; 白银ジャック&gt;</li></ol><h3 id=\"2011年\"><a href=\"#2011年\" class=\"headerlink\" title=\"2011年\"></a>2011年</h3><ol><li>《你旁边是谁》&lt;あの顷の谁か&gt;<ol><li>全是字谜 / シャレードがいっぱい（2012年日剧《东野圭吾推理系列》第六集，长泽雅美主演）</li><li>Reiko和玲子 / 玲子とレイコ（2012年日剧《东野圭吾推理系列》第四集，观月阿丽莎主演）</li><li>再生魔术之女 / 再生魔术の女 （2012年日剧《东野圭吾推理系列》第十一集，铃木京香主演）</li><li>再见，“爸爸” / さよなら『お父さん』</li><li>名侦探退场 / 名探侦退场</li><li>母老虎 / 女も虎も</li><li>好困，我不想死 / りたい死にたくない</li><li>20年的约定 / 二十年目の约束（2012年日剧《东野圭吾推理系列》第十集，筱原凉子主演）</li></ol></li><li>《麒麟之翼》（加贺恭一郎系列）&lt;麒麟の翼&gt;（加贺恭一郎系列）</li><li>《牛奶箱的回答》&lt;回答は牛乳箱に&gt;（短篇 出自《小说 野性时代》 第89号）</li><li>《听心》&lt;心聴&gt;（短篇 出自《オール读物》2011年04月号）</li><li>《盛夏的方程式》（神探伽利略系列第6部）&lt;真夏の方程式&gt;</li><li>《假面舞馆》&lt;マスカレード·ホテル&gt; 暂定2012年9月9日出版</li><li>《歪笑小说》</li></ol><h3 id=\"2012年\"><a href=\"#2012年\" class=\"headerlink\" title=\"2012年\"></a>2012年</h3><ol><li>《虚像的小丑》（神探伽利略系列第7部）&lt;虚像の道化师 ガリレオ 7&gt;</li><li>《杂货店的奇迹》</li><li>《那个时候的谁》</li><li>《禁断的魔术》（神探伽利略系列第8部）&lt;禁断の魔术 ガリレオ8&gt;</li></ol><h3 id=\"2013年\"><a href=\"#2013年\" class=\"headerlink\" title=\"2013年\"></a>2013年</h3><ol><li>《梦幻花》（むげんばな）</li></ol>","excerpt":"","more":"<p>最近看了几篇 东野圭吾 的小说, 都还蛮有意思的。 像 《嫌疑人X的献身》, 《流星之绊》,《毕业》啊 等等,好多都记不住名字了。</p><p>于是决定把他的全集整理一下,留着有空都看一遍~</p><hr><h2 id=\"加贺恭一郎系列\"><a href=\"#加贺恭一郎系列\" class=\"headerlink\" title=\"加贺恭一郎系列\"></a>加贺恭一郎系列</h2><ul><li>《毕业——雪月花杀人游戏》（《毕业前杀人游戏》）&lt;卒业―雪月花杀人ゲーム&gt;</li><li>《沉睡的森林》&lt;眠りの森&gt;</li><li>《谁杀了她》&lt;どちらかが彼女を杀した&gt;</li><li>《恶意》</li><li>《我杀了他》&lt;私が彼を杀した&gt;</li><li>《又一个谎言》 &lt;嘘をもうひとつだけ&gt;　刊载于推理杂志220-224期</li><li>《红手指》 &lt;赤い指&gt;（2011年冬季档日剧SP，阿部宽、黑木明纱主演）</li><li>《新参者》（2010年拍摄日剧，阿部宽、黑木明纱主演）</li><li>《麒麟之翼》&lt;麒麟の翼&gt;</li></ul><h2 id=\"神探伽利略-按列表顺序\"><a href=\"#神探伽利略-按列表顺序\" class=\"headerlink\" title=\"神探伽利略 (按列表顺序)\"></a>神探伽利略 (按列表顺序)</h2><ul><li>《侦探伽利略》&lt;探侦ガリレオ&gt;</li><li>《预知梦》&lt;予知梦&gt;</li><li>《嫌疑犯X的献身》&lt;容疑者Xの献身&gt;</li><li>《伽利略的苦恼》&lt;ガリレオの苦悩&gt;</li><li>《圣女的救济》&lt;圣女の救済&gt;</li><li>《盛夏的方程式》&lt;真夏の方程式&gt;</li><li>《虚像的小丑》&lt;虚像の道化师&gt;</li><li>《禁断的魔术》&lt;禁断の魔术&gt;</li></ul><h2 id=\"毒舌三部曲\"><a href=\"#毒舌三部曲\" class=\"headerlink\" title=\"毒舌三部曲\"></a>毒舌三部曲</h2><ul><li>怪笑小说</li><li>毒笑小说</li><li>黑笑小说</li></ul><h2 id=\"获奖作品\"><a href=\"#获奖作品\" class=\"headerlink\" title=\"获奖作品\"></a>获奖作品</h2><ul><li>1983年《人偶之家》第29届江戸川乱歩赏二次予选通过</li><li>1984年《魔球》第30届江戸川乱歩赏最终候补</li><li>1985年《放学后》夺得第31届江户川乱步奖，开始专职写作。</li><li>1988年《学生街杀人事件》第9届吉川英治文学新人赏候补・第41回日本推理作家协会赏（长编）候补</li><li>1990年《鸟人计划》第11届吉川英治文学新人赏候补</li><li>1991年《天使之耳》第44届日本推理作家协会赏（短编集）候补</li><li>1992年《镜之中》第45届日本推理作家协会赏（短编集）候补</li><li>1993年《雪地杀机》第46届日本推理作家协会赏（长编部）候补</li><li>1993年《交通警察之夜》第46届日本推理作家协会赏（短编集）候补</li><li>1996年《天空之蜂》第17届吉川英治文学新人赏候补</li><li>1997年《名侦探的守则》第18届吉川英治文学新人赏候补</li><li>1999年《秘密》第120届直木奖三十五赏候补，第20回吉川英治文学新人赏候补，第52回日本推理作家协会奖</li><li>2000年《白夜行》第122届直木奖三十五赏候补</li><li>2001年《单恋》第125届直木奖三十五赏候补</li><li>2003年《信》第129届直木奖三十五赏候补</li><li>2004年《幻夜》第131届直木三奖十五赏候补</li><li>2006年《嫌疑人X的献身》将第134届直木奖、第6届本格推理小说 大奖及当年度日本三大推理小说排行榜（“这本推理小说了不起！”、“周刊文春推理小说BEST10”、“本格推理小说 BEST10”）第1名一并收入囊中。</li><li>2008年《流星之绊》荣获第43届新风奖。</li><li>2009年《新参者》获“这本推理小说了不起！”、“周刊文春推理小说BEST10”年度第1名。</li><li>2012年《嫌疑犯X的献身》美国图书馆协会最推荐图书（推理部门）、爱伦·坡奖最优秀长编奖候补、巴瑞奖新人赏奖候补</li><li>2012年《浪矢杂货店的奇迹》第7届中央公论文艺奖</li></ul><hr><p>上面的作品今年都看完应该就不错了~ 毕竟做人都是要有目标的嘛,那么更远大的目标呢,就是下面的全部列表了。</p><hr><h2 id=\"作品列表\"><a href=\"#作品列表\" class=\"headerlink\" title=\"作品列表\"></a>作品列表</h2><h3 id=\"1985年\"><a href=\"#1985年\" class=\"headerlink\" title=\"1985年\"></a>1985年</h3><ol><li>《放学后》&lt;放课後&gt; （第31 届江户川乱步奖）</li></ol><h3 id=\"1986年\"><a href=\"#1986年\" class=\"headerlink\" title=\"1986年\"></a>1986年</h3><ol><li>《毕业——雪月花杀人游戏》（加贺恭一郎系列）（《毕业前杀人游戏》）&lt;卒业―雪月花杀人ゲーム&gt;</li><li>《白马山庄杀人事件》&lt;白马山荘杀人事件&gt;</li></ol><h3 id=\"1987年\"><a href=\"#1987年\" class=\"headerlink\" title=\"1987年\"></a>1987年</h3><ol><li>《学生街里的杀人事件》&lt;学生街の杀人&gt;（入围第41届日本推理作家协会赏）</li><li>《十一字杀人》（11文字の杀人）</li></ol><h3 id=\"1988年\"><a href=\"#1988年\" class=\"headerlink\" title=\"1988年\"></a>1988年</h3><ol><li>《魔球》</li><li>《以眨眼干杯》&lt;ウインクで乾杯&gt; 原名&lt;香子の梦―コンパニオン杀人事件&gt; / 《香子之梦——夥伴杀人事件》</li><li>《浪花少年侦探团》&lt;浪花少年探侦団&gt;</li></ol><h3 id=\"1989年\"><a href=\"#1989年\" class=\"headerlink\" title=\"1989年\"></a>1989年</h3><ol><li>《十字豪宅的小丑》&lt;十字屋敷のピエロ&gt;</li><li>《沉睡的森林》&lt;眠りの森&gt;（加贺恭一郎系列）（特别说明：并不是木村拓哉主演的那部电视剧）</li><li>《鸟人计划》&lt;鸟人计画&gt;（入围第11届吉川英治文学新人奖）</li><li>《杀人现场在云端》&lt;杀人现场は云の上&gt;</li><li>《布鲁特斯的心脏——完全犯罪杀人接力》&lt;ブルータスの心臓―完全犯罪杀人リレー&gt;</li></ol><h3 id=\"1990年\"><a href=\"#1990年\" class=\"headerlink\" title=\"1990年\"></a>1990年</h3><ol><li>《侦探俱乐部》&lt;探侦倶楽部&gt; 原名 &lt;依頼人の娘&gt;《负责人的女儿》<br>本短篇集包括：<ol><li>伪装之夜 / 伪装の夜</li><li>疯狂的电击 / 罠の中</li><li>少女委托人 / 依頼人の娘</li><li>伊豆旅馆的神秘案 / 探侦の使い方</li><li>玫瑰与匕首 / 蔷薇とナイフ</li></ol></li><li>《宿命》（2004年拍摄日剧SP，柏原崇、藤木直人主演）</li><li>《没有凶手的杀人夜》&lt;犯人のいない杀人の夜&gt;（曾刊载于推理杂志）<ol><li>小小的恶作剧故事 / 小さな故意の物语（2012年日剧《东野圭吾推理系列》第八集，三浦春马主演）</li><li>黑暗中的两个人 / 闇の中の二人</li><li>舞女 / 踊り子</li><li>无尽之夜 / エンドレス·ナイト（2012年日剧《东野圭吾推理系列》第三集，松下奈绪主演）</li><li>白色凶器 / 白い凶器（2012年日剧《东野圭吾推理系列》第七集，户田惠梨香主演）</li><li>别了，教练 / さよならコーチ（2012年日剧《东野圭吾推理系列》第一集，唐泽寿明主演）</li><li>没有凶手的杀人夜 / 犯人のいない杀人の夜（2012年日剧《东野圭吾推理系列》第二集，坂口宪二主演）</li></ol></li><li>《面具山庄杀人事件》&lt;仮面山荘杀人事件&gt;</li></ol><h3 id=\"1991年\"><a href=\"#1991年\" class=\"headerlink\" title=\"1991年\"></a>1991年</h3><ol><li>《变身》&lt;变身&gt;（2005年拍摄电影，玉木宏、苍井优主演）</li><li>《回廊亭杀人事件》&lt;回廊亭杀人事件&gt;（2012年06月24日播出日剧SP，主演：常盘贵子）</li><li>《天使之耳》&lt;交通警察の夜&gt;<ol><li>天使之耳/ 天使の耳</li><li>隔离带/ 分离帯</li><li>危险的新叶/ 危険な若叶</li><li>请通过/ 通りゃんせ</li><li>请勿弃物/ 舍てないで</li><li>镜之中/ 镜の中で</li></ol></li></ol><h3 id=\"1992年\"><a href=\"#1992年\" class=\"headerlink\" title=\"1992年\"></a>1992年</h3><ol><li>《雪地杀机》&lt;ある闭ざされた雪の山荘で&gt;</li><li>《美丽的凶器》&lt;美しき凶器&gt;</li></ol><h3 id=\"1993年\"><a href=\"#1993年\" class=\"headerlink\" title=\"1993年\"></a>1993年</h3><ol><li>《同班同学》&lt;同级生&gt;</li><li>《分身》（2012年2月12日播出日剧，主演：长泽雅美）</li><li>《和阿忍老师说再见——浪花少年侦探团·独立篇》&lt;しのぶセンセにサヨナラ―浪花少年探侦団·独立编&gt;</li></ol><h3 id=\"1994年\"><a href=\"#1994年\" class=\"headerlink\" title=\"1994年\"></a>1994年</h3><ol><li>《怪人们》 / 怪しい人びと<ol><li>沉睡的女人 / 寝ていた女</li><li>让我再听一次你的判罚 / もう一度コールしてくれ</li><li>至死方休 / 死んだら働けない</li><li>蜜月之旅 / 甘いはずなのに</li><li>新婚照之谜 / 结婚报告（2012年日剧《东野圭吾推理系列》第九集，广末凉子主演）</li><li>灯塔之上 / 灯台にて</li><li>哥斯达黎加的冷雨 / コスタリカの雨は冷たい</li></ol></li><li>《我以前死去的家》&lt;むかし仆が死んだ家&gt;</li><li>《操纵彩虹的少年》&lt;虹を操る少年&gt;</li></ol><h3 id=\"1995年\"><a href=\"#1995年\" class=\"headerlink\" title=\"1995年\"></a>1995年</h3><ol><li>《平行世界·爱情故事》&lt;パラレルワールド·ラブストーリー&gt;</li><li>《那个时候我们是傻瓜》（散文集）&lt;あの顷ぼくらはアホでした&gt;</li><li>《怪笑小说》<ol><li>郁积电车 / 郁积电车</li><li>追星阿婆 / おっかけバアさん</li><li>一彻老爸 / 一彻おやじ</li><li>逆转同学会 / 逆転同窓会</li><li>超狸理论 / 超たぬき理论</li><li>无人岛大相扑转播 / 无人岛大相扑中継</li><li>尸台社区 / しかばね台分譲住宅</li><li>献给某位老爷爷的线香 / あるジーサンに线香を</li><li>动物家庭 / 动物家族</li></ol></li><li>《天空之蜂》&lt;天空の蜂&gt;（入围第17届吉川英治文学新人奖）</li></ol><h3 id=\"1996年\"><a href=\"#1996年\" class=\"headerlink\" title=\"1996年\"></a>1996年</h3><ol><li>《名侦探的守则》&lt;名探侦の掟&gt;（2009春季日剧，松田翔太主演）</li><li>《谁杀了她》（加贺恭一郎系列）&lt;どちらかが彼女を杀した&gt;</li><li>《毒笑小说》<ol><li>绑架天国 / 诱拐天国</li><li>Angel / エンジェル</li><li>手工贵妇 / 手作りマダム</li><li>程序警察 / マニュアル警察（世界奇妙物语 2000秋季sp，玉置浩二主演，又名《准则警察》）</li><li>爷爷当家 / ホームアローンじいさん</li><li>新郎人偶 / 花婿人形</li><li>女作家 / 女流作家</li><li>杀意使用说明书 / 杀意取扱说明书（世界奇妙物语 2010秋季sp，玉木宏、冢本高史主演）</li><li>补偿 / つぐない</li><li>光荣的证言 / 栄光の证言</li><li>本格推理周边鉴定秀 / 本格推理関连グッズ鉴定ショー</li><li>绑架电话网 / 诱拐电话网</li></ol></li><li>《恶意》（加贺恭一郎系列）</li><li>《名侦探的诅咒》&lt;名探侦の呪缚&gt;</li></ol><h3 id=\"1998年\"><a href=\"#1998年\" class=\"headerlink\" title=\"1998年\"></a>1998年</h3><ol><li>《侦探伽利略》（神探伽利略系列第1部）&lt;探侦ガリレオ&gt;</li><li>《秘密》（第52届日本推理作家协会奖、第120 届直木奖入围）</li></ol><h3 id=\"1999年\"><a href=\"#1999年\" class=\"headerlink\" title=\"1999年\"></a>1999年</h3><ol><li>《我杀了他》（加贺恭一郎系列）&lt;私が彼を杀した&gt;</li><li>《白夜行》（第122 届直木奖入围）</li></ol><h3 id=\"2000年\"><a href=\"#2000年\" class=\"headerlink\" title=\"2000年\"></a>2000年</h3><ol><li>《又一个谎言》 （加贺恭一郎系列） &lt;嘘をもうひとつだけ&gt;　刊载于推理杂志220-224期<ol><li>又一个谎言 / 嘘をもうひとつだけ</li><li>寒冷的灼热 / 冷たい灼热</li><li>第二个希望 / 第二の希望</li><li>疯狂计算 / 狂った计算</li><li>朋友的忠告 / 友の助言</li></ol></li><li>《预知梦》（神探伽利略系列第2部）&lt;予知梦&gt;（2007年拍摄日剧《神探伽利略》6-10集，福山雅治、柴崎幸主演）</li></ol><h3 id=\"2001年\"><a href=\"#2001年\" class=\"headerlink\" title=\"2001年\"></a>2001年</h3><ol><li>《单恋》&lt;片想い&gt; （第125 届直木奖入围）</li><li>《超·杀人事件》&lt;超·杀人事件　推理作家の苦悩&gt;（「2003年世界奇妙物语春季篇」拍摄其中一个单元故事&lt;超税金对策杀人事件&gt;，西村雅彦、大冢宁宁主演）<ol><li>超税金对策杀人事件 / 超税金対策杀人事件</li><li>超理科杀人事件 / 超理系杀人事件</li><li>超猜凶手小说杀人事件 / 超犯人当て小说杀人事件（问题篇·解决篇）</li><li>超高龄化社会杀人事件 / 超高齢化社会杀人事件</li><li>超预告小说杀人事件 / 超予告小说杀人事件</li><li>超长篇小说杀人事件 / 超长编小说杀人事件</li><li>魔风馆杀人事件 / 魔风馆杀人事件（超最终回·ラスト五枚）</li><li>超读书机器杀人事件 / 超読书机械杀人事件</li></ol></li><li>《圣诞阿姨》 /サンタのおばさん（絵本：絵は杉田比吕美）</li></ol><h3 id=\"2002年\"><a href=\"#2002年\" class=\"headerlink\" title=\"2002年\"></a>2002年</h3><ol><li>《湖畔》&lt;レイクサイド&gt;（2002年拍摄电影，药师丸博子、丰川悦司、役所广司主演）</li><li>《时生》&lt;トキオ&gt;（2004年拍摄日剧，樱井翔主演，剧名为「给父亲的口信」）</li><li>《绑架游戏》&lt;ゲームの名は诱拐&gt;（2003年拍摄电影、藤木直人、仲间由纪惠主演）</li></ol><h3 id=\"2003年\"><a href=\"#2003年\" class=\"headerlink\" title=\"2003年\"></a>2003年</h3><ol><li>《信》&lt;手纸&gt;（第129 届直木奖入围）（2005年拍摄电影，山田孝之、泽尻英龙华主演）</li><li>《我是非常勤》&lt;おれは非情勤&gt; （注：本书书名和「 非常勤」（中文意为兼任）同音，是创作者特别设定的双关语趣味）</li><li>《杀人之门》&lt;杀人の门&gt;</li></ol><h3 id=\"2004年\"><a href=\"#2004年\" class=\"headerlink\" title=\"2004年\"></a>2004年</h3><ol><li>《幻夜》（第131 届直木奖入围）（2010年秋季档日剧，深田恭子、冢本高史主演）</li><li>《挑战？》（散文集）&lt;ちゃれんじ&gt;（散文集）</li><li>《彷徨之刃》&lt;さまよう刃&gt;（2009年改编为电影，竹野内丰主演）</li></ol><h3 id=\"2005年\"><a href=\"#2005年\" class=\"headerlink\" title=\"2005年\"></a>2005年</h3><ol><li>《黑笑小说》<ol><li>又一次助跑 / もうひとつの助走</li><li>线香花火 / 线香花火</li><li>过去的人 / 过去の人</li><li>评审会 / 选考会</li><li>巨乳妄想综合征 / 巨乳妄想症候群</li><li>无能药 / インポグラ</li><li>显微眼 / みえすぎ</li><li>钟情喷雾 / モテモテ·スプレー</li><li>灰姑娘白夜行 / シンデレラ白夜行</li><li>跟踪狂入门 / ストーカー入门</li><li>临界家族 / 临界家族</li><li>不笑的人 / 笑わない男</li><li>奇迹之照 / 奇迹の一枚</li></ol></li><li>《嫌疑犯X的献身》（神探伽利略系列第3部）&lt;容疑者Xの献身&gt;</li><li>《科学》（散文集）&lt;さいえんす&gt;</li></ol><h3 id=\"2006年\"><a href=\"#2006年\" class=\"headerlink\" title=\"2006年\"></a>2006年</h3><ol><li>《梦回都灵》（散文集）&lt;梦はトリノをかけめぐる&gt;</li><li>《红手指》（加贺恭一郎系列） &lt;赤い指&gt;（2011年冬季档日剧SP，阿部宽、黑木明纱主演）</li><li>《使命与心的极限》&lt;使命と魂のリミット&gt; （2011秋季档日剧SP，石原里美、速水重道主演）</li></ol><h3 id=\"2007年\"><a href=\"#2007年\" class=\"headerlink\" title=\"2007年\"></a>2007年</h3><ol><li>《也许是最后的寒暄》&lt;たぶん最後の御挨拶&gt;（散文集）</li><li>《黎明之街》&lt;夜明けの街で&gt;（2011年拍摄电影，深田恭子、岸谷五朗主演）</li><li>《濒死之眼》&lt;ダイイング·アイイ&gt;</li></ol><h3 id=\"2008年\"><a href=\"#2008年\" class=\"headerlink\" title=\"2008年\"></a>2008年</h3><ol><li>《流星之绊》&lt;流星の绊&gt;（2008年拍摄日剧，二宫和也、锦户亮、户田惠梨香主演）</li><li>《伽利略的苦恼》（神探伽利略系列第4部）&lt;ガリレオの苦悩&gt;</li><li>《圣女的救济》（神探伽利略系列第5部）&lt;圣女の救済&gt;</li></ol><h3 id=\"2009年\"><a href=\"#2009年\" class=\"headerlink\" title=\"2009年\"></a>2009年</h3><ol><li>《悖论13》台版译《异变13秒》&lt;パラドックス13&gt;</li><li>《新参者》（加贺恭一郎系列）（2010年拍摄日剧，阿部宽、黑木明纱主演）</li><li>《美丽的凶器》</li></ol><h3 id=\"2010年\"><a href=\"#2010年\" class=\"headerlink\" title=\"2010年\"></a>2010年</h3><ol><li>《布谷鸟的蛋是谁的》&lt;カッコウの卵は谁のもの&gt; 在《小说宝石》上连载时原题《フェイク》</li><li>《白金数据》&lt;プラチナデータ&gt;（2012年拍摄电影，二宫和也主演）</li><li>《白银杰克》&lt; 白银ジャック&gt;</li></ol><h3 id=\"2011年\"><a href=\"#2011年\" class=\"headerlink\" title=\"2011年\"></a>2011年</h3><ol><li>《你旁边是谁》&lt;あの顷の谁か&gt;<ol><li>全是字谜 / シャレードがいっぱい（2012年日剧《东野圭吾推理系列》第六集，长泽雅美主演）</li><li>Reiko和玲子 / 玲子とレイコ（2012年日剧《东野圭吾推理系列》第四集，观月阿丽莎主演）</li><li>再生魔术之女 / 再生魔术の女 （2012年日剧《东野圭吾推理系列》第十一集，铃木京香主演）</li><li>再见，“爸爸” / さよなら『お父さん』</li><li>名侦探退场 / 名探侦退场</li><li>母老虎 / 女も虎も</li><li>好困，我不想死 / りたい死にたくない</li><li>20年的约定 / 二十年目の约束（2012年日剧《东野圭吾推理系列》第十集，筱原凉子主演）</li></ol></li><li>《麒麟之翼》（加贺恭一郎系列）&lt;麒麟の翼&gt;（加贺恭一郎系列）</li><li>《牛奶箱的回答》&lt;回答は牛乳箱に&gt;（短篇 出自《小说 野性时代》 第89号）</li><li>《听心》&lt;心聴&gt;（短篇 出自《オール读物》2011年04月号）</li><li>《盛夏的方程式》（神探伽利略系列第6部）&lt;真夏の方程式&gt;</li><li>《假面舞馆》&lt;マスカレード·ホテル&gt; 暂定2012年9月9日出版</li><li>《歪笑小说》</li></ol><h3 id=\"2012年\"><a href=\"#2012年\" class=\"headerlink\" title=\"2012年\"></a>2012年</h3><ol><li>《虚像的小丑》（神探伽利略系列第7部）&lt;虚像の道化师 ガリレオ 7&gt;</li><li>《杂货店的奇迹》</li><li>《那个时候的谁》</li><li>《禁断的魔术》（神探伽利略系列第8部）&lt;禁断の魔术 ガリレオ8&gt;</li></ol><h3 id=\"2013年\"><a href=\"#2013年\" class=\"headerlink\" title=\"2013年\"></a>2013年</h3><ol><li>《梦幻花》（むげんばな）</li></ol>"},{"title":"JavaScript 绑定 this","date":"2016-12-30T02:28:20.000Z","_content":"\n其实这篇文章主要是介绍这个东西 [Proposal Bind Operator](https://github.com/tc39/proposal-bind-operator) 或者 [bind_operator](http://wiki.ecmascript.org/doku.php?id=strawman:bind_operator)。\n\n也是在一个很偶然的机会看到了，git 上面的一个项目用到了这个用法，为什么自己发现不了这些东西呢？\n\n## 传统的 this 绑定\n\n### 在函数外面暂存一个变量\n```js\n// 别名\nvar self = this;\nsetTimeout(function() {\n  this.doSomething();\n}, 1000);\n```\n\n### 使用 bind 函数 & 箭头函数\n\n在使用 `class *** extends React.Component {}` 的写法声明 React 组件的时候，组件的方法都不会被自动绑定 this 了，下面的两种方法比较常见：\n\n```js\n// bind\nsetTimeout(\n  function() {\n    this.doSomething();\n  }.bind(this), \n  1000\n);\n```\n\n使用 `bind` 方法显得稍微有点长，不太好看，不过很好用。\n\n```js\n// var _this = this;\n\n// bind\nsetTimeout(\n  () => {\n    // _this.doSomething();\n    this.doSomething();\n  }, \n  1000\n);\n```\n\n箭头函数在经过`babel`编译后， 差不多就是注释的部分了， 还是用的暂存的办法保存了 `this`，但是写法就简单了太多。\n\n### ::\n\n看到这种语法之后，感觉其他的都弱爆了。\n\n在 React 里面，可以这么写\n\n```jsx\n// { title: '******************', onConfirm: this.handleSave.bind(this) },\n<Popconfirm title=\"确定要保存吗？\" onConfirm={::this.handleSave}>\n  <Button type=\"ghost\" >保存</Button>\n</Popconfirm>\n```\n\n可以看到，注释部分表示的编译后的代码，就是用 `bind` 实现的。\n\n双冒号前面的对象就是 `bind` 的参数， 如果没有就是当前的 `this`, 毕竟这种做法就是用来做绑定的。\n\n但是有一个问题，就是像这样的需求不好实现，\n\n```jsx\n<Button\n  type=\"ghost\"\n  icon=\"edit\"\n  onClick={this.handleEdit.bind(this, item)}\n/>\n```\n\n然后就是黑人问号脸，我试了几种形式 (当然不能用 bind 方法，否则这 :: 没有意义了)\n\n* [this, item]::this.handleEdit\n* (this, item)::this.handleEdit  // hhh\n* this::this.handleEdit(item)    // hhh\n\n感觉唯一靠谱的就是第一种写法了， 编译之后\n\n```js\n_react2.default.createElement(\n  _button2.default,\n  { \n    type: 'ghost', \n    icon: 'edit', \n    onClick: (_context = [this, item], this.handleEdit).bind(_context) \n  },\n  ''\n)\n```\n\n这样 bind 之后的方法内的 this 是一个数组，要想获取到真正的 this, 在 handleEdit 中还需要做\n\n```js\nfunction handleEdit () {\n  // this: [this, item]\n  // 感觉好尴尬~\n  console.log(this[0]);\n  // const [ _this, item ] = this;\n}\n```\n\n> 所以呢 在需要绑定 this 并且要添加额外参数的时候，就不要用 **::** 了。老老实实用 **bind** 就好了。\n\n## 箭头函数声明在 class 里面\n\n```jsx\nclass Example extends React.Component {\n\n  handleButtonClick = (e) => {\n    this.setState({ loading: true });\n  };\n\n  render() {\n    return <Button onClick={this.handleButtonClick}>;\n  }\n\n}\n\n// var Example = React.createClass({\n//\n//   handleButtonClick: function(e) {\n//     this.setState({ loading: true });\n//   },\n//   ...\n// });\n\n```\n\n这样应该是最简单的方式了，因为是自动绑定 this 的（与注释中的代码效果是一样的）。\n\n以上。\n","source":"_posts/js-bind-this.md","raw":"title: JavaScript 绑定 this\ntags:\n  - this\n  - js\ncategories:\n  - JavaScript\ndate: 2016-12-30 10:28:20\n---\n\n其实这篇文章主要是介绍这个东西 [Proposal Bind Operator](https://github.com/tc39/proposal-bind-operator) 或者 [bind_operator](http://wiki.ecmascript.org/doku.php?id=strawman:bind_operator)。\n\n也是在一个很偶然的机会看到了，git 上面的一个项目用到了这个用法，为什么自己发现不了这些东西呢？\n\n## 传统的 this 绑定\n\n### 在函数外面暂存一个变量\n```js\n// 别名\nvar self = this;\nsetTimeout(function() {\n  this.doSomething();\n}, 1000);\n```\n\n### 使用 bind 函数 & 箭头函数\n\n在使用 `class *** extends React.Component {}` 的写法声明 React 组件的时候，组件的方法都不会被自动绑定 this 了，下面的两种方法比较常见：\n\n```js\n// bind\nsetTimeout(\n  function() {\n    this.doSomething();\n  }.bind(this), \n  1000\n);\n```\n\n使用 `bind` 方法显得稍微有点长，不太好看，不过很好用。\n\n```js\n// var _this = this;\n\n// bind\nsetTimeout(\n  () => {\n    // _this.doSomething();\n    this.doSomething();\n  }, \n  1000\n);\n```\n\n箭头函数在经过`babel`编译后， 差不多就是注释的部分了， 还是用的暂存的办法保存了 `this`，但是写法就简单了太多。\n\n### ::\n\n看到这种语法之后，感觉其他的都弱爆了。\n\n在 React 里面，可以这么写\n\n```jsx\n// { title: '******************', onConfirm: this.handleSave.bind(this) },\n<Popconfirm title=\"确定要保存吗？\" onConfirm={::this.handleSave}>\n  <Button type=\"ghost\" >保存</Button>\n</Popconfirm>\n```\n\n可以看到，注释部分表示的编译后的代码，就是用 `bind` 实现的。\n\n双冒号前面的对象就是 `bind` 的参数， 如果没有就是当前的 `this`, 毕竟这种做法就是用来做绑定的。\n\n但是有一个问题，就是像这样的需求不好实现，\n\n```jsx\n<Button\n  type=\"ghost\"\n  icon=\"edit\"\n  onClick={this.handleEdit.bind(this, item)}\n/>\n```\n\n然后就是黑人问号脸，我试了几种形式 (当然不能用 bind 方法，否则这 :: 没有意义了)\n\n* [this, item]::this.handleEdit\n* (this, item)::this.handleEdit  // hhh\n* this::this.handleEdit(item)    // hhh\n\n感觉唯一靠谱的就是第一种写法了， 编译之后\n\n```js\n_react2.default.createElement(\n  _button2.default,\n  { \n    type: 'ghost', \n    icon: 'edit', \n    onClick: (_context = [this, item], this.handleEdit).bind(_context) \n  },\n  ''\n)\n```\n\n这样 bind 之后的方法内的 this 是一个数组，要想获取到真正的 this, 在 handleEdit 中还需要做\n\n```js\nfunction handleEdit () {\n  // this: [this, item]\n  // 感觉好尴尬~\n  console.log(this[0]);\n  // const [ _this, item ] = this;\n}\n```\n\n> 所以呢 在需要绑定 this 并且要添加额外参数的时候，就不要用 **::** 了。老老实实用 **bind** 就好了。\n\n## 箭头函数声明在 class 里面\n\n```jsx\nclass Example extends React.Component {\n\n  handleButtonClick = (e) => {\n    this.setState({ loading: true });\n  };\n\n  render() {\n    return <Button onClick={this.handleButtonClick}>;\n  }\n\n}\n\n// var Example = React.createClass({\n//\n//   handleButtonClick: function(e) {\n//     this.setState({ loading: true });\n//   },\n//   ...\n// });\n\n```\n\n这样应该是最简单的方式了，因为是自动绑定 this 的（与注释中的代码效果是一样的）。\n\n以上。\n","slug":"js-bind-this","published":1,"updated":"2016-12-30T03:55:16.592Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqk001j8gnyd4ap54dn","content":"<p>其实这篇文章主要是介绍这个东西 <a href=\"https://github.com/tc39/proposal-bind-operator\" target=\"_blank\" rel=\"external\">Proposal Bind Operator</a> 或者 <a href=\"http://wiki.ecmascript.org/doku.php?id=strawman:bind_operator\" target=\"_blank\" rel=\"external\">bind_operator</a>。</p><p>也是在一个很偶然的机会看到了，git 上面的一个项目用到了这个用法，为什么自己发现不了这些东西呢？</p><h2 id=\"传统的-this-绑定\"><a href=\"#传统的-this-绑定\" class=\"headerlink\" title=\"传统的 this 绑定\"></a>传统的 this 绑定</h2><h3 id=\"在函数外面暂存一个变量\"><a href=\"#在函数外面暂存一个变量\" class=\"headerlink\" title=\"在函数外面暂存一个变量\"></a>在函数外面暂存一个变量</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 别名</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> self = <span class=\"keyword\">this</span>;</span>\n<span class=\"line\">setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">this</span>.doSomething();</span>\n<span class=\"line\">&#125;, <span class=\"number\">1000</span>);</span>\n</pre></td></tr></table></figure><h3 id=\"使用-bind-函数-amp-箭头函数\"><a href=\"#使用-bind-函数-amp-箭头函数\" class=\"headerlink\" title=\"使用 bind 函数 &amp; 箭头函数\"></a>使用 bind 函数 &amp; 箭头函数</h3><p>在使用 <code>class *** extends React.Component {}</code> 的写法声明 React 组件的时候，组件的方法都不会被自动绑定 this 了，下面的两种方法比较常见：</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bind</span></span>\n<span class=\"line\">setTimeout(</span>\n<span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.doSomething();</span>\n<span class=\"line\">  &#125;.bind(<span class=\"keyword\">this</span>), </span>\n<span class=\"line\">  <span class=\"number\">1000</span></span>\n<span class=\"line\">);</span>\n</pre></td></tr></table></figure><p>使用 <code>bind</code> 方法显得稍微有点长，不太好看，不过很好用。</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// var _this = this;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// bind</span></span>\n<span class=\"line\">setTimeout(</span>\n<span class=\"line\">  <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"comment\">// _this.doSomething();</span></span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.doSomething();</span>\n<span class=\"line\">  &#125;, </span>\n<span class=\"line\">  <span class=\"number\">1000</span></span>\n<span class=\"line\">);</span>\n</pre></td></tr></table></figure><p>箭头函数在经过<code>babel</code>编译后， 差不多就是注释的部分了， 还是用的暂存的办法保存了 <code>this</code>，但是写法就简单了太多。</p><h3><a href=\"#\" class=\"headerlink\" title=\"::\"></a>::</h3><p>看到这种语法之后，感觉其他的都弱爆了。</p><p>在 React 里面，可以这么写</p><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// &#123; title: '******************', onConfirm: this.handleSave.bind(this) &#125;,</span></span>\n<span class=\"line\">&lt;Popconfirm title=<span class=\"string\">\"确定要保存吗？\"</span> onConfirm=&#123;::<span class=\"keyword\">this</span>.handleSave&#125;&gt;</span>\n<span class=\"line\">  <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"ghost\"</span> &gt;</span>保存<span class=\"tag\">&lt;/<span class=\"name\">Button</span>&gt;</span></span></span>\n<span class=\"line\">&lt;<span class=\"regexp\">/Popconfirm&gt;</span></span>\n</pre></td></tr></table></figure><p>可以看到，注释部分表示的编译后的代码，就是用 <code>bind</code> 实现的。</p><p>双冒号前面的对象就是 <code>bind</code> 的参数， 如果没有就是当前的 <code>this</code>, 毕竟这种做法就是用来做绑定的。</p><p>但是有一个问题，就是像这样的需求不好实现，</p><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Button</span>\n<span class=\"line\">  type=<span class=\"string\">\"ghost\"</span></span>\n<span class=\"line\">  icon=<span class=\"string\">\"edit\"</span></span>\n<span class=\"line\">  onClick=&#123;<span class=\"keyword\">this</span>.handleEdit.bind(<span class=\"keyword\">this</span>, item)&#125;</span>\n<span class=\"line\">/&gt;</span>\n</pre></td></tr></table></figure><p>然后就是黑人问号脸，我试了几种形式 (当然不能用 bind 方法，否则这 :: 没有意义了)</p><ul><li>[this, item]::this.handleEdit</li><li>(this, item)::this.handleEdit // hhh</li><li>this::this.handleEdit(item) // hhh</li></ul><p>感觉唯一靠谱的就是第一种写法了， 编译之后</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">_react2.default.createElement(</span>\n<span class=\"line\">  _button2.default,</span>\n<span class=\"line\">  &#123; </span>\n<span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"string\">'ghost'</span>, </span>\n<span class=\"line\">    <span class=\"attr\">icon</span>: <span class=\"string\">'edit'</span>, </span>\n<span class=\"line\">    <span class=\"attr\">onClick</span>: (_context = [<span class=\"keyword\">this</span>, item], <span class=\"keyword\">this</span>.handleEdit).bind(_context) </span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  <span class=\"string\">''</span></span>\n<span class=\"line\">)</span>\n</pre></td></tr></table></figure><p>这样 bind 之后的方法内的 this 是一个数组，要想获取到真正的 this, 在 handleEdit 中还需要做</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handleEdit</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"comment\">// this: [this, item]</span></span>\n<span class=\"line\">  <span class=\"comment\">// 感觉好尴尬~</span></span>\n<span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>[<span class=\"number\">0</span>]);</span>\n<span class=\"line\">  <span class=\"comment\">// const [ _this, item ] = this;</span></span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><blockquote><p>所以呢 在需要绑定 this 并且要添加额外参数的时候，就不要用 <strong>::</strong> 了。老老实实用 <strong>bind</strong> 就好了。</p></blockquote><h2 id=\"箭头函数声明在-class-里面\"><a href=\"#箭头函数声明在-class-里面\" class=\"headerlink\" title=\"箭头函数声明在 class 里面\"></a>箭头函数声明在 class 里面</h2><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleButtonClick = <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.setState(&#123; <span class=\"attr\">loading</span>: <span class=\"literal\">true</span> &#125;);</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.handleButtonClick&#125;</span>&gt;</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">// var Example = React.createClass(&#123;</span>\n<span class=\"line\">//</span>\n<span class=\"line\">//   handleButtonClick: function(e) &#123;</span>\n<span class=\"line\">//     this.setState(&#123; loading: true &#125;);</span>\n<span class=\"line\">//   &#125;,</span>\n<span class=\"line\">//   ...</span>\n<span class=\"line\">// &#125;);</span></span>\n</pre></td></tr></table></figure><p>这样应该是最简单的方式了，因为是自动绑定 this 的（与注释中的代码效果是一样的）。</p><p>以上。</p>","excerpt":"","more":"<p>其实这篇文章主要是介绍这个东西 <a href=\"https://github.com/tc39/proposal-bind-operator\">Proposal Bind Operator</a> 或者 <a href=\"http://wiki.ecmascript.org/doku.php?id=strawman:bind_operator\">bind_operator</a>。</p><p>也是在一个很偶然的机会看到了，git 上面的一个项目用到了这个用法，为什么自己发现不了这些东西呢？</p><h2 id=\"传统的-this-绑定\"><a href=\"#传统的-this-绑定\" class=\"headerlink\" title=\"传统的 this 绑定\"></a>传统的 this 绑定</h2><h3 id=\"在函数外面暂存一个变量\"><a href=\"#在函数外面暂存一个变量\" class=\"headerlink\" title=\"在函数外面暂存一个变量\"></a>在函数外面暂存一个变量</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 别名</span></span>\n<span class=\"line\"><span class=\"keyword\">var</span> self = <span class=\"keyword\">this</span>;</span>\n<span class=\"line\">setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">this</span>.doSomething();</span>\n<span class=\"line\">&#125;, <span class=\"number\">1000</span>);</span>\n</pre></td></tr></table></figure><h3 id=\"使用-bind-函数-amp-箭头函数\"><a href=\"#使用-bind-函数-amp-箭头函数\" class=\"headerlink\" title=\"使用 bind 函数 &amp; 箭头函数\"></a>使用 bind 函数 &amp; 箭头函数</h3><p>在使用 <code>class *** extends React.Component {}</code> 的写法声明 React 组件的时候，组件的方法都不会被自动绑定 this 了，下面的两种方法比较常见：</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bind</span></span>\n<span class=\"line\">setTimeout(</span>\n<span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.doSomething();</span>\n<span class=\"line\">  &#125;.bind(<span class=\"keyword\">this</span>), </span>\n<span class=\"line\">  <span class=\"number\">1000</span></span>\n<span class=\"line\">);</span>\n</pre></td></tr></table></figure><p>使用 <code>bind</code> 方法显得稍微有点长，不太好看，不过很好用。</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// var _this = this;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// bind</span></span>\n<span class=\"line\">setTimeout(</span>\n<span class=\"line\">  <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"comment\">// _this.doSomething();</span></span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.doSomething();</span>\n<span class=\"line\">  &#125;, </span>\n<span class=\"line\">  <span class=\"number\">1000</span></span>\n<span class=\"line\">);</span>\n</pre></td></tr></table></figure><p>箭头函数在经过<code>babel</code>编译后， 差不多就是注释的部分了， 还是用的暂存的办法保存了 <code>this</code>，但是写法就简单了太多。</p><h3><a href=\"#\" class=\"headerlink\" title=\"::\"></a>::</h3><p>看到这种语法之后，感觉其他的都弱爆了。</p><p>在 React 里面，可以这么写</p><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// &#123; title: '******************', onConfirm: this.handleSave.bind(this) &#125;,</span></span>\n<span class=\"line\">&lt;Popconfirm title=<span class=\"string\">\"确定要保存吗？\"</span> onConfirm=&#123;::<span class=\"keyword\">this</span>.handleSave&#125;&gt;</span>\n<span class=\"line\">  <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"ghost\"</span> &gt;</span>保存<span class=\"tag\">&lt;/<span class=\"name\">Button</span>&gt;</span></span></span>\n<span class=\"line\">&lt;<span class=\"regexp\">/Popconfirm&gt;</span></span>\n</pre></td></tr></table></figure><p>可以看到，注释部分表示的编译后的代码，就是用 <code>bind</code> 实现的。</p><p>双冒号前面的对象就是 <code>bind</code> 的参数， 如果没有就是当前的 <code>this</code>, 毕竟这种做法就是用来做绑定的。</p><p>但是有一个问题，就是像这样的需求不好实现，</p><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Button</span>\n<span class=\"line\">  type=<span class=\"string\">\"ghost\"</span></span>\n<span class=\"line\">  icon=<span class=\"string\">\"edit\"</span></span>\n<span class=\"line\">  onClick=&#123;<span class=\"keyword\">this</span>.handleEdit.bind(<span class=\"keyword\">this</span>, item)&#125;</span>\n<span class=\"line\">/&gt;</span>\n</pre></td></tr></table></figure><p>然后就是黑人问号脸，我试了几种形式 (当然不能用 bind 方法，否则这 :: 没有意义了)</p><ul><li>[this, item]::this.handleEdit</li><li>(this, item)::this.handleEdit // hhh</li><li>this::this.handleEdit(item) // hhh</li></ul><p>感觉唯一靠谱的就是第一种写法了， 编译之后</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">_react2.default.createElement(</span>\n<span class=\"line\">  _button2.default,</span>\n<span class=\"line\">  &#123; </span>\n<span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"string\">'ghost'</span>, </span>\n<span class=\"line\">    <span class=\"attr\">icon</span>: <span class=\"string\">'edit'</span>, </span>\n<span class=\"line\">    <span class=\"attr\">onClick</span>: (_context = [<span class=\"keyword\">this</span>, item], <span class=\"keyword\">this</span>.handleEdit).bind(_context) </span>\n<span class=\"line\">  &#125;,</span>\n<span class=\"line\">  <span class=\"string\">''</span></span>\n<span class=\"line\">)</span>\n</pre></td></tr></table></figure><p>这样 bind 之后的方法内的 this 是一个数组，要想获取到真正的 this, 在 handleEdit 中还需要做</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handleEdit</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"comment\">// this: [this, item]</span></span>\n<span class=\"line\">  <span class=\"comment\">// 感觉好尴尬~</span></span>\n<span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>[<span class=\"number\">0</span>]);</span>\n<span class=\"line\">  <span class=\"comment\">// const [ _this, item ] = this;</span></span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><blockquote><p>所以呢 在需要绑定 this 并且要添加额外参数的时候，就不要用 <strong>::</strong> 了。老老实实用 <strong>bind</strong> 就好了。</p></blockquote><h2 id=\"箭头函数声明在-class-里面\"><a href=\"#箭头函数声明在-class-里面\" class=\"headerlink\" title=\"箭头函数声明在 class 里面\"></a>箭头函数声明在 class 里面</h2><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  handleButtonClick = <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.setState(&#123; <span class=\"attr\">loading</span>: <span class=\"literal\">true</span> &#125;);</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  render() &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.handleButtonClick&#125;</span>&gt;</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">// var Example = React.createClass(&#123;</span>\n<span class=\"line\">//</span>\n<span class=\"line\">//   handleButtonClick: function(e) &#123;</span>\n<span class=\"line\">//     this.setState(&#123; loading: true &#125;);</span>\n<span class=\"line\">//   &#125;,</span>\n<span class=\"line\">//   ...</span>\n<span class=\"line\">// &#125;);</span></span>\n</pre></td></tr></table></figure><p>这样应该是最简单的方式了，因为是自动绑定 this 的（与注释中的代码效果是一样的）。</p><p>以上。</p>"},{"title":"在 window 里面杀死某个进程","date":"2016-11-22T01:49:57.000Z","_content":"\n## 查看被谁占用\n```shell\nnetstat -ano | findstr 8989\n  \n# C:\\Users\\Administrator>netstat -ano | findstr 8989\n#   TCP    0.0.0.0:8989           0.0.0.0:0              LISTENING       6360\n#   TCP    [::]:8989              [::]:0                 LISTENING       6360\n#   TCP    [::1]:8989             [::1]:53638            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53640            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53641            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53645            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53646            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53652            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53653            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53654            ESTABLISHED     6360\n#   TCP    [::1]:53638            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53640            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53641            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53645            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53646            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53652            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53653            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53654            [::1]:8989             ESTABLISHED     5440\n```\n\n```shell\ntasklist | findstr 8989//查看pid为3036的是什么程序在用\n```\n\n## 杀死某进程\n```shell\n# /T 包括子进程\n# /F 强制\n  \ntaskkill /T /F /PID 8989\n```\n","source":"_posts/kill-process-in-window.md","raw":"title: 在 window 里面杀死某个进程\ntags:\n  - 端口占用\ncategories:\n  - Window\ndate: 2016-11-22 09:49:57\n---\n\n## 查看被谁占用\n```shell\nnetstat -ano | findstr 8989\n  \n# C:\\Users\\Administrator>netstat -ano | findstr 8989\n#   TCP    0.0.0.0:8989           0.0.0.0:0              LISTENING       6360\n#   TCP    [::]:8989              [::]:0                 LISTENING       6360\n#   TCP    [::1]:8989             [::1]:53638            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53640            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53641            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53645            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53646            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53652            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53653            ESTABLISHED     6360\n#   TCP    [::1]:8989             [::1]:53654            ESTABLISHED     6360\n#   TCP    [::1]:53638            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53640            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53641            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53645            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53646            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53652            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53653            [::1]:8989             ESTABLISHED     5440\n#   TCP    [::1]:53654            [::1]:8989             ESTABLISHED     5440\n```\n\n```shell\ntasklist | findstr 8989//查看pid为3036的是什么程序在用\n```\n\n## 杀死某进程\n```shell\n# /T 包括子进程\n# /F 强制\n  \ntaskkill /T /F /PID 8989\n```\n","slug":"kill-process-in-window","published":1,"updated":"2016-12-08T11:50:20.425Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bql001m8gny66j9zpvt","content":"<h2 id=\"查看被谁占用\"><a href=\"#查看被谁占用\" class=\"headerlink\" title=\"查看被谁占用\"></a>查看被谁占用</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">netstat -ano | findstr 8989</span>\n<span class=\"line\">  </span>\n<span class=\"line\"># C:\\Users\\Administrator&gt;netstat -ano | findstr 8989</span>\n<span class=\"line\">#   TCP    0.0.0.0:8989           0.0.0.0:0              LISTENING       6360</span>\n<span class=\"line\">#   TCP    [::]:8989              [::]:0                 LISTENING       6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53638            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53640            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53641            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53645            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53646            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53652            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53653            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53654            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:53638            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53640            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53641            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53645            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53646            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53652            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53653            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53654            [::1]:8989             ESTABLISHED     5440</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">tasklist | findstr 8989//查看pid为3036的是什么程序在用</span>\n</pre></td></tr></table></figure><h2 id=\"杀死某进程\"><a href=\"#杀死某进程\" class=\"headerlink\" title=\"杀死某进程\"></a>杀死某进程</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"># /T 包括子进程</span>\n<span class=\"line\"># /F 强制</span>\n<span class=\"line\">  </span>\n<span class=\"line\">taskkill /T /F /PID 8989</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<h2 id=\"查看被谁占用\"><a href=\"#查看被谁占用\" class=\"headerlink\" title=\"查看被谁占用\"></a>查看被谁占用</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">netstat -ano | findstr 8989</span>\n<span class=\"line\">  </span>\n<span class=\"line\"># C:\\Users\\Administrator&gt;netstat -ano | findstr 8989</span>\n<span class=\"line\">#   TCP    0.0.0.0:8989           0.0.0.0:0              LISTENING       6360</span>\n<span class=\"line\">#   TCP    [::]:8989              [::]:0                 LISTENING       6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53638            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53640            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53641            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53645            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53646            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53652            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53653            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:8989             [::1]:53654            ESTABLISHED     6360</span>\n<span class=\"line\">#   TCP    [::1]:53638            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53640            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53641            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53645            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53646            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53652            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53653            [::1]:8989             ESTABLISHED     5440</span>\n<span class=\"line\">#   TCP    [::1]:53654            [::1]:8989             ESTABLISHED     5440</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">tasklist | findstr 8989//查看pid为3036的是什么程序在用</span>\n</pre></td></tr></table></figure><h2 id=\"杀死某进程\"><a href=\"#杀死某进程\" class=\"headerlink\" title=\"杀死某进程\"></a>杀死某进程</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"># /T 包括子进程</span>\n<span class=\"line\"># /F 强制</span>\n<span class=\"line\">  </span>\n<span class=\"line\">taskkill /T /F /PID 8989</span>\n</pre></td></tr></table></figure>"},{"title":"杀死正在占有你端口的小程序","date":"2016-02-25T10:38:07.000Z","_content":"\n最近在 mac 上用 terminal 启动 python 的时候经常会提示我，端口被占用了，像这样\n``` bash\n0 errors found\nFebruary 25, 2016 - 18:25:21\nDjango version 1.6.7, using settings 'green.settings'\nStarting development server at http://0.0.0.0:8000/\nQuit the server with CONTROL-C.\nError: That port is already in use.\n```\n\n```\nps aux | grep python\n```\n\n```shell\n(kkh)➜  green git:(feature/shopping_mall_womens_day) ✗ ps aux | grep python\nOliver          23232   0.0  0.0  2434840    752 s002  S+    5:25下午   0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn python\nOliver          23103   0.0  0.8  2550628  66364 s002  S     5:23下午   0:02.23 /Users/Oliver/dev/kkh/bin/python manage.py runserver 0.0.0.0:8000\n```\n\n```bash\nkill 23103\n```\n","source":"_posts/kill-process.md","raw":"title: 杀死正在占有你端口的小程序\ntags:\n  - 端口占用\ncategories:\n  - Linux\ndate: 2016-02-25 18:38:07\n---\n\n最近在 mac 上用 terminal 启动 python 的时候经常会提示我，端口被占用了，像这样\n``` bash\n0 errors found\nFebruary 25, 2016 - 18:25:21\nDjango version 1.6.7, using settings 'green.settings'\nStarting development server at http://0.0.0.0:8000/\nQuit the server with CONTROL-C.\nError: That port is already in use.\n```\n\n```\nps aux | grep python\n```\n\n```shell\n(kkh)➜  green git:(feature/shopping_mall_womens_day) ✗ ps aux | grep python\nOliver          23232   0.0  0.0  2434840    752 s002  S+    5:25下午   0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn python\nOliver          23103   0.0  0.8  2550628  66364 s002  S     5:23下午   0:02.23 /Users/Oliver/dev/kkh/bin/python manage.py runserver 0.0.0.0:8000\n```\n\n```bash\nkill 23103\n```\n","slug":"kill-process","published":1,"updated":"2016-12-08T11:50:26.299Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqo001p8gny8nkt90ia","content":"<p>最近在 mac 上用 terminal 启动 python 的时候经常会提示我，端口被占用了，像这样<br></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">0 errors found</span>\n<span class=\"line\">February 25, 2016 - 18:25:21</span>\n<span class=\"line\">Django version 1.6.7, using settings <span class=\"string\">'green.settings'</span></span>\n<span class=\"line\">Starting development server at http://0.0.0.0:8000/</span>\n<span class=\"line\">Quit the server with CONTROL-C.</span>\n<span class=\"line\">Error: That port is already <span class=\"keyword\">in</span> use.</span>\n</pre></td></tr></table></figure><p></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">ps aux | grep python</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">(kkh)➜  green git:(feature/shopping_mall_womens_day) ✗ ps aux | grep python</span>\n<span class=\"line\">Oliver          23232   0.0  0.0  2434840    752 s002  S+    5:25下午   0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn python</span>\n<span class=\"line\">Oliver          23103   0.0  0.8  2550628  66364 s002  S     5:23下午   0:02.23 /Users/Oliver/dev/kkh/bin/python manage.py runserver 0.0.0.0:8000</span>\n</pre></td></tr></table></figure><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">kill</span> 23103</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<p>最近在 mac 上用 terminal 启动 python 的时候经常会提示我，端口被占用了，像这样<br></p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">0 errors found</span>\n<span class=\"line\">February 25, 2016 - 18:25:21</span>\n<span class=\"line\">Django version 1.6.7, using settings <span class=\"string\">'green.settings'</span></span>\n<span class=\"line\">Starting development server at http://0.0.0.0:8000/</span>\n<span class=\"line\">Quit the server with CONTROL-C.</span>\n<span class=\"line\">Error: That port is already <span class=\"keyword\">in</span> use.</span>\n</pre></td></tr></table></figure><p></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">ps aux | grep python</span>\n</pre></td></tr></table></figure><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">(kkh)➜  green git:(feature/shopping_mall_womens_day) ✗ ps aux | grep python</span>\n<span class=\"line\">Oliver          23232   0.0  0.0  2434840    752 s002  S+    5:25下午   0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn python</span>\n<span class=\"line\">Oliver          23103   0.0  0.8  2550628  66364 s002  S     5:23下午   0:02.23 /Users/Oliver/dev/kkh/bin/python manage.py runserver 0.0.0.0:8000</span>\n</pre></td></tr></table></figure><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">kill</span> 23103</span>\n</pre></td></tr></table></figure>"},{"title":"菜单下面的小精灵","date":"2016-03-21T08:05:51.000Z","_content":"\n有些网站的导航下面会有一到杠，鼠标在各个导航之间移动的时候，这一道杠也会跟着动，很好看，就像这个\n\n<p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"PNbGZQ\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/PNbGZQ/\">ooo-nav</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n我把她叫做小精灵。\n\n---\n\n## 原理\n\n实现这个其实不难，当鼠标移动到某一个菜单上面时，小精灵滑入（至于方向，如果鼠标从右边进入菜单，那就从右向左滑），然后当鼠标移出时，小精灵跟着也移出菜单， 同时如果鼠标恰好移进了另一个菜单，下一个菜单的进入动画也开始播放，连续起来的话就像是小精灵跟着过来了。\n\n## 实现\n\n### 菜单\n菜单的话当然是用 ul 来实现了\n```html\n<ul class=\"nav\">\n  <li>我的</li>\n  <li>导航栏</li>\n  <li>非常</li>\n  <li>牛逼</li>\n</ul>\n```\n\n### 小精灵\n\n这个小精灵该怎么实现呢, 开始时我打算用 `border` 来实现，试了一下之后才发现，并不理想，因为当鼠标 hover 时，border 变化，内容也会随着动，很丑。\n\n于是我就想用 `after` 这个伪元素来实现，因为之前并没用过，感觉蛮新鲜的。\n\n使用 `after` 最重要的地方也是前提，就是 `content: ''`，如果没有这一句，不管怎么修饰 `after` 的样式，都是徒劳。\n\n写完之后的样子大概是这样\n```less\n  > li {\n    float:left;\n    display: inline-block;\n    padding: 10px 20px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n\n    &:after {\n      content: '';\n      height: 3px;\n      position: absolute;\n      bottom: 0;\n    }\n  }\n```\n\n### 动画\n\n根据上面的原理，如果想实现的话，大概只需要写四个动画\n\n* 小精灵从右向左进入菜单\n* 小精灵从右向左移出菜单\n* 小精灵从左向右进入菜单\n* 小精灵从左向右移出菜单\n\n我打算使用 `width` 的变化来模拟小精灵的滑动效果，假如是从左向右， css 就像下面这样：\n\n```css\n@keyframes slide-in {\n  from { width: 0; }\n  to { width: 100%; }\n}\n\n.slide-in-from-left:after,\n.slide-out-from-left:after {\n  left: 0; // 初始位置在左边，宽度为 0，宽度逐渐变大\n}\n\n.slide-in-from-left:after,\n.slide-in-from-right:after {\n  animation-name: slide-in;\n  animation-timing-function: cubic-bezier(0.65, 0.05, 0.36, 1);\n}\n\n```\n\n### JS\n\ncss 写完了，不过我要识别鼠标进入或离开的方向，也就是要判断鼠标是从左边进入还是从右边进入，是从左边移出还是从右边移出。\n\n于是， 要写一些 js 来判断\n\n```js\n$(function() {\n\n  var classList = [\n        'slide-in-from-left',\n        'slide-in-from-right',\n        'slide-out-from-right',\n        'slide-out-from-left'\n      ].join(' ');\n\n  $('ul.nav')\n    .on('mouseenter', 'li', function(e) {\n      var $this = $(this);\n      var width = $this.outerWidth();\n      var xx = e.offsetX;\n      var className = (xx < (width / 2))\n                    ? 'slide-in-from-left'\n                    : 'slide-in-from-right';\n\n      $this.removeClass(classList).addClass(className);      \n    })\n    .on('mouseleave', 'li', function(e) {\n      var $this = $(this);\n      var width = $this.outerWidth();\n      var xx = e.offsetX;\n      var className = (xx < (width / 2))\n                    ? 'slide-out-from-left'\n                    : 'slide-out-from-right';\n      $this.removeClass(classList).addClass(className);\n    });\n\n});\n```\n\n这样就写完了，再把开头的例子放上吧。\n\n<p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"PNbGZQ\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/PNbGZQ/\">ooo-nav</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n谢谢。\n","source":"_posts/menu-with-moved-elfish.md","raw":"title: 菜单下面的小精灵\ntags:\n  - nav\ncategories:\n  - CSS Animation\n  - CSS\ndate: 2016-03-21 16:05:51\n---\n\n有些网站的导航下面会有一到杠，鼠标在各个导航之间移动的时候，这一道杠也会跟着动，很好看，就像这个\n\n<p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"PNbGZQ\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/PNbGZQ/\">ooo-nav</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n我把她叫做小精灵。\n\n---\n\n## 原理\n\n实现这个其实不难，当鼠标移动到某一个菜单上面时，小精灵滑入（至于方向，如果鼠标从右边进入菜单，那就从右向左滑），然后当鼠标移出时，小精灵跟着也移出菜单， 同时如果鼠标恰好移进了另一个菜单，下一个菜单的进入动画也开始播放，连续起来的话就像是小精灵跟着过来了。\n\n## 实现\n\n### 菜单\n菜单的话当然是用 ul 来实现了\n```html\n<ul class=\"nav\">\n  <li>我的</li>\n  <li>导航栏</li>\n  <li>非常</li>\n  <li>牛逼</li>\n</ul>\n```\n\n### 小精灵\n\n这个小精灵该怎么实现呢, 开始时我打算用 `border` 来实现，试了一下之后才发现，并不理想，因为当鼠标 hover 时，border 变化，内容也会随着动，很丑。\n\n于是我就想用 `after` 这个伪元素来实现，因为之前并没用过，感觉蛮新鲜的。\n\n使用 `after` 最重要的地方也是前提，就是 `content: ''`，如果没有这一句，不管怎么修饰 `after` 的样式，都是徒劳。\n\n写完之后的样子大概是这样\n```less\n  > li {\n    float:left;\n    display: inline-block;\n    padding: 10px 20px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n\n    &:after {\n      content: '';\n      height: 3px;\n      position: absolute;\n      bottom: 0;\n    }\n  }\n```\n\n### 动画\n\n根据上面的原理，如果想实现的话，大概只需要写四个动画\n\n* 小精灵从右向左进入菜单\n* 小精灵从右向左移出菜单\n* 小精灵从左向右进入菜单\n* 小精灵从左向右移出菜单\n\n我打算使用 `width` 的变化来模拟小精灵的滑动效果，假如是从左向右， css 就像下面这样：\n\n```css\n@keyframes slide-in {\n  from { width: 0; }\n  to { width: 100%; }\n}\n\n.slide-in-from-left:after,\n.slide-out-from-left:after {\n  left: 0; // 初始位置在左边，宽度为 0，宽度逐渐变大\n}\n\n.slide-in-from-left:after,\n.slide-in-from-right:after {\n  animation-name: slide-in;\n  animation-timing-function: cubic-bezier(0.65, 0.05, 0.36, 1);\n}\n\n```\n\n### JS\n\ncss 写完了，不过我要识别鼠标进入或离开的方向，也就是要判断鼠标是从左边进入还是从右边进入，是从左边移出还是从右边移出。\n\n于是， 要写一些 js 来判断\n\n```js\n$(function() {\n\n  var classList = [\n        'slide-in-from-left',\n        'slide-in-from-right',\n        'slide-out-from-right',\n        'slide-out-from-left'\n      ].join(' ');\n\n  $('ul.nav')\n    .on('mouseenter', 'li', function(e) {\n      var $this = $(this);\n      var width = $this.outerWidth();\n      var xx = e.offsetX;\n      var className = (xx < (width / 2))\n                    ? 'slide-in-from-left'\n                    : 'slide-in-from-right';\n\n      $this.removeClass(classList).addClass(className);      \n    })\n    .on('mouseleave', 'li', function(e) {\n      var $this = $(this);\n      var width = $this.outerWidth();\n      var xx = e.offsetX;\n      var className = (xx < (width / 2))\n                    ? 'slide-out-from-left'\n                    : 'slide-out-from-right';\n      $this.removeClass(classList).addClass(className);\n    });\n\n});\n```\n\n这样就写完了，再把开头的例子放上吧。\n\n<p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"PNbGZQ\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/PNbGZQ/\">ooo-nav</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n谢谢。\n","slug":"menu-with-moved-elfish","published":1,"updated":"2016-11-22T01:40:09.751Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqs001t8gnyxgetdfka","content":"<p>有些网站的导航下面会有一到杠，鼠标在各个导航之间移动的时候，这一道杠也会跟着动，很好看，就像这个</p><p></p><p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"PNbGZQ\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/PNbGZQ/\" target=\"_blank\" rel=\"external\">ooo-nav</a> by Oliver (<a href=\"http://codepen.io/ochukai\" target=\"_blank\" rel=\"external\">@ochukai</a>) on <a href=\"http://codepen.io\" target=\"_blank\" rel=\"external\">CodePen</a>.</p><p></p><script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script><p>我把她叫做小精灵。</p><hr><h2 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h2><p>实现这个其实不难，当鼠标移动到某一个菜单上面时，小精灵滑入（至于方向，如果鼠标从右边进入菜单，那就从右向左滑），然后当鼠标移出时，小精灵跟着也移出菜单， 同时如果鼠标恰好移进了另一个菜单，下一个菜单的进入动画也开始播放，连续起来的话就像是小精灵跟着过来了。</p><h2 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h2><h3 id=\"菜单\"><a href=\"#菜单\" class=\"headerlink\" title=\"菜单\"></a>菜单</h3><p>菜单的话当然是用 ul 来实现了<br></p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">\"nav\"</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>我的<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>导航栏<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>非常<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>牛逼<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span>\n</pre></td></tr></table></figure><p></p><h3 id=\"小精灵\"><a href=\"#小精灵\" class=\"headerlink\" title=\"小精灵\"></a>小精灵</h3><p>这个小精灵该怎么实现呢, 开始时我打算用 <code>border</code> 来实现，试了一下之后才发现，并不理想，因为当鼠标 hover 时，border 变化，内容也会随着动，很丑。</p><p>于是我就想用 <code>after</code> 这个伪元素来实现，因为之前并没用过，感觉蛮新鲜的。</p><p>使用 <code>after</code> 最重要的地方也是前提，就是 <code>content: &#39;&#39;</code>，如果没有这一句，不管怎么修饰 <code>after</code> 的样式，都是徒劳。</p><p>写完之后的样子大概是这样<br></p><figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">&gt; <span class=\"selector-tag\">li</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">float</span>:left;</span>\n<span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span>\n<span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span> <span class=\"number\">20px</span>;</span>\n<span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span>\n<span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span>\n<span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"selector-tag\">&amp;</span><span class=\"selector-pseudo\">:after</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">content</span>: <span class=\"string\">''</span>;</span>\n<span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">3px</span>;</span>\n<span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span>\n<span class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><h3 id=\"动画\"><a href=\"#动画\" class=\"headerlink\" title=\"动画\"></a>动画</h3><p>根据上面的原理，如果想实现的话，大概只需要写四个动画</p><ul><li>小精灵从右向左进入菜单</li><li>小精灵从右向左移出菜单</li><li>小精灵从左向右进入菜单</li><li>小精灵从左向右移出菜单</li></ul><p>我打算使用 <code>width</code> 的变化来模拟小精灵的滑动效果，假如是从左向右， css 就像下面这样：</p><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@keyframes slide-in &#123;</span>\n<span class=\"line\">  from &#123; width: 0; &#125;</span>\n<span class=\"line\">  to &#123; width: 100%; &#125;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">.slide-in-from-left:after,</span>\n<span class=\"line\">.slide-out-from-left:after &#123;</span>\n<span class=\"line\">  left: 0; // 初始位置在左边，宽度为 0，宽度逐渐变大</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">.slide-in-from-left:after,</span>\n<span class=\"line\">.slide-in-from-right:after &#123;</span>\n<span class=\"line\">  animation-name: slide-in;</span>\n<span class=\"line\">  animation-timing-function: cubic-bezier(0.65, 0.05, 0.36, 1);</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><h3 id=\"JS\"><a href=\"#JS\" class=\"headerlink\" title=\"JS\"></a>JS</h3><p>css 写完了，不过我要识别鼠标进入或离开的方向，也就是要判断鼠标是从左边进入还是从右边进入，是从左边移出还是从右边移出。</p><p>于是， 要写一些 js 来判断</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">var</span> classList = [</span>\n<span class=\"line\">        <span class=\"string\">'slide-in-from-left'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'slide-in-from-right'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'slide-out-from-right'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'slide-out-from-left'</span></span>\n<span class=\"line\">      ].join(<span class=\"string\">' '</span>);</span>\n<span class=\"line\"></span>\n<span class=\"line\">  $(<span class=\"string\">'ul.nav'</span>)</span>\n<span class=\"line\">    .on(<span class=\"string\">'mouseenter'</span>, <span class=\"string\">'li'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> $<span class=\"keyword\">this</span> = $(<span class=\"keyword\">this</span>);</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> width = $<span class=\"keyword\">this</span>.outerWidth();</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> xx = e.offsetX;</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> className = (xx &lt; (width / <span class=\"number\">2</span>))</span>\n<span class=\"line\">                    ? <span class=\"string\">'slide-in-from-left'</span></span>\n<span class=\"line\">                    : <span class=\"string\">'slide-in-from-right'</span>;</span>\n<span class=\"line\"></span>\n<span class=\"line\">      $<span class=\"keyword\">this</span>.removeClass(classList).addClass(className);      </span>\n<span class=\"line\">    &#125;)</span>\n<span class=\"line\">    .on(<span class=\"string\">'mouseleave'</span>, <span class=\"string\">'li'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> $<span class=\"keyword\">this</span> = $(<span class=\"keyword\">this</span>);</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> width = $<span class=\"keyword\">this</span>.outerWidth();</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> xx = e.offsetX;</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> className = (xx &lt; (width / <span class=\"number\">2</span>))</span>\n<span class=\"line\">                    ? <span class=\"string\">'slide-out-from-left'</span></span>\n<span class=\"line\">                    : <span class=\"string\">'slide-out-from-right'</span>;</span>\n<span class=\"line\">      $<span class=\"keyword\">this</span>.removeClass(classList).addClass(className);</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p>这样就写完了，再把开头的例子放上吧。</p><p></p><p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"PNbGZQ\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/PNbGZQ/\" target=\"_blank\" rel=\"external\">ooo-nav</a> by Oliver (<a href=\"http://codepen.io/ochukai\" target=\"_blank\" rel=\"external\">@ochukai</a>) on <a href=\"http://codepen.io\" target=\"_blank\" rel=\"external\">CodePen</a>.</p><p></p><script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script><p>谢谢。</p>","excerpt":"","more":"<p>有些网站的导航下面会有一到杠，鼠标在各个导航之间移动的时候，这一道杠也会跟着动，很好看，就像这个</p><p></p><p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"PNbGZQ\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/PNbGZQ/\">ooo-nav</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p><p></p><script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script><p>我把她叫做小精灵。</p><hr><h2 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h2><p>实现这个其实不难，当鼠标移动到某一个菜单上面时，小精灵滑入（至于方向，如果鼠标从右边进入菜单，那就从右向左滑），然后当鼠标移出时，小精灵跟着也移出菜单， 同时如果鼠标恰好移进了另一个菜单，下一个菜单的进入动画也开始播放，连续起来的话就像是小精灵跟着过来了。</p><h2 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h2><h3 id=\"菜单\"><a href=\"#菜单\" class=\"headerlink\" title=\"菜单\"></a>菜单</h3><p>菜单的话当然是用 ul 来实现了<br></p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">\"nav\"</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>我的<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>导航栏<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>非常<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>牛逼<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span>\n<span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span>\n</pre></td></tr></table></figure><p></p><h3 id=\"小精灵\"><a href=\"#小精灵\" class=\"headerlink\" title=\"小精灵\"></a>小精灵</h3><p>这个小精灵该怎么实现呢, 开始时我打算用 <code>border</code> 来实现，试了一下之后才发现，并不理想，因为当鼠标 hover 时，border 变化，内容也会随着动，很丑。</p><p>于是我就想用 <code>after</code> 这个伪元素来实现，因为之前并没用过，感觉蛮新鲜的。</p><p>使用 <code>after</code> 最重要的地方也是前提，就是 <code>content: &#39;&#39;</code>，如果没有这一句，不管怎么修饰 <code>after</code> 的样式，都是徒劳。</p><p>写完之后的样子大概是这样<br></p><figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">&gt; <span class=\"selector-tag\">li</span> &#123;</span>\n<span class=\"line\">  <span class=\"attribute\">float</span>:left;</span>\n<span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span>\n<span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span> <span class=\"number\">20px</span>;</span>\n<span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span>\n<span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span>\n<span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"selector-tag\">&amp;</span><span class=\"selector-pseudo\">:after</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">content</span>: <span class=\"string\">''</span>;</span>\n<span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">3px</span>;</span>\n<span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span>\n<span class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><h3 id=\"动画\"><a href=\"#动画\" class=\"headerlink\" title=\"动画\"></a>动画</h3><p>根据上面的原理，如果想实现的话，大概只需要写四个动画</p><ul><li>小精灵从右向左进入菜单</li><li>小精灵从右向左移出菜单</li><li>小精灵从左向右进入菜单</li><li>小精灵从左向右移出菜单</li></ul><p>我打算使用 <code>width</code> 的变化来模拟小精灵的滑动效果，假如是从左向右， css 就像下面这样：</p><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@keyframes slide-in &#123;</span>\n<span class=\"line\">  from &#123; width: 0; &#125;</span>\n<span class=\"line\">  to &#123; width: 100%; &#125;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">.slide-in-from-left:after,</span>\n<span class=\"line\">.slide-out-from-left:after &#123;</span>\n<span class=\"line\">  left: 0; // 初始位置在左边，宽度为 0，宽度逐渐变大</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">.slide-in-from-left:after,</span>\n<span class=\"line\">.slide-in-from-right:after &#123;</span>\n<span class=\"line\">  animation-name: slide-in;</span>\n<span class=\"line\">  animation-timing-function: cubic-bezier(0.65, 0.05, 0.36, 1);</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><h3 id=\"JS\"><a href=\"#JS\" class=\"headerlink\" title=\"JS\"></a>JS</h3><p>css 写完了，不过我要识别鼠标进入或离开的方向，也就是要判断鼠标是从左边进入还是从右边进入，是从左边移出还是从右边移出。</p><p>于是， 要写一些 js 来判断</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">var</span> classList = [</span>\n<span class=\"line\">        <span class=\"string\">'slide-in-from-left'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'slide-in-from-right'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'slide-out-from-right'</span>,</span>\n<span class=\"line\">        <span class=\"string\">'slide-out-from-left'</span></span>\n<span class=\"line\">      ].join(<span class=\"string\">' '</span>);</span>\n<span class=\"line\"></span>\n<span class=\"line\">  $(<span class=\"string\">'ul.nav'</span>)</span>\n<span class=\"line\">    .on(<span class=\"string\">'mouseenter'</span>, <span class=\"string\">'li'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> $<span class=\"keyword\">this</span> = $(<span class=\"keyword\">this</span>);</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> width = $<span class=\"keyword\">this</span>.outerWidth();</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> xx = e.offsetX;</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> className = (xx &lt; (width / <span class=\"number\">2</span>))</span>\n<span class=\"line\">                    ? <span class=\"string\">'slide-in-from-left'</span></span>\n<span class=\"line\">                    : <span class=\"string\">'slide-in-from-right'</span>;</span>\n<span class=\"line\"></span>\n<span class=\"line\">      $<span class=\"keyword\">this</span>.removeClass(classList).addClass(className);      </span>\n<span class=\"line\">    &#125;)</span>\n<span class=\"line\">    .on(<span class=\"string\">'mouseleave'</span>, <span class=\"string\">'li'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> $<span class=\"keyword\">this</span> = $(<span class=\"keyword\">this</span>);</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> width = $<span class=\"keyword\">this</span>.outerWidth();</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> xx = e.offsetX;</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> className = (xx &lt; (width / <span class=\"number\">2</span>))</span>\n<span class=\"line\">                    ? <span class=\"string\">'slide-out-from-left'</span></span>\n<span class=\"line\">                    : <span class=\"string\">'slide-out-from-right'</span>;</span>\n<span class=\"line\">      $<span class=\"keyword\">this</span>.removeClass(classList).addClass(className);</span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p>这样就写完了，再把开头的例子放上吧。</p><p></p><p data-height=\"268\" data-theme-id=\"0\" data-slug-hash=\"PNbGZQ\" data-default-tab=\"result\" data-user=\"ochukai\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/ochukai/pen/PNbGZQ/\">ooo-nav</a> by Oliver (<a href=\"http://codepen.io/ochukai\">@ochukai</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p><p></p><script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script><p>谢谢。</p>"},{"title":"Navicat 10.1.7 的注册码","id":"107","date":"2014-12-28T13:23:42.000Z","_content":"\n> NAVN-LNXG-XHHX-5NOO \n> 名和组织随便写。","source":"_posts/navicat-10-1-7-key.md","raw":"title: Navicat 10.1.7 的注册码\ntags:\n  - mysql\n  - navicat\nid: 107\ncategories:\n  - MySQL\ndate: 2014-12-28 21:23:42\n---\n\n> NAVN-LNXG-XHHX-5NOO \n> 名和组织随便写。","slug":"navicat-10-1-7-key","published":1,"updated":"2016-11-22T01:40:09.751Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqt001u8gny0jf9ocy4","content":"<blockquote><p>NAVN-LNXG-XHHX-5NOO<br>名和组织随便写。</p></blockquote>","excerpt":"","more":"<blockquote><p>NAVN-LNXG-XHHX-5NOO<br>名和组织随便写。</p></blockquote>"},{"title":"修改 wamp 中 mysql 默认空密码","id":"229","date":"2015-07-31T15:32:13.000Z","_content":"\n```sql\nuse mysql\n\nupdate user set password=PASSWORD('hooray') where user='root';\n\nflush privileges;\n```","source":"_posts/modify-wamp-mysql-password.md","raw":"title: 修改 wamp 中 mysql 默认空密码\ntags:\n  - mysql\n  - paswword\nid: 229\ncategories:\n  - MySQL\ndate: 2015-07-31 23:32:13\n---\n\n```sql\nuse mysql\n\nupdate user set password=PASSWORD('hooray') where user='root';\n\nflush privileges;\n```","slug":"modify-wamp-mysql-password","published":1,"updated":"2016-11-22T01:40:09.751Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqv001x8gny58m57mr8","content":"<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">use</span> mysql</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">update</span> <span class=\"keyword\">user</span> <span class=\"keyword\">set</span> <span class=\"keyword\">password</span>=<span class=\"keyword\">PASSWORD</span>(<span class=\"string\">'hooray'</span>) <span class=\"keyword\">where</span> <span class=\"keyword\">user</span>=<span class=\"string\">'root'</span>;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">flush</span> <span class=\"keyword\">privileges</span>;</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">use</span> mysql</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">update</span> <span class=\"keyword\">user</span> <span class=\"keyword\">set</span> <span class=\"keyword\">password</span>=<span class=\"keyword\">PASSWORD</span>(<span class=\"string\">'hooray'</span>) <span class=\"keyword\">where</span> <span class=\"keyword\">user</span>=<span class=\"string\">'root'</span>;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">flush</span> <span class=\"keyword\">privileges</span>;</span>\n</pre></td></tr></table></figure>"},{"title":"上层滚动 下层不摇滚","date":"2016-06-23T03:12:27.000Z","_content":"\n最近写手机页面颇多, 经常有弹出框, 或者下拉列表, 如果弹框或者下拉列表的内容太多,出现了滚动条, 恰好外面的内容也很多,也有滚动条的话,就会出现一种情况:\n\n![例子](../images/scroll-1.png)\n\n比如上图, 当用力划一下屏幕, 下拉框滚到底了之后, **body** 随之也开始滚, 很讨厌。出现过好多次了, 而且测试逼我太紧~\n\n## 我要解决这个问题啊\n\n其实很简单, 只要弹出下拉列表的时候让下层的元素不能滚动就好了。\n\n```css\n.modal-open { \n  overflow: hidden;\n}\n```\n\njs 的话就这么写:\n\n```js\n  function show($div) {\n    $('body').addClass('modal-open');\n    // ...\n  }\n\n  function hide($div) {\n    $('body').removeClass('modal-open');\n    // ...\n  }\n```\n\n以上。","source":"_posts/prevent-deep-div-scroll-with-the-top-element.md","raw":"title: 上层滚动 下层不摇滚\ntags:\n  - null\ncategories:\n  - null\ndate: 2016-06-23 11:12:27\n---\n\n最近写手机页面颇多, 经常有弹出框, 或者下拉列表, 如果弹框或者下拉列表的内容太多,出现了滚动条, 恰好外面的内容也很多,也有滚动条的话,就会出现一种情况:\n\n![例子](../images/scroll-1.png)\n\n比如上图, 当用力划一下屏幕, 下拉框滚到底了之后, **body** 随之也开始滚, 很讨厌。出现过好多次了, 而且测试逼我太紧~\n\n## 我要解决这个问题啊\n\n其实很简单, 只要弹出下拉列表的时候让下层的元素不能滚动就好了。\n\n```css\n.modal-open { \n  overflow: hidden;\n}\n```\n\njs 的话就这么写:\n\n```js\n  function show($div) {\n    $('body').addClass('modal-open');\n    // ...\n  }\n\n  function hide($div) {\n    $('body').removeClass('modal-open');\n    // ...\n  }\n```\n\n以上。","slug":"prevent-deep-div-scroll-with-the-top-element","published":1,"updated":"2016-11-22T01:40:09.751Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqv001z8gnyrv4j3h8z","content":"<p>最近写手机页面颇多, 经常有弹出框, 或者下拉列表, 如果弹框或者下拉列表的内容太多,出现了滚动条, 恰好外面的内容也很多,也有滚动条的话,就会出现一种情况:</p><p><img src=\"../images/scroll-1.png\" alt=\"例子\"></p><p>比如上图, 当用力划一下屏幕, 下拉框滚到底了之后, <strong>body</strong> 随之也开始滚, 很讨厌。出现过好多次了, 而且测试逼我太紧~</p><h2 id=\"我要解决这个问题啊\"><a href=\"#我要解决这个问题啊\" class=\"headerlink\" title=\"我要解决这个问题啊\"></a>我要解决这个问题啊</h2><p>其实很简单, 只要弹出下拉列表的时候让下层的元素不能滚动就好了。</p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.modal-open</span> &#123; </span>\n<span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>js 的话就这么写:</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">show</span>(<span class=\"params\">$div</span>) </span>&#123;</span>\n<span class=\"line\">  $(<span class=\"string\">'body'</span>).addClass(<span class=\"string\">'modal-open'</span>);</span>\n<span class=\"line\">  <span class=\"comment\">// ...</span></span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hide</span>(<span class=\"params\">$div</span>) </span>&#123;</span>\n<span class=\"line\">  $(<span class=\"string\">'body'</span>).removeClass(<span class=\"string\">'modal-open'</span>);</span>\n<span class=\"line\">  <span class=\"comment\">// ...</span></span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>以上。</p>","excerpt":"","more":"<p>最近写手机页面颇多, 经常有弹出框, 或者下拉列表, 如果弹框或者下拉列表的内容太多,出现了滚动条, 恰好外面的内容也很多,也有滚动条的话,就会出现一种情况:</p><p><img src=\"../images/scroll-1.png\" alt=\"例子\"></p><p>比如上图, 当用力划一下屏幕, 下拉框滚到底了之后, <strong>body</strong> 随之也开始滚, 很讨厌。出现过好多次了, 而且测试逼我太紧~</p><h2 id=\"我要解决这个问题啊\"><a href=\"#我要解决这个问题啊\" class=\"headerlink\" title=\"我要解决这个问题啊\"></a>我要解决这个问题啊</h2><p>其实很简单, 只要弹出下拉列表的时候让下层的元素不能滚动就好了。</p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.modal-open</span> &#123; </span>\n<span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>js 的话就这么写:</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">show</span>(<span class=\"params\">$div</span>) </span>&#123;</span>\n<span class=\"line\">  $(<span class=\"string\">'body'</span>).addClass(<span class=\"string\">'modal-open'</span>);</span>\n<span class=\"line\">  <span class=\"comment\">// ...</span></span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hide</span>(<span class=\"params\">$div</span>) </span>&#123;</span>\n<span class=\"line\">  $(<span class=\"string\">'body'</span>).removeClass(<span class=\"string\">'modal-open'</span>);</span>\n<span class=\"line\">  <span class=\"comment\">// ...</span></span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p>以上。</p>"},{"title":"在网络暴力中捍卫自己","id":"224","date":"2015-07-10T13:52:53.000Z","_content":"\n我想先问大家一个问题，有谁一年365，天天被未曾谋面的陌生人骂?举手的这个人就站在你们面前。不过别担心，我今天不是来诉苦的，我是穿着马甲来跟大家分享如何被骂大的。\n\n网络对于我们来说再日常不过，但是当你身处网络世界的围攻中，就不再那么轻松。2013年的以前，我作梦也想不到自己会变成网络世界里的“黑姑娘”。因为参演了一部电视剧，演技没有达到观众的预期，故事的结局不尽人意，而被推到了风口浪尖，让我从一个还在摸爬滚打的小演员，一夜之间变成了被大家声讨的“热门人物”。\n\n震惊之余，让自己尽快从虚拟的世界中挣脱出来是我唯一的出路。我选择在网络声中被倒下，就在网络声中爬起来。有不少人认为，公众人物就应该具有强大的承受能力和耐力，打不还手，骂不还口。偶尔被坑蒙拐骗了，还要尽量先捂着不敢报警。\n\n当我被骂得小有名气的时候，我就暗自思量。反正也挨骂，不如用最积极的方式迎接骂声。2013年3月3日，我在微博上发出了一条名为“爱的骂骂”的微博，既然大家那么需要宣泄，点击鼠标可以不用负责，那我也动动手指头，干点什么吧！\n\n我在微博里面制定了骂的规则——骂，没问题，但请集中精力地骂。只要在我这条微博下面留言的，不管是鼓励我的、骂我的，还是随便说说的，我都认捐五毛。24个小时，有十万多条留言，捐款金额是50693.5元，作为北京一家残疾孤儿康复机构的手术费。\n\n在这里，我要对每一位留言的人表示感谢。因为我们一起在虚拟的世界中救助了4个在现实生活中顽强生活着的残疾孤儿。其中有一个孩子，在手术后的那一年，终于有机会可以站起来了。那时候她还不满三岁。当我看到她第一次站起来，我很感动，也很骄傲，这个“黑姑娘”干了一件痛快的事。\n\n是的，我说出了金额。我知道，一定会有人说“捐那么少，还好意思报数”。我相信现在大部分人都不愿意公布捐款金额，因为捐款已经不再是一件随心的行动，而是成为大家根据金额的多少来衡量爱心的大小。我相信在座的各位也一定有过朋友之间随份子该给多少才合适的烦恼。我之所以说出来，不仅仅是因为我不觉得随性的行为需要躲闪，更因为“爱的骂骂”是每一个留言人的镜子。当时骂过我的人，也许，在两年后的今天听到我说的这番话，会想起曾经不太善意的留言却给了这些孩子们机会获得新生。这同样值得高兴。\n\n其实我们每个人都有不同阶段的新生，不是吗?“爱的骂骂”发出的那一刻，我如重生般释然了。虽然，我不像很多演员那样，拥有令人赞叹的表演才华，自己也觉得不是天生吃这碗饭的，但是既然选择了演员这份职业，我相信只要通过自己的努力和善待他人，就可以让自己的家人和自己过上幸福美满的生活。\n\n然而这一切，在2013年的夏天被一句开创演艺界(网络)暴力先河的“滚出娱乐圈”所动摇。我是第一个(被)放在主语位置的人。袁姗姗这个名字好像从此就和“一无是处”划上了等号。那个时候，不管说什么、做什么、演什么都不对。更有媒体总结了“袁姗姗不被观众所喜欢的五大理由”，第一条理由是“没有理由”。这是得有多深厚的感情基础，才能达到的境界。\n\n2013年确实挺让人操心的，从春天到夏天都没有平静过。一开始，我也有些懊恼，不知道到底发生了什么。我既然没有不劳而获，也没有做过伤天害理的事。为什么让我“滚”?!没多久，我想明白了一个道理，谁都可以说我不好，但是自己必须接纳那个心安理得的自己。既然我的演艺生涯要倒数开始，那我之后的每一点进步都是充满喜悦的。从零分到六十分比从满分到六十分，哪个更让人开心呢?\n\n也是从那个时候，我重拾扔下了多年的小提琴，还有健身。运动让我心情愉悦。不工作的时候，练琴和健身会让我的每一天都过得很充实，根本没有过多的时间停留在网上，更顾不上网友的围观。我建议那些沉迷于网络的年轻人，每天可以挤出一点时间锻炼身体。当有朝一日被他人欺负的时候，至少可以像我一样，身轻如燕，自由翻滚。\n\n不尽人意的2013年确实过得有些艰辛，但是我也时刻提醒着自己，别忘了尽可能给予所能达到的人以温暖。这是对鼓励过你的人最好的感激方式。但同时，我们也不要忽略身边朋友向你发出的求助信号。也许你的关心会改变他的决定。\n\n我在来之前了解到几个数据。在美国，有40%的年轻人遭遇过网络欺凌侵害，甚至有些受害者因此而患上精神疾病，身心受损。联合国儿童基金会在2014年的9月发布了一则消息报道，在法国，6到18岁之间的青少年有12.5%的人都有过在网上被攻击的经历。在中国，因为网络暴力而结束生命的人，离我们的生活越来越近。\n\n前不久，在台湾，有一位艺人因为网络暴力而自杀。听到这个消息的时候，我非常惋惜。我不知道她内心到底挣扎了多久。但当我看到这则新闻的时候，我有过一念之间的不安。如果在这之前，我可以跟她说几句话，她是不是好过一些?\n\n互联网的时代，让人与人之间的沟通方式越来越便捷，沟通成本却越来越大。足不出户在网上匿名可以干很多事，每天都要面对接踵而来的海量信息，有谁还愿意费力去核实消息的真实性，也不会有太多人会为自己发出或转发的信息而深思熟虑。那还有多少人会为他人的生命叹息呢?\n\n语言不应该成为致命的利器。网络的诞生也不应该是为了制造困扰，而是为了让生活变得更加美好。作为过去也许将来还会遭遇网络暴力的过来人，我不希望再有人因为网络暴力而受到伤害。请善用语言，让人言可敬。\n\n特别感谢在那段特殊时间陪伴我的家人和朋友，感谢他们承受住了一个当时还没有来得及减肥、各方面份量都很重的我。经历了这些，并不是想说明自己有多强大，但确实因为这些切身经历让我有了足够的时间去思考。我曾经问过自己一个问题——如果我当时真的不堪重负放弃了演员这个职业，是否网络暴力就会消失？答案当然不会。既然还是要面对，就应该积极面对。\n\n前不久，我参与了一部公益电影的拍摄。电影传递了一个非常积极的理念：每个人都有自由选择的机会和权利，无论你生下来是幸运的还是不幸的。我非常赞同，所以我选择做一个积极快乐的自己，不再受控于网络暴力中，不再只能看到消极的一面。\n\n都说做公益是在帮助他人，在我身上，成全了一个更加快乐的自己。不知道大家有没有看过这部电影。电影的名字叫《有一天》。我想在这里特别推荐一下。虽然我只参演了电影的一部分，但也给我带来了很多启发和感动。这部电影关注了九类特殊儿童群体。我参与拍摄的故事和聋哑儿童有关。跟我一起搭档演出的也是一名聋哑儿童。拍摄之前，我还有些顾虑，我不知道该怎么去跟他交流，我担心会因为自己不小心的举动伤害到他。但是见面之后，我才发现成年人的世界真的是因为想太多了变得复杂。只要我们保持一颗平常的心，用平等的方式去交流，就不会存在特别的障碍。重要的是你怎么看，而不是他怎么想。\n\n拍摄的那几天，我平静而快乐。每当完成一个镜头，这个小少年都会跟我竖起大拇指示意。他这个小小的举动也提醒了我和我们，有人选择赞美有人则不。\n\n感谢“爱的骂骂”，感谢《有一天》，感谢喝倒彩时刻提醒我的人，感谢一直鼓励我的家人和朋友，感谢倔强中的那个自己。我希望能有更多的人可以像我一样，主动地从逆境中走出来。这个世界还有很多需要我们关心的事去做，需要我们关心的人去爱。保持自己的真实，倔强地活下去。\n\n感谢大家的聆听，感谢网络世界将我带到你们面前。\n\n&nbsp;","source":"_posts/protect-yourself-in-network.md","raw":"title: 在网络暴力中捍卫自己\ntags:\n  - tedx\n  - 在网络暴力中捍卫自己\n  - 演讲稿\n  - 袁姗姗\nid: 224\ncategories:\n  - 生活杂记\ndate: 2015-07-10 21:52:53\n---\n\n我想先问大家一个问题，有谁一年365，天天被未曾谋面的陌生人骂?举手的这个人就站在你们面前。不过别担心，我今天不是来诉苦的，我是穿着马甲来跟大家分享如何被骂大的。\n\n网络对于我们来说再日常不过，但是当你身处网络世界的围攻中，就不再那么轻松。2013年的以前，我作梦也想不到自己会变成网络世界里的“黑姑娘”。因为参演了一部电视剧，演技没有达到观众的预期，故事的结局不尽人意，而被推到了风口浪尖，让我从一个还在摸爬滚打的小演员，一夜之间变成了被大家声讨的“热门人物”。\n\n震惊之余，让自己尽快从虚拟的世界中挣脱出来是我唯一的出路。我选择在网络声中被倒下，就在网络声中爬起来。有不少人认为，公众人物就应该具有强大的承受能力和耐力，打不还手，骂不还口。偶尔被坑蒙拐骗了，还要尽量先捂着不敢报警。\n\n当我被骂得小有名气的时候，我就暗自思量。反正也挨骂，不如用最积极的方式迎接骂声。2013年3月3日，我在微博上发出了一条名为“爱的骂骂”的微博，既然大家那么需要宣泄，点击鼠标可以不用负责，那我也动动手指头，干点什么吧！\n\n我在微博里面制定了骂的规则——骂，没问题，但请集中精力地骂。只要在我这条微博下面留言的，不管是鼓励我的、骂我的，还是随便说说的，我都认捐五毛。24个小时，有十万多条留言，捐款金额是50693.5元，作为北京一家残疾孤儿康复机构的手术费。\n\n在这里，我要对每一位留言的人表示感谢。因为我们一起在虚拟的世界中救助了4个在现实生活中顽强生活着的残疾孤儿。其中有一个孩子，在手术后的那一年，终于有机会可以站起来了。那时候她还不满三岁。当我看到她第一次站起来，我很感动，也很骄傲，这个“黑姑娘”干了一件痛快的事。\n\n是的，我说出了金额。我知道，一定会有人说“捐那么少，还好意思报数”。我相信现在大部分人都不愿意公布捐款金额，因为捐款已经不再是一件随心的行动，而是成为大家根据金额的多少来衡量爱心的大小。我相信在座的各位也一定有过朋友之间随份子该给多少才合适的烦恼。我之所以说出来，不仅仅是因为我不觉得随性的行为需要躲闪，更因为“爱的骂骂”是每一个留言人的镜子。当时骂过我的人，也许，在两年后的今天听到我说的这番话，会想起曾经不太善意的留言却给了这些孩子们机会获得新生。这同样值得高兴。\n\n其实我们每个人都有不同阶段的新生，不是吗?“爱的骂骂”发出的那一刻，我如重生般释然了。虽然，我不像很多演员那样，拥有令人赞叹的表演才华，自己也觉得不是天生吃这碗饭的，但是既然选择了演员这份职业，我相信只要通过自己的努力和善待他人，就可以让自己的家人和自己过上幸福美满的生活。\n\n然而这一切，在2013年的夏天被一句开创演艺界(网络)暴力先河的“滚出娱乐圈”所动摇。我是第一个(被)放在主语位置的人。袁姗姗这个名字好像从此就和“一无是处”划上了等号。那个时候，不管说什么、做什么、演什么都不对。更有媒体总结了“袁姗姗不被观众所喜欢的五大理由”，第一条理由是“没有理由”。这是得有多深厚的感情基础，才能达到的境界。\n\n2013年确实挺让人操心的，从春天到夏天都没有平静过。一开始，我也有些懊恼，不知道到底发生了什么。我既然没有不劳而获，也没有做过伤天害理的事。为什么让我“滚”?!没多久，我想明白了一个道理，谁都可以说我不好，但是自己必须接纳那个心安理得的自己。既然我的演艺生涯要倒数开始，那我之后的每一点进步都是充满喜悦的。从零分到六十分比从满分到六十分，哪个更让人开心呢?\n\n也是从那个时候，我重拾扔下了多年的小提琴，还有健身。运动让我心情愉悦。不工作的时候，练琴和健身会让我的每一天都过得很充实，根本没有过多的时间停留在网上，更顾不上网友的围观。我建议那些沉迷于网络的年轻人，每天可以挤出一点时间锻炼身体。当有朝一日被他人欺负的时候，至少可以像我一样，身轻如燕，自由翻滚。\n\n不尽人意的2013年确实过得有些艰辛，但是我也时刻提醒着自己，别忘了尽可能给予所能达到的人以温暖。这是对鼓励过你的人最好的感激方式。但同时，我们也不要忽略身边朋友向你发出的求助信号。也许你的关心会改变他的决定。\n\n我在来之前了解到几个数据。在美国，有40%的年轻人遭遇过网络欺凌侵害，甚至有些受害者因此而患上精神疾病，身心受损。联合国儿童基金会在2014年的9月发布了一则消息报道，在法国，6到18岁之间的青少年有12.5%的人都有过在网上被攻击的经历。在中国，因为网络暴力而结束生命的人，离我们的生活越来越近。\n\n前不久，在台湾，有一位艺人因为网络暴力而自杀。听到这个消息的时候，我非常惋惜。我不知道她内心到底挣扎了多久。但当我看到这则新闻的时候，我有过一念之间的不安。如果在这之前，我可以跟她说几句话，她是不是好过一些?\n\n互联网的时代，让人与人之间的沟通方式越来越便捷，沟通成本却越来越大。足不出户在网上匿名可以干很多事，每天都要面对接踵而来的海量信息，有谁还愿意费力去核实消息的真实性，也不会有太多人会为自己发出或转发的信息而深思熟虑。那还有多少人会为他人的生命叹息呢?\n\n语言不应该成为致命的利器。网络的诞生也不应该是为了制造困扰，而是为了让生活变得更加美好。作为过去也许将来还会遭遇网络暴力的过来人，我不希望再有人因为网络暴力而受到伤害。请善用语言，让人言可敬。\n\n特别感谢在那段特殊时间陪伴我的家人和朋友，感谢他们承受住了一个当时还没有来得及减肥、各方面份量都很重的我。经历了这些，并不是想说明自己有多强大，但确实因为这些切身经历让我有了足够的时间去思考。我曾经问过自己一个问题——如果我当时真的不堪重负放弃了演员这个职业，是否网络暴力就会消失？答案当然不会。既然还是要面对，就应该积极面对。\n\n前不久，我参与了一部公益电影的拍摄。电影传递了一个非常积极的理念：每个人都有自由选择的机会和权利，无论你生下来是幸运的还是不幸的。我非常赞同，所以我选择做一个积极快乐的自己，不再受控于网络暴力中，不再只能看到消极的一面。\n\n都说做公益是在帮助他人，在我身上，成全了一个更加快乐的自己。不知道大家有没有看过这部电影。电影的名字叫《有一天》。我想在这里特别推荐一下。虽然我只参演了电影的一部分，但也给我带来了很多启发和感动。这部电影关注了九类特殊儿童群体。我参与拍摄的故事和聋哑儿童有关。跟我一起搭档演出的也是一名聋哑儿童。拍摄之前，我还有些顾虑，我不知道该怎么去跟他交流，我担心会因为自己不小心的举动伤害到他。但是见面之后，我才发现成年人的世界真的是因为想太多了变得复杂。只要我们保持一颗平常的心，用平等的方式去交流，就不会存在特别的障碍。重要的是你怎么看，而不是他怎么想。\n\n拍摄的那几天，我平静而快乐。每当完成一个镜头，这个小少年都会跟我竖起大拇指示意。他这个小小的举动也提醒了我和我们，有人选择赞美有人则不。\n\n感谢“爱的骂骂”，感谢《有一天》，感谢喝倒彩时刻提醒我的人，感谢一直鼓励我的家人和朋友，感谢倔强中的那个自己。我希望能有更多的人可以像我一样，主动地从逆境中走出来。这个世界还有很多需要我们关心的事去做，需要我们关心的人去爱。保持自己的真实，倔强地活下去。\n\n感谢大家的聆听，感谢网络世界将我带到你们面前。\n\n&nbsp;","slug":"protect-yourself-in-network","published":1,"updated":"2016-11-22T01:40:09.751Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqw00248gnyc5u39ta7","content":"<p>我想先问大家一个问题，有谁一年365，天天被未曾谋面的陌生人骂?举手的这个人就站在你们面前。不过别担心，我今天不是来诉苦的，我是穿着马甲来跟大家分享如何被骂大的。</p><p>网络对于我们来说再日常不过，但是当你身处网络世界的围攻中，就不再那么轻松。2013年的以前，我作梦也想不到自己会变成网络世界里的“黑姑娘”。因为参演了一部电视剧，演技没有达到观众的预期，故事的结局不尽人意，而被推到了风口浪尖，让我从一个还在摸爬滚打的小演员，一夜之间变成了被大家声讨的“热门人物”。</p><p>震惊之余，让自己尽快从虚拟的世界中挣脱出来是我唯一的出路。我选择在网络声中被倒下，就在网络声中爬起来。有不少人认为，公众人物就应该具有强大的承受能力和耐力，打不还手，骂不还口。偶尔被坑蒙拐骗了，还要尽量先捂着不敢报警。</p><p>当我被骂得小有名气的时候，我就暗自思量。反正也挨骂，不如用最积极的方式迎接骂声。2013年3月3日，我在微博上发出了一条名为“爱的骂骂”的微博，既然大家那么需要宣泄，点击鼠标可以不用负责，那我也动动手指头，干点什么吧！</p><p>我在微博里面制定了骂的规则——骂，没问题，但请集中精力地骂。只要在我这条微博下面留言的，不管是鼓励我的、骂我的，还是随便说说的，我都认捐五毛。24个小时，有十万多条留言，捐款金额是50693.5元，作为北京一家残疾孤儿康复机构的手术费。</p><p>在这里，我要对每一位留言的人表示感谢。因为我们一起在虚拟的世界中救助了4个在现实生活中顽强生活着的残疾孤儿。其中有一个孩子，在手术后的那一年，终于有机会可以站起来了。那时候她还不满三岁。当我看到她第一次站起来，我很感动，也很骄傲，这个“黑姑娘”干了一件痛快的事。</p><p>是的，我说出了金额。我知道，一定会有人说“捐那么少，还好意思报数”。我相信现在大部分人都不愿意公布捐款金额，因为捐款已经不再是一件随心的行动，而是成为大家根据金额的多少来衡量爱心的大小。我相信在座的各位也一定有过朋友之间随份子该给多少才合适的烦恼。我之所以说出来，不仅仅是因为我不觉得随性的行为需要躲闪，更因为“爱的骂骂”是每一个留言人的镜子。当时骂过我的人，也许，在两年后的今天听到我说的这番话，会想起曾经不太善意的留言却给了这些孩子们机会获得新生。这同样值得高兴。</p><p>其实我们每个人都有不同阶段的新生，不是吗?“爱的骂骂”发出的那一刻，我如重生般释然了。虽然，我不像很多演员那样，拥有令人赞叹的表演才华，自己也觉得不是天生吃这碗饭的，但是既然选择了演员这份职业，我相信只要通过自己的努力和善待他人，就可以让自己的家人和自己过上幸福美满的生活。</p><p>然而这一切，在2013年的夏天被一句开创演艺界(网络)暴力先河的“滚出娱乐圈”所动摇。我是第一个(被)放在主语位置的人。袁姗姗这个名字好像从此就和“一无是处”划上了等号。那个时候，不管说什么、做什么、演什么都不对。更有媒体总结了“袁姗姗不被观众所喜欢的五大理由”，第一条理由是“没有理由”。这是得有多深厚的感情基础，才能达到的境界。</p><p>2013年确实挺让人操心的，从春天到夏天都没有平静过。一开始，我也有些懊恼，不知道到底发生了什么。我既然没有不劳而获，也没有做过伤天害理的事。为什么让我“滚”?!没多久，我想明白了一个道理，谁都可以说我不好，但是自己必须接纳那个心安理得的自己。既然我的演艺生涯要倒数开始，那我之后的每一点进步都是充满喜悦的。从零分到六十分比从满分到六十分，哪个更让人开心呢?</p><p>也是从那个时候，我重拾扔下了多年的小提琴，还有健身。运动让我心情愉悦。不工作的时候，练琴和健身会让我的每一天都过得很充实，根本没有过多的时间停留在网上，更顾不上网友的围观。我建议那些沉迷于网络的年轻人，每天可以挤出一点时间锻炼身体。当有朝一日被他人欺负的时候，至少可以像我一样，身轻如燕，自由翻滚。</p><p>不尽人意的2013年确实过得有些艰辛，但是我也时刻提醒着自己，别忘了尽可能给予所能达到的人以温暖。这是对鼓励过你的人最好的感激方式。但同时，我们也不要忽略身边朋友向你发出的求助信号。也许你的关心会改变他的决定。</p><p>我在来之前了解到几个数据。在美国，有40%的年轻人遭遇过网络欺凌侵害，甚至有些受害者因此而患上精神疾病，身心受损。联合国儿童基金会在2014年的9月发布了一则消息报道，在法国，6到18岁之间的青少年有12.5%的人都有过在网上被攻击的经历。在中国，因为网络暴力而结束生命的人，离我们的生活越来越近。</p><p>前不久，在台湾，有一位艺人因为网络暴力而自杀。听到这个消息的时候，我非常惋惜。我不知道她内心到底挣扎了多久。但当我看到这则新闻的时候，我有过一念之间的不安。如果在这之前，我可以跟她说几句话，她是不是好过一些?</p><p>互联网的时代，让人与人之间的沟通方式越来越便捷，沟通成本却越来越大。足不出户在网上匿名可以干很多事，每天都要面对接踵而来的海量信息，有谁还愿意费力去核实消息的真实性，也不会有太多人会为自己发出或转发的信息而深思熟虑。那还有多少人会为他人的生命叹息呢?</p><p>语言不应该成为致命的利器。网络的诞生也不应该是为了制造困扰，而是为了让生活变得更加美好。作为过去也许将来还会遭遇网络暴力的过来人，我不希望再有人因为网络暴力而受到伤害。请善用语言，让人言可敬。</p><p>特别感谢在那段特殊时间陪伴我的家人和朋友，感谢他们承受住了一个当时还没有来得及减肥、各方面份量都很重的我。经历了这些，并不是想说明自己有多强大，但确实因为这些切身经历让我有了足够的时间去思考。我曾经问过自己一个问题——如果我当时真的不堪重负放弃了演员这个职业，是否网络暴力就会消失？答案当然不会。既然还是要面对，就应该积极面对。</p><p>前不久，我参与了一部公益电影的拍摄。电影传递了一个非常积极的理念：每个人都有自由选择的机会和权利，无论你生下来是幸运的还是不幸的。我非常赞同，所以我选择做一个积极快乐的自己，不再受控于网络暴力中，不再只能看到消极的一面。</p><p>都说做公益是在帮助他人，在我身上，成全了一个更加快乐的自己。不知道大家有没有看过这部电影。电影的名字叫《有一天》。我想在这里特别推荐一下。虽然我只参演了电影的一部分，但也给我带来了很多启发和感动。这部电影关注了九类特殊儿童群体。我参与拍摄的故事和聋哑儿童有关。跟我一起搭档演出的也是一名聋哑儿童。拍摄之前，我还有些顾虑，我不知道该怎么去跟他交流，我担心会因为自己不小心的举动伤害到他。但是见面之后，我才发现成年人的世界真的是因为想太多了变得复杂。只要我们保持一颗平常的心，用平等的方式去交流，就不会存在特别的障碍。重要的是你怎么看，而不是他怎么想。</p><p>拍摄的那几天，我平静而快乐。每当完成一个镜头，这个小少年都会跟我竖起大拇指示意。他这个小小的举动也提醒了我和我们，有人选择赞美有人则不。</p><p>感谢“爱的骂骂”，感谢《有一天》，感谢喝倒彩时刻提醒我的人，感谢一直鼓励我的家人和朋友，感谢倔强中的那个自己。我希望能有更多的人可以像我一样，主动地从逆境中走出来。这个世界还有很多需要我们关心的事去做，需要我们关心的人去爱。保持自己的真实，倔强地活下去。</p><p>感谢大家的聆听，感谢网络世界将我带到你们面前。</p><p>&nbsp;</p>","excerpt":"","more":"<p>我想先问大家一个问题，有谁一年365，天天被未曾谋面的陌生人骂?举手的这个人就站在你们面前。不过别担心，我今天不是来诉苦的，我是穿着马甲来跟大家分享如何被骂大的。</p><p>网络对于我们来说再日常不过，但是当你身处网络世界的围攻中，就不再那么轻松。2013年的以前，我作梦也想不到自己会变成网络世界里的“黑姑娘”。因为参演了一部电视剧，演技没有达到观众的预期，故事的结局不尽人意，而被推到了风口浪尖，让我从一个还在摸爬滚打的小演员，一夜之间变成了被大家声讨的“热门人物”。</p><p>震惊之余，让自己尽快从虚拟的世界中挣脱出来是我唯一的出路。我选择在网络声中被倒下，就在网络声中爬起来。有不少人认为，公众人物就应该具有强大的承受能力和耐力，打不还手，骂不还口。偶尔被坑蒙拐骗了，还要尽量先捂着不敢报警。</p><p>当我被骂得小有名气的时候，我就暗自思量。反正也挨骂，不如用最积极的方式迎接骂声。2013年3月3日，我在微博上发出了一条名为“爱的骂骂”的微博，既然大家那么需要宣泄，点击鼠标可以不用负责，那我也动动手指头，干点什么吧！</p><p>我在微博里面制定了骂的规则——骂，没问题，但请集中精力地骂。只要在我这条微博下面留言的，不管是鼓励我的、骂我的，还是随便说说的，我都认捐五毛。24个小时，有十万多条留言，捐款金额是50693.5元，作为北京一家残疾孤儿康复机构的手术费。</p><p>在这里，我要对每一位留言的人表示感谢。因为我们一起在虚拟的世界中救助了4个在现实生活中顽强生活着的残疾孤儿。其中有一个孩子，在手术后的那一年，终于有机会可以站起来了。那时候她还不满三岁。当我看到她第一次站起来，我很感动，也很骄傲，这个“黑姑娘”干了一件痛快的事。</p><p>是的，我说出了金额。我知道，一定会有人说“捐那么少，还好意思报数”。我相信现在大部分人都不愿意公布捐款金额，因为捐款已经不再是一件随心的行动，而是成为大家根据金额的多少来衡量爱心的大小。我相信在座的各位也一定有过朋友之间随份子该给多少才合适的烦恼。我之所以说出来，不仅仅是因为我不觉得随性的行为需要躲闪，更因为“爱的骂骂”是每一个留言人的镜子。当时骂过我的人，也许，在两年后的今天听到我说的这番话，会想起曾经不太善意的留言却给了这些孩子们机会获得新生。这同样值得高兴。</p><p>其实我们每个人都有不同阶段的新生，不是吗?“爱的骂骂”发出的那一刻，我如重生般释然了。虽然，我不像很多演员那样，拥有令人赞叹的表演才华，自己也觉得不是天生吃这碗饭的，但是既然选择了演员这份职业，我相信只要通过自己的努力和善待他人，就可以让自己的家人和自己过上幸福美满的生活。</p><p>然而这一切，在2013年的夏天被一句开创演艺界(网络)暴力先河的“滚出娱乐圈”所动摇。我是第一个(被)放在主语位置的人。袁姗姗这个名字好像从此就和“一无是处”划上了等号。那个时候，不管说什么、做什么、演什么都不对。更有媒体总结了“袁姗姗不被观众所喜欢的五大理由”，第一条理由是“没有理由”。这是得有多深厚的感情基础，才能达到的境界。</p><p>2013年确实挺让人操心的，从春天到夏天都没有平静过。一开始，我也有些懊恼，不知道到底发生了什么。我既然没有不劳而获，也没有做过伤天害理的事。为什么让我“滚”?!没多久，我想明白了一个道理，谁都可以说我不好，但是自己必须接纳那个心安理得的自己。既然我的演艺生涯要倒数开始，那我之后的每一点进步都是充满喜悦的。从零分到六十分比从满分到六十分，哪个更让人开心呢?</p><p>也是从那个时候，我重拾扔下了多年的小提琴，还有健身。运动让我心情愉悦。不工作的时候，练琴和健身会让我的每一天都过得很充实，根本没有过多的时间停留在网上，更顾不上网友的围观。我建议那些沉迷于网络的年轻人，每天可以挤出一点时间锻炼身体。当有朝一日被他人欺负的时候，至少可以像我一样，身轻如燕，自由翻滚。</p><p>不尽人意的2013年确实过得有些艰辛，但是我也时刻提醒着自己，别忘了尽可能给予所能达到的人以温暖。这是对鼓励过你的人最好的感激方式。但同时，我们也不要忽略身边朋友向你发出的求助信号。也许你的关心会改变他的决定。</p><p>我在来之前了解到几个数据。在美国，有40%的年轻人遭遇过网络欺凌侵害，甚至有些受害者因此而患上精神疾病，身心受损。联合国儿童基金会在2014年的9月发布了一则消息报道，在法国，6到18岁之间的青少年有12.5%的人都有过在网上被攻击的经历。在中国，因为网络暴力而结束生命的人，离我们的生活越来越近。</p><p>前不久，在台湾，有一位艺人因为网络暴力而自杀。听到这个消息的时候，我非常惋惜。我不知道她内心到底挣扎了多久。但当我看到这则新闻的时候，我有过一念之间的不安。如果在这之前，我可以跟她说几句话，她是不是好过一些?</p><p>互联网的时代，让人与人之间的沟通方式越来越便捷，沟通成本却越来越大。足不出户在网上匿名可以干很多事，每天都要面对接踵而来的海量信息，有谁还愿意费力去核实消息的真实性，也不会有太多人会为自己发出或转发的信息而深思熟虑。那还有多少人会为他人的生命叹息呢?</p><p>语言不应该成为致命的利器。网络的诞生也不应该是为了制造困扰，而是为了让生活变得更加美好。作为过去也许将来还会遭遇网络暴力的过来人，我不希望再有人因为网络暴力而受到伤害。请善用语言，让人言可敬。</p><p>特别感谢在那段特殊时间陪伴我的家人和朋友，感谢他们承受住了一个当时还没有来得及减肥、各方面份量都很重的我。经历了这些，并不是想说明自己有多强大，但确实因为这些切身经历让我有了足够的时间去思考。我曾经问过自己一个问题——如果我当时真的不堪重负放弃了演员这个职业，是否网络暴力就会消失？答案当然不会。既然还是要面对，就应该积极面对。</p><p>前不久，我参与了一部公益电影的拍摄。电影传递了一个非常积极的理念：每个人都有自由选择的机会和权利，无论你生下来是幸运的还是不幸的。我非常赞同，所以我选择做一个积极快乐的自己，不再受控于网络暴力中，不再只能看到消极的一面。</p><p>都说做公益是在帮助他人，在我身上，成全了一个更加快乐的自己。不知道大家有没有看过这部电影。电影的名字叫《有一天》。我想在这里特别推荐一下。虽然我只参演了电影的一部分，但也给我带来了很多启发和感动。这部电影关注了九类特殊儿童群体。我参与拍摄的故事和聋哑儿童有关。跟我一起搭档演出的也是一名聋哑儿童。拍摄之前，我还有些顾虑，我不知道该怎么去跟他交流，我担心会因为自己不小心的举动伤害到他。但是见面之后，我才发现成年人的世界真的是因为想太多了变得复杂。只要我们保持一颗平常的心，用平等的方式去交流，就不会存在特别的障碍。重要的是你怎么看，而不是他怎么想。</p><p>拍摄的那几天，我平静而快乐。每当完成一个镜头，这个小少年都会跟我竖起大拇指示意。他这个小小的举动也提醒了我和我们，有人选择赞美有人则不。</p><p>感谢“爱的骂骂”，感谢《有一天》，感谢喝倒彩时刻提醒我的人，感谢一直鼓励我的家人和朋友，感谢倔强中的那个自己。我希望能有更多的人可以像我一样，主动地从逆境中走出来。这个世界还有很多需要我们关心的事去做，需要我们关心的人去爱。保持自己的真实，倔强地活下去。</p><p>感谢大家的聆听，感谢网络世界将我带到你们面前。</p><p>&nbsp;</p>"},{"title":"图片加载错误时显示默认图片","date":"2015-11-27T10:24:36.000Z","_content":"\n## 直接写\n\n```js\nfunction imgError(image) {\n    image.onerror = null; // prevent event bubble\n    image.src = \"/images/noimage.gif\";\n    return true;\n}\n```\n```html\n<img src=\"image.png\" onerror=\"imgError(this);\"/>\n```\n\n## 使用 jQuery\n```js\n$(\"img\").error(function () {\n    $(this).unbind(\"error\").attr(\"src\", \"broken.gif\");\n});\n\n//If you use this technique you can use the \"one\" method to avoid needing to unbind the event: \n$('img').one('error', function() { \n  this.src = 'broken.gif'; \n}); \n```\n\n## 还有一种写法\n```js\n$(window).load(function() {\n  $('img').each(function() {\n    if (!this.complete \n        || typeof this.naturalWidth == \"undefined\" \n        || this.naturalWidth == 0) {\n      // image was broken, replace with your new image\n      this.src = 'broken.gif';\n    }\n  });\n});\n```","source":"_posts/show-a-default-image-when-the-image-is-broken.md","raw":"title: 图片加载错误时显示默认图片\ntags:\n  - imgage error\ncategories:\n  - JavaScript\ndate: 2015-11-27 18:24:36\n---\n\n## 直接写\n\n```js\nfunction imgError(image) {\n    image.onerror = null; // prevent event bubble\n    image.src = \"/images/noimage.gif\";\n    return true;\n}\n```\n```html\n<img src=\"image.png\" onerror=\"imgError(this);\"/>\n```\n\n## 使用 jQuery\n```js\n$(\"img\").error(function () {\n    $(this).unbind(\"error\").attr(\"src\", \"broken.gif\");\n});\n\n//If you use this technique you can use the \"one\" method to avoid needing to unbind the event: \n$('img').one('error', function() { \n  this.src = 'broken.gif'; \n}); \n```\n\n## 还有一种写法\n```js\n$(window).load(function() {\n  $('img').each(function() {\n    if (!this.complete \n        || typeof this.naturalWidth == \"undefined\" \n        || this.naturalWidth == 0) {\n      // image was broken, replace with your new image\n      this.src = 'broken.gif';\n    }\n  });\n});\n```","slug":"show-a-default-image-when-the-image-is-broken","published":1,"updated":"2016-11-22T01:40:09.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqx00258gnyp645kl2b","content":"<h2 id=\"直接写\"><a href=\"#直接写\" class=\"headerlink\" title=\"直接写\"></a>直接写</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">imgError</span>(<span class=\"params\">image</span>) </span>&#123;</span>\n<span class=\"line\">    image.onerror = <span class=\"literal\">null</span>; <span class=\"comment\">// prevent event bubble</span></span>\n<span class=\"line\">    image.src = <span class=\"string\">\"/images/noimage.gif\"</span>;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"image.png\"</span> <span class=\"attr\">onerror</span>=<span class=\"string\">\"imgError(this);\"</span>/&gt;</span></span>\n</pre></td></tr></table></figure><h2 id=\"使用-jQuery\"><a href=\"#使用-jQuery\" class=\"headerlink\" title=\"使用 jQuery\"></a>使用 jQuery</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">\"img\"</span>).error(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    $(<span class=\"keyword\">this</span>).unbind(<span class=\"string\">\"error\"</span>).attr(<span class=\"string\">\"src\"</span>, <span class=\"string\">\"broken.gif\"</span>);</span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">//If you use this technique you can use the \"one\" method to avoid needing to unbind the event: </span></span>\n<span class=\"line\">$(<span class=\"string\">'img'</span>).one(<span class=\"string\">'error'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; </span>\n<span class=\"line\">  <span class=\"keyword\">this</span>.src = <span class=\"string\">'broken.gif'</span>; </span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><h2 id=\"还有一种写法\"><a href=\"#还有一种写法\" class=\"headerlink\" title=\"还有一种写法\"></a>还有一种写法</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"built_in\">window</span>).load(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  $(<span class=\"string\">'img'</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.complete </span>\n<span class=\"line\">        || <span class=\"keyword\">typeof</span> <span class=\"keyword\">this</span>.naturalWidth == <span class=\"string\">\"undefined\"</span> </span>\n<span class=\"line\">        || <span class=\"keyword\">this</span>.naturalWidth == <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">      <span class=\"comment\">// image was broken, replace with your new image</span></span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.src = <span class=\"string\">'broken.gif'</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;);</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<h2 id=\"直接写\"><a href=\"#直接写\" class=\"headerlink\" title=\"直接写\"></a>直接写</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">imgError</span>(<span class=\"params\">image</span>) </span>&#123;</span>\n<span class=\"line\">    image.onerror = <span class=\"literal\">null</span>; <span class=\"comment\">// prevent event bubble</span></span>\n<span class=\"line\">    image.src = <span class=\"string\">\"/images/noimage.gif\"</span>;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"image.png\"</span> <span class=\"attr\">onerror</span>=<span class=\"string\">\"imgError(this);\"</span>/&gt;</span></span>\n</pre></td></tr></table></figure><h2 id=\"使用-jQuery\"><a href=\"#使用-jQuery\" class=\"headerlink\" title=\"使用 jQuery\"></a>使用 jQuery</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">\"img\"</span>).error(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    $(<span class=\"keyword\">this</span>).unbind(<span class=\"string\">\"error\"</span>).attr(<span class=\"string\">\"src\"</span>, <span class=\"string\">\"broken.gif\"</span>);</span>\n<span class=\"line\">&#125;);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">//If you use this technique you can use the \"one\" method to avoid needing to unbind the event: </span></span>\n<span class=\"line\">$(<span class=\"string\">'img'</span>).one(<span class=\"string\">'error'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; </span>\n<span class=\"line\">  <span class=\"keyword\">this</span>.src = <span class=\"string\">'broken.gif'</span>; </span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><h2 id=\"还有一种写法\"><a href=\"#还有一种写法\" class=\"headerlink\" title=\"还有一种写法\"></a>还有一种写法</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"built_in\">window</span>).load(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  $(<span class=\"string\">'img'</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.complete </span>\n<span class=\"line\">        || <span class=\"keyword\">typeof</span> <span class=\"keyword\">this</span>.naturalWidth == <span class=\"string\">\"undefined\"</span> </span>\n<span class=\"line\">        || <span class=\"keyword\">this</span>.naturalWidth == <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">      <span class=\"comment\">// image was broken, replace with your new image</span></span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.src = <span class=\"string\">'broken.gif'</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;);</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure>"},{"title":"Javascript 中的 splice 方法","_content":"\n> splice() 方法向/从数组中添加/删除项目，然后返回被删除的项目。(会改变原始数组)\n\n## 语法\n\n```js\n  arrayObject.splice(index, how-many, item1, item2, ...itemX)\n```\n\n参数               | 描述\n----------------- | -----------------------------------\nindex             | 必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置。\nhow-many          | 必需。要删除的项目数量。``如果设置为 0，则不会删除项目``。\nitem1, ..., itemX | 可选。向数组添加的新项目。\n\n## 用法举例\n\n在数组最开始插入一个元素\n\n```js\nvar arrr = [1, 2, 3, 4];   // arrr: [1, 2, 3, 4]\narrr.splice(0, 0, 0);   // arrr: [0, 1, 2, 3, 4]\n```\n\n删除第三个\n\n```js\n// arrr: [0, 1, 2, 3, 4]\narrr.splice(3, 1) // return [3] 删除的元素会做为返回返回值\n                  // arrr: [0, 1, 2, 4]\n```\n\n删除后面两个\n\n```js\n// arrr: [0, 1, 2, 4]\narrr.splice(2, 2) // return [2， 4]\n                  // arrr: [0, 1]\n```\n\n替换\n\n```js\n// 把第二个元素变成 5\n// arrr: [0, 1, 2, 4]\narrr.splice(2, 1, 5); // [0, 1, 5, 4]\n```\n\n交换位置\n\n```js\nfunction swapArrayItemPosition(arr, one, another) {\n  var dummy = arr.splice(one, 1, arr[another])[0];\n  arr.splice(another, 1, dummy);\n  return arr;\n}\n\n// arrr = [0, 1, 5, 4]\nswapArrayItemPosition(arrr, 1, 2); // [0, 5, 1, 4]\n```\n","source":"_posts/splice-in-javascript.md","raw":"title: Javascript 中的 splice 方法\n\ntags:\n  - splice\n  - array\n  - js\n\ncategories:\n  - javascript\n  - date: 2016-03-16 14:25:53\n\n--------------------------------------------------------------------------------\n\n> splice() 方法向/从数组中添加/删除项目，然后返回被删除的项目。(会改变原始数组)\n\n## 语法\n\n```js\n  arrayObject.splice(index, how-many, item1, item2, ...itemX)\n```\n\n参数               | 描述\n----------------- | -----------------------------------\nindex             | 必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置。\nhow-many          | 必需。要删除的项目数量。``如果设置为 0，则不会删除项目``。\nitem1, ..., itemX | 可选。向数组添加的新项目。\n\n## 用法举例\n\n在数组最开始插入一个元素\n\n```js\nvar arrr = [1, 2, 3, 4];   // arrr: [1, 2, 3, 4]\narrr.splice(0, 0, 0);   // arrr: [0, 1, 2, 3, 4]\n```\n\n删除第三个\n\n```js\n// arrr: [0, 1, 2, 3, 4]\narrr.splice(3, 1) // return [3] 删除的元素会做为返回返回值\n                  // arrr: [0, 1, 2, 4]\n```\n\n删除后面两个\n\n```js\n// arrr: [0, 1, 2, 4]\narrr.splice(2, 2) // return [2， 4]\n                  // arrr: [0, 1]\n```\n\n替换\n\n```js\n// 把第二个元素变成 5\n// arrr: [0, 1, 2, 4]\narrr.splice(2, 1, 5); // [0, 1, 5, 4]\n```\n\n交换位置\n\n```js\nfunction swapArrayItemPosition(arr, one, another) {\n  var dummy = arr.splice(one, 1, arr[another])[0];\n  arr.splice(another, 1, dummy);\n  return arr;\n}\n\n// arrr = [0, 1, 5, 4]\nswapArrayItemPosition(arrr, 1, 2); // [0, 5, 1, 4]\n```\n","slug":"splice-in-javascript","published":1,"date":"2016-11-22T01:40:09.766Z","updated":"2017-01-04T01:50:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bqz00288gnyv020m6zt","content":"<blockquote><p>splice() 方法向/从数组中添加/删除项目，然后返回被删除的项目。(会改变原始数组)</p></blockquote><h2 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">arrayObject.splice(index, how-many, item1, item2, ...itemX)</span>\n</pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>index</td><td>必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置。</td></tr><tr><td>how-many</td><td>必需。要删除的项目数量。<code>如果设置为 0，则不会删除项目</code>。</td></tr><tr><td>item1, …, itemX</td><td>可选。向数组添加的新项目。</td></tr></tbody></table><h2 id=\"用法举例\"><a href=\"#用法举例\" class=\"headerlink\" title=\"用法举例\"></a>用法举例</h2><p>在数组最开始插入一个元素</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arrr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>];   <span class=\"comment\">// arrr: [1, 2, 3, 4]</span></span>\n<span class=\"line\">arrr.splice(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);   <span class=\"comment\">// arrr: [0, 1, 2, 3, 4]</span></span>\n</pre></td></tr></table></figure><p>删除第三个</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// arrr: [0, 1, 2, 3, 4]</span></span>\n<span class=\"line\">arrr.splice(<span class=\"number\">3</span>, <span class=\"number\">1</span>) <span class=\"comment\">// return [3] 删除的元素会做为返回返回值</span></span>\n<span class=\"line\">                  <span class=\"comment\">// arrr: [0, 1, 2, 4]</span></span>\n</pre></td></tr></table></figure><p>删除后面两个</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// arrr: [0, 1, 2, 4]</span></span>\n<span class=\"line\">arrr.splice(<span class=\"number\">2</span>, <span class=\"number\">2</span>) <span class=\"comment\">// return [2， 4]</span></span>\n<span class=\"line\">                  <span class=\"comment\">// arrr: [0, 1]</span></span>\n</pre></td></tr></table></figure><p>替换</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 把第二个元素变成 5</span></span>\n<span class=\"line\"><span class=\"comment\">// arrr: [0, 1, 2, 4]</span></span>\n<span class=\"line\">arrr.splice(<span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>); <span class=\"comment\">// [0, 1, 5, 4]</span></span>\n</pre></td></tr></table></figure><p>交换位置</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">swapArrayItemPosition</span>(<span class=\"params\">arr, one, another</span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">var</span> dummy = arr.splice(one, <span class=\"number\">1</span>, arr[another])[<span class=\"number\">0</span>];</span>\n<span class=\"line\">  arr.splice(another, <span class=\"number\">1</span>, dummy);</span>\n<span class=\"line\">  <span class=\"keyword\">return</span> arr;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// arrr = [0, 1, 5, 4]</span></span>\n<span class=\"line\">swapArrayItemPosition(arrr, <span class=\"number\">1</span>, <span class=\"number\">2</span>); <span class=\"comment\">// [0, 5, 1, 4]</span></span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<blockquote><p>splice() 方法向/从数组中添加/删除项目，然后返回被删除的项目。(会改变原始数组)</p></blockquote><h2 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">arrayObject.splice(index, how-many, item1, item2, ...itemX)</span>\n</pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>index</td><td>必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置。</td></tr><tr><td>how-many</td><td>必需。要删除的项目数量。<code>如果设置为 0，则不会删除项目</code>。</td></tr><tr><td>item1, …, itemX</td><td>可选。向数组添加的新项目。</td></tr></tbody></table><h2 id=\"用法举例\"><a href=\"#用法举例\" class=\"headerlink\" title=\"用法举例\"></a>用法举例</h2><p>在数组最开始插入一个元素</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arrr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>];   <span class=\"comment\">// arrr: [1, 2, 3, 4]</span></span>\n<span class=\"line\">arrr.splice(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);   <span class=\"comment\">// arrr: [0, 1, 2, 3, 4]</span></span>\n</pre></td></tr></table></figure><p>删除第三个</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// arrr: [0, 1, 2, 3, 4]</span></span>\n<span class=\"line\">arrr.splice(<span class=\"number\">3</span>, <span class=\"number\">1</span>) <span class=\"comment\">// return [3] 删除的元素会做为返回返回值</span></span>\n<span class=\"line\">                  <span class=\"comment\">// arrr: [0, 1, 2, 4]</span></span>\n</pre></td></tr></table></figure><p>删除后面两个</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// arrr: [0, 1, 2, 4]</span></span>\n<span class=\"line\">arrr.splice(<span class=\"number\">2</span>, <span class=\"number\">2</span>) <span class=\"comment\">// return [2， 4]</span></span>\n<span class=\"line\">                  <span class=\"comment\">// arrr: [0, 1]</span></span>\n</pre></td></tr></table></figure><p>替换</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 把第二个元素变成 5</span></span>\n<span class=\"line\"><span class=\"comment\">// arrr: [0, 1, 2, 4]</span></span>\n<span class=\"line\">arrr.splice(<span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>); <span class=\"comment\">// [0, 1, 5, 4]</span></span>\n</pre></td></tr></table></figure><p>交换位置</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">swapArrayItemPosition</span>(<span class=\"params\">arr, one, another</span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"keyword\">var</span> dummy = arr.splice(one, <span class=\"number\">1</span>, arr[another])[<span class=\"number\">0</span>];</span>\n<span class=\"line\">  arr.splice(another, <span class=\"number\">1</span>, dummy);</span>\n<span class=\"line\">  <span class=\"keyword\">return</span> arr;</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// arrr = [0, 1, 5, 4]</span></span>\n<span class=\"line\">swapArrayItemPosition(arrr, <span class=\"number\">1</span>, <span class=\"number\">2</span>); <span class=\"comment\">// [0, 5, 1, 4]</span></span>\n</pre></td></tr></table></figure>"},{"title":"在微信网页上的电话号码","date":"2016-02-26T10:36:25.000Z","_content":"\n### 电话好不不想被识别\n\n在网页中的比较长的数字会被微信浏览器自动识别为电话号码，稍不注意可能就使页面变得很难看，与是，在 header 里面加上下面两个 meta 就电话号码就不会被识别了。\n\n```html\n<meta name=\"format-detection\" content=\"telephone=no\"/>\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n```\n\n### 如果要识别呢？\n\n加一个 `tel//***` 就可以了。\n\n```html\n<div class=\"telephone\">\n    <p>苹果妹妹专线</p>\n    <a href=\"tel://4000630086\">400-063-0086</a>\n</div>\n```\n","source":"_posts/telephone-number-not-recognize-in-wx.md","raw":"title: 在微信网页上的电话号码\ntags:\n  - 微信开发\ncategories:\n  - 微信开发\ndate: 2016-02-26 18:36:25\n---\n\n### 电话好不不想被识别\n\n在网页中的比较长的数字会被微信浏览器自动识别为电话号码，稍不注意可能就使页面变得很难看，与是，在 header 里面加上下面两个 meta 就电话号码就不会被识别了。\n\n```html\n<meta name=\"format-detection\" content=\"telephone=no\"/>\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n```\n\n### 如果要识别呢？\n\n加一个 `tel//***` 就可以了。\n\n```html\n<div class=\"telephone\">\n    <p>苹果妹妹专线</p>\n    <a href=\"tel://4000630086\">400-063-0086</a>\n</div>\n```\n","slug":"telephone-number-not-recognize-in-wx","published":1,"updated":"2016-11-22T01:40:09.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0br1002a8gnysmvuxz54","content":"<h3 id=\"电话好不不想被识别\"><a href=\"#电话好不不想被识别\" class=\"headerlink\" title=\"电话好不不想被识别\"></a>电话好不不想被识别</h3><p>在网页中的比较长的数字会被微信浏览器自动识别为电话号码，稍不注意可能就使页面变得很难看，与是，在 header 里面加上下面两个 meta 就电话号码就不会被识别了。</p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"format-detection\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"telephone=no\"</span>/&gt;</span></span>\n<span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"x-rim-auto-match\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"none\"</span>&gt;</span></span>\n</pre></td></tr></table></figure><h3 id=\"如果要识别呢？\"><a href=\"#如果要识别呢？\" class=\"headerlink\" title=\"如果要识别呢？\"></a>如果要识别呢？</h3><p>加一个 <code>tel//***</code> 就可以了。</p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"telephone\"</span>&gt;</span></span>\n<span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>苹果妹妹专线<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span>\n<span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"tel://4000630086\"</span>&gt;</span>400-063-0086<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span>\n<span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<h3 id=\"电话好不不想被识别\"><a href=\"#电话好不不想被识别\" class=\"headerlink\" title=\"电话好不不想被识别\"></a>电话好不不想被识别</h3><p>在网页中的比较长的数字会被微信浏览器自动识别为电话号码，稍不注意可能就使页面变得很难看，与是，在 header 里面加上下面两个 meta 就电话号码就不会被识别了。</p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"format-detection\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"telephone=no\"</span>/&gt;</span></span>\n<span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"x-rim-auto-match\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"none\"</span>&gt;</span></span>\n</pre></td></tr></table></figure><h3 id=\"如果要识别呢？\"><a href=\"#如果要识别呢？\" class=\"headerlink\" title=\"如果要识别呢？\"></a>如果要识别呢？</h3><p>加一个 <code>tel//***</code> 就可以了。</p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"telephone\"</span>&gt;</span></span>\n<span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>苹果妹妹专线<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span>\n<span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"tel://4000630086\"</span>&gt;</span>400-063-0086<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span>\n<span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span>\n</pre></td></tr></table></figure>"},{"title":"test post assets folder","date":"2017-01-24T03:34:19.000Z","_content":"","source":"_posts/test-post-assets-folder.md","raw":"title: test post assets folder\ntags:\n  - null\ncategories:\n  - null\ndate: 2017-01-24 11:34:19\n---\n","slug":"test-post-assets-folder","published":1,"updated":"2017-01-24T03:34:19.077Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0br2002d8gnycg207gm1","content":"","excerpt":"","more":""},{"title":"Textarea 的高度自动增长","date":"2017-01-20T03:48:10.000Z","_content":"\n一般情况下，textarea 的高度是定死的，rows 指定了之后，高度就不变了，内容多了之后会出现滚动条，这样的设定在大部分的场景下面是够用的， 但是有时就会很丑陋（废话😊）。\n\n我们都知道 HTML 的元素都有一个 scrollHeight 这个属性，就是当该元素出现滚动条的时候，内容的高度。\n\n那就方便了：\n\n```js\n$(\".weui-textarea\").on('input propertychange keyup',function () {\n  $(this).height(this.scrollHeight);\n});\n```\n\n这样就实现了高度自动增加的 Textarea，但当我试着删掉几行，想让它自动降低高度的时候不禁菊花一紧，他不动~\n\n这就尴尬,,ԾㅂԾ,,了，于是我就找了另外一种方法:\n\n```js\n$('.weui-textarea').on('input keyup', function () {\n  // 尝试滚动一段距离，如果没有滚动条，scrollTop 还是 0\n  if (this.scrollTop == 0) {\n    this.scrollTop = 1;\n  }\n\n  while (this.scrollTop == 0) {\n    if (this.rows > minRows) {\n      this.rows--;\n    } else {\n      break;\n    }\n\n    this.scrollTop = 1;\n    if (this.rows < maxRows) {\n      this.style.overflowY = \"hidden\";\n    }\n\n    if (this.scrollTop > 0) {\n      this.rows++;\n      break;\n    }\n  }\n\n  while (this.scrollTop > 0) {\n    if (this.rows < maxRows) {\n      this.rows++;\n      if (this.scrollTop == 0) {\n        this.scrollTop = 1;\n      }\n    } else {\n      this.style.overflowY = \"auto\";\n      break;\n    }\n  }\n});\n```\n\n这是一个例子~ （换行试试~😏）\n\n<textarea \n  class=\"weui-textarea\" \n  placeholder=\"这是一个例子~\" \n  rows=\"3\" \n  style=\"resize: none;width: 100%;border: 1px solid pink; border-radius:4px; padding: 5px;font-size:14px;\"></textarea>\n<script>\n  $(function () {\n\n    var minRows = 3;\n    var maxRows = 10;\n\n    $('.weui-textarea').on('input keyup', function () {\n      // 尝试滚动一段距离，如果没有滚动条，scrollTop 还是 0\n      if (this.scrollTop == 0) {\n        this.scrollTop = 1;\n      }\n\n      while (this.scrollTop == 0) {\n        if (this.rows > minRows) {\n          this.rows--;\n        } else {\n          break;\n        }\n\n        this.scrollTop = 1;\n        if (this.rows < maxRows) {\n          this.style.overflowY = \"hidden\";\n        }\n\n        if (this.scrollTop > 0) {\n          this.rows++;\n          break;\n        }\n      }\n\n      while (this.scrollTop > 0) {\n        if (this.rows < maxRows) {\n          this.rows++;\n          if (this.scrollTop == 0) {\n            this.scrollTop = 1;\n          }\n        } else {\n          this.style.overflowY = \"auto\";\n          break;\n        }\n      }\n    });\n\n  });\n</script>","source":"_posts/textarea-height-auto-increase.md","raw":"title: Textarea 的高度自动增长\ntags:\n  - textarea\ncategories:\n  - HTML\ndate: 2017-01-20 11:48:10\n---\n\n一般情况下，textarea 的高度是定死的，rows 指定了之后，高度就不变了，内容多了之后会出现滚动条，这样的设定在大部分的场景下面是够用的， 但是有时就会很丑陋（废话😊）。\n\n我们都知道 HTML 的元素都有一个 scrollHeight 这个属性，就是当该元素出现滚动条的时候，内容的高度。\n\n那就方便了：\n\n```js\n$(\".weui-textarea\").on('input propertychange keyup',function () {\n  $(this).height(this.scrollHeight);\n});\n```\n\n这样就实现了高度自动增加的 Textarea，但当我试着删掉几行，想让它自动降低高度的时候不禁菊花一紧，他不动~\n\n这就尴尬,,ԾㅂԾ,,了，于是我就找了另外一种方法:\n\n```js\n$('.weui-textarea').on('input keyup', function () {\n  // 尝试滚动一段距离，如果没有滚动条，scrollTop 还是 0\n  if (this.scrollTop == 0) {\n    this.scrollTop = 1;\n  }\n\n  while (this.scrollTop == 0) {\n    if (this.rows > minRows) {\n      this.rows--;\n    } else {\n      break;\n    }\n\n    this.scrollTop = 1;\n    if (this.rows < maxRows) {\n      this.style.overflowY = \"hidden\";\n    }\n\n    if (this.scrollTop > 0) {\n      this.rows++;\n      break;\n    }\n  }\n\n  while (this.scrollTop > 0) {\n    if (this.rows < maxRows) {\n      this.rows++;\n      if (this.scrollTop == 0) {\n        this.scrollTop = 1;\n      }\n    } else {\n      this.style.overflowY = \"auto\";\n      break;\n    }\n  }\n});\n```\n\n这是一个例子~ （换行试试~😏）\n\n<textarea \n  class=\"weui-textarea\" \n  placeholder=\"这是一个例子~\" \n  rows=\"3\" \n  style=\"resize: none;width: 100%;border: 1px solid pink; border-radius:4px; padding: 5px;font-size:14px;\"></textarea>\n<script>\n  $(function () {\n\n    var minRows = 3;\n    var maxRows = 10;\n\n    $('.weui-textarea').on('input keyup', function () {\n      // 尝试滚动一段距离，如果没有滚动条，scrollTop 还是 0\n      if (this.scrollTop == 0) {\n        this.scrollTop = 1;\n      }\n\n      while (this.scrollTop == 0) {\n        if (this.rows > minRows) {\n          this.rows--;\n        } else {\n          break;\n        }\n\n        this.scrollTop = 1;\n        if (this.rows < maxRows) {\n          this.style.overflowY = \"hidden\";\n        }\n\n        if (this.scrollTop > 0) {\n          this.rows++;\n          break;\n        }\n      }\n\n      while (this.scrollTop > 0) {\n        if (this.rows < maxRows) {\n          this.rows++;\n          if (this.scrollTop == 0) {\n            this.scrollTop = 1;\n          }\n        } else {\n          this.style.overflowY = \"auto\";\n          break;\n        }\n      }\n    });\n\n  });\n</script>","slug":"textarea-height-auto-increase","published":1,"updated":"2017-01-20T06:41:03.831Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0br4002i8gnyfccttere","content":"<p>一般情况下，textarea 的高度是定死的，rows 指定了之后，高度就不变了，内容多了之后会出现滚动条，这样的设定在大部分的场景下面是够用的， 但是有时就会很丑陋（废话😊）。</p><p>我们都知道 HTML 的元素都有一个 scrollHeight 这个属性，就是当该元素出现滚动条的时候，内容的高度。</p><p>那就方便了：</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">\".weui-textarea\"</span>).on(<span class=\"string\">'input propertychange keyup'</span>,<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  $(<span class=\"keyword\">this</span>).height(<span class=\"keyword\">this</span>.scrollHeight);</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p>这样就实现了高度自动增加的 Textarea，但当我试着删掉几行，想让它自动降低高度的时候不禁菊花一紧，他不动~</p><p>这就尴尬,,ԾㅂԾ,,了，于是我就找了另外一种方法:</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">'.weui-textarea'</span>).on(<span class=\"string\">'input keyup'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"comment\">// 尝试滚动一段距离，如果没有滚动条，scrollTop 还是 0</span></span>\n<span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.scrollTop == <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.scrollTop = <span class=\"number\">1</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"keyword\">this</span>.scrollTop == <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.rows &gt; minRows) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.rows--;</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">break</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.scrollTop = <span class=\"number\">1</span>;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.rows &lt; maxRows) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.style.overflowY = <span class=\"string\">\"hidden\"</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.scrollTop &gt; <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.rows++;</span>\n<span class=\"line\">      <span class=\"keyword\">break</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"keyword\">this</span>.scrollTop &gt; <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.rows &lt; maxRows) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.rows++;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.scrollTop == <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">this</span>.scrollTop = <span class=\"number\">1</span>;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.style.overflowY = <span class=\"string\">\"auto\"</span>;</span>\n<span class=\"line\">      <span class=\"keyword\">break</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p>这是一个例子~ （换行试试~😏）</p><p><textarea class=\"weui-textarea\" placeholder=\"这是一个例子~\" rows=\"3\" style=\"resize:none;width:100%;border:1px solid pink;border-radius:4px;padding:5px;font-size:14px\"></textarea></p><script>$(function(){var o=3,s=10;$(\".weui-textarea\").on(\"input keyup\",function(){for(0==this.scrollTop&&(this.scrollTop=1);0==this.scrollTop&&this.rows>o;)if(this.rows--,this.scrollTop=1,this.rows<s&&(this.style.overflowY=\"hidden\"),this.scrollTop>0){this.rows++;break}for(;this.scrollTop>0;){if(!(this.rows<s)){this.style.overflowY=\"auto\";break}this.rows++,0==this.scrollTop&&(this.scrollTop=1)}})})</script>","excerpt":"","more":"<p>一般情况下，textarea 的高度是定死的，rows 指定了之后，高度就不变了，内容多了之后会出现滚动条，这样的设定在大部分的场景下面是够用的， 但是有时就会很丑陋（废话😊）。</p><p>我们都知道 HTML 的元素都有一个 scrollHeight 这个属性，就是当该元素出现滚动条的时候，内容的高度。</p><p>那就方便了：</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">\".weui-textarea\"</span>).on(<span class=\"string\">'input propertychange keyup'</span>,<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  $(<span class=\"keyword\">this</span>).height(<span class=\"keyword\">this</span>.scrollHeight);</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p>这样就实现了高度自动增加的 Textarea，但当我试着删掉几行，想让它自动降低高度的时候不禁菊花一紧，他不动~</p><p>这就尴尬,,ԾㅂԾ,,了，于是我就找了另外一种方法:</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">'.weui-textarea'</span>).on(<span class=\"string\">'input keyup'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">  <span class=\"comment\">// 尝试滚动一段距离，如果没有滚动条，scrollTop 还是 0</span></span>\n<span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.scrollTop == <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.scrollTop = <span class=\"number\">1</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"keyword\">this</span>.scrollTop == <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.rows &gt; minRows) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.rows--;</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">break</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.scrollTop = <span class=\"number\">1</span>;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.rows &lt; maxRows) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.style.overflowY = <span class=\"string\">\"hidden\"</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.scrollTop &gt; <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.rows++;</span>\n<span class=\"line\">      <span class=\"keyword\">break</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"keyword\">this</span>.scrollTop &gt; <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.rows &lt; maxRows) &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.rows++;</span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.scrollTop == <span class=\"number\">0</span>) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">this</span>.scrollTop = <span class=\"number\">1</span>;</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">      <span class=\"keyword\">this</span>.style.overflowY = <span class=\"string\">\"auto\"</span>;</span>\n<span class=\"line\">      <span class=\"keyword\">break</span>;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p>这是一个例子~ （换行试试~😏）</p><p><textarea class=\"weui-textarea\" placeholder=\"这是一个例子~\" rows=\"3\" style=\"resize:none;width:100%;border:1px solid pink;border-radius:4px;padding:5px;font-size:14px\"></textarea></p><script>$(function(){var o=3,s=10;$(\".weui-textarea\").on(\"input keyup\",function(){for(0==this.scrollTop&&(this.scrollTop=1);0==this.scrollTop&&this.rows>o;)if(this.rows--,this.scrollTop=1,this.rows<s&&(this.style.overflowY=\"hidden\"),this.scrollTop>0){this.rows++;break}for(;this.scrollTop>0;){if(!(this.rows<s)){this.style.overflowY=\"auto\";break}this.rows++,0==this.scrollTop&&(this.scrollTop=1)}})})</script>"},{"title":"Splice 和 Slice 的区别","date":"2016-07-11T02:52:16.000Z","_content":"\n之前写过一遍介绍 `splice()` 方法的，这一次又遇到了 `slice()`, 这两个太像了, 首先看这两个意思吧：\n\n> splice [splais]\n> n. 接合；结婚\n> vt. 拼接；接合；使结婚\n\n和  \n\n> slice [slais]\n> n. 薄片；部分；菜刀，火铲\n> vt. 切下；把…分成部分；将…切成薄片\n> vi. 切开；割破\n\n## 区别\n\n`slice()` 方法可从已有的数组中返回选定的元素。这个函数有两个参数 `slice(start, end)` 会返回一个从 `start` 到 `end` 之前元素的新数组， 如果 `end` 是`负数`，就从数组末尾倒着数, 如果 end 没有设置，就返回从 start 到数组末尾组成的新数组咯~\n\n总之这是一个返回新数组的函数，知识返回而已，不会改变原来的数组，而 `splice` 方法则会改变原来的数组.\n\n## 例子\n```\nvar arr = new Array(3)\narr[0] = \"George\"\narr[1] = \"John\"\narr[2] = \"Thomas\"\narr[3] = \"James\"\narr[4] = \"Adrew\"\narr[5] = \"Martin\"\n\nconsole.log(arr.slice(4)) // [\"Adrew\", \"Martin\"] == arr.slice(4, 6)\nconsole.log(arr.slice(0, -4)) // [\"George\", \"John\"] == arr.slice(0, 2) \n```","source":"_posts/ths-difference-between-splice-and-slice.md","raw":"title: Splice 和 Slice 的区别\ntags:\n  - splice\n  - slice\ncategories:\n  - Javascript\ndate: 2016-07-11 10:52:16\n---\n\n之前写过一遍介绍 `splice()` 方法的，这一次又遇到了 `slice()`, 这两个太像了, 首先看这两个意思吧：\n\n> splice [splais]\n> n. 接合；结婚\n> vt. 拼接；接合；使结婚\n\n和  \n\n> slice [slais]\n> n. 薄片；部分；菜刀，火铲\n> vt. 切下；把…分成部分；将…切成薄片\n> vi. 切开；割破\n\n## 区别\n\n`slice()` 方法可从已有的数组中返回选定的元素。这个函数有两个参数 `slice(start, end)` 会返回一个从 `start` 到 `end` 之前元素的新数组， 如果 `end` 是`负数`，就从数组末尾倒着数, 如果 end 没有设置，就返回从 start 到数组末尾组成的新数组咯~\n\n总之这是一个返回新数组的函数，知识返回而已，不会改变原来的数组，而 `splice` 方法则会改变原来的数组.\n\n## 例子\n```\nvar arr = new Array(3)\narr[0] = \"George\"\narr[1] = \"John\"\narr[2] = \"Thomas\"\narr[3] = \"James\"\narr[4] = \"Adrew\"\narr[5] = \"Martin\"\n\nconsole.log(arr.slice(4)) // [\"Adrew\", \"Martin\"] == arr.slice(4, 6)\nconsole.log(arr.slice(0, -4)) // [\"George\", \"John\"] == arr.slice(0, 2) \n```","slug":"ths-difference-between-splice-and-slice","published":1,"updated":"2016-11-22T01:40:09.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0br5002k8gnyspdkuaqd","content":"<p>之前写过一遍介绍 <code>splice()</code> 方法的，这一次又遇到了 <code>slice()</code>, 这两个太像了, 首先看这两个意思吧：</p><blockquote><p>splice [splais]<br>n. 接合；结婚<br>vt. 拼接；接合；使结婚</p></blockquote><p>和</p><blockquote><p>slice [slais]<br>n. 薄片；部分；菜刀，火铲<br>vt. 切下；把…分成部分；将…切成薄片<br>vi. 切开；割破</p></blockquote><h2 id=\"区别\"><a href=\"#区别\" class=\"headerlink\" title=\"区别\"></a>区别</h2><p><code>slice()</code> 方法可从已有的数组中返回选定的元素。这个函数有两个参数 <code>slice(start, end)</code> 会返回一个从 <code>start</code> 到 <code>end</code> 之前元素的新数组， 如果 <code>end</code> 是<code>负数</code>，就从数组末尾倒着数, 如果 end 没有设置，就返回从 start 到数组末尾组成的新数组咯~</p><p>总之这是一个返回新数组的函数，知识返回而已，不会改变原来的数组，而 <code>splice</code> 方法则会改变原来的数组.</p><h2 id=\"例子\"><a href=\"#例子\" class=\"headerlink\" title=\"例子\"></a>例子</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">var arr = new Array(3)</span>\n<span class=\"line\">arr[0] = &quot;George&quot;</span>\n<span class=\"line\">arr[1] = &quot;John&quot;</span>\n<span class=\"line\">arr[2] = &quot;Thomas&quot;</span>\n<span class=\"line\">arr[3] = &quot;James&quot;</span>\n<span class=\"line\">arr[4] = &quot;Adrew&quot;</span>\n<span class=\"line\">arr[5] = &quot;Martin&quot;</span>\n<span class=\"line\"></span>\n<span class=\"line\">console.log(arr.slice(4)) // [&quot;Adrew&quot;, &quot;Martin&quot;] == arr.slice(4, 6)</span>\n<span class=\"line\">console.log(arr.slice(0, -4)) // [&quot;George&quot;, &quot;John&quot;] == arr.slice(0, 2)</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<p>之前写过一遍介绍 <code>splice()</code> 方法的，这一次又遇到了 <code>slice()</code>, 这两个太像了, 首先看这两个意思吧：</p><blockquote><p>splice [splais]<br>n. 接合；结婚<br>vt. 拼接；接合；使结婚</p></blockquote><p>和</p><blockquote><p>slice [slais]<br>n. 薄片；部分；菜刀，火铲<br>vt. 切下；把…分成部分；将…切成薄片<br>vi. 切开；割破</p></blockquote><h2 id=\"区别\"><a href=\"#区别\" class=\"headerlink\" title=\"区别\"></a>区别</h2><p><code>slice()</code> 方法可从已有的数组中返回选定的元素。这个函数有两个参数 <code>slice(start, end)</code> 会返回一个从 <code>start</code> 到 <code>end</code> 之前元素的新数组， 如果 <code>end</code> 是<code>负数</code>，就从数组末尾倒着数, 如果 end 没有设置，就返回从 start 到数组末尾组成的新数组咯~</p><p>总之这是一个返回新数组的函数，知识返回而已，不会改变原来的数组，而 <code>splice</code> 方法则会改变原来的数组.</p><h2 id=\"例子\"><a href=\"#例子\" class=\"headerlink\" title=\"例子\"></a>例子</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">var arr = new Array(3)</span>\n<span class=\"line\">arr[0] = &quot;George&quot;</span>\n<span class=\"line\">arr[1] = &quot;John&quot;</span>\n<span class=\"line\">arr[2] = &quot;Thomas&quot;</span>\n<span class=\"line\">arr[3] = &quot;James&quot;</span>\n<span class=\"line\">arr[4] = &quot;Adrew&quot;</span>\n<span class=\"line\">arr[5] = &quot;Martin&quot;</span>\n<span class=\"line\"></span>\n<span class=\"line\">console.log(arr.slice(4)) // [&quot;Adrew&quot;, &quot;Martin&quot;] == arr.slice(4, 6)</span>\n<span class=\"line\">console.log(arr.slice(0, -4)) // [&quot;George&quot;, &quot;John&quot;] == arr.slice(0, 2)</span>\n</pre></td></tr></table></figure>"},{"title":"使用命令行更新 Win10 的密钥","date":"2016-12-16T05:02:13.000Z","_content":"\n今天在公司装了 win10，但是点击更换密钥的时候老是卡死，然后就搜了一下发现可以用命令行设置\n\n```shell\n# 设置密钥\nslmgr /ipk DDCGG-9N3QJ-2B23T-C***V-XD72F\n\n# 检查是否已激活\nslmgr.vbs -ato\n```","source":"_posts/use-terminal-to-update-win10-key.md","raw":"title: 使用命令行更新 Win10 的密钥\ntags:\n  - win10\ncategories:\n  - Window\ndate: 2016-12-16 13:02:13\n---\n\n今天在公司装了 win10，但是点击更换密钥的时候老是卡死，然后就搜了一下发现可以用命令行设置\n\n```shell\n# 设置密钥\nslmgr /ipk DDCGG-9N3QJ-2B23T-C***V-XD72F\n\n# 检查是否已激活\nslmgr.vbs -ato\n```","slug":"use-terminal-to-update-win10-key","published":1,"updated":"2016-12-16T06:58:09.484Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0br7002n8gnya3r5vau3","content":"<p>今天在公司装了 win10，但是点击更换密钥的时候老是卡死，然后就搜了一下发现可以用命令行设置</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"># 设置密钥</span>\n<span class=\"line\">slmgr /ipk DDCGG-9N3QJ-2B23T-C***V-XD72F</span>\n<span class=\"line\"></span>\n<span class=\"line\"># 检查是否已激活</span>\n<span class=\"line\">slmgr.vbs -ato</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<p>今天在公司装了 win10，但是点击更换密钥的时候老是卡死，然后就搜了一下发现可以用命令行设置</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"># 设置密钥</span>\n<span class=\"line\">slmgr /ipk DDCGG-9N3QJ-2B23T-C***V-XD72F</span>\n<span class=\"line\"></span>\n<span class=\"line\"># 检查是否已激活</span>\n<span class=\"line\">slmgr.vbs -ato</span>\n</pre></td></tr></table></figure>"},{"title":"JavaScript 中 Timestamp 与 Date 的转化","date":"2015-12-02T03:10:44.000Z","_content":"## 问题产生\n今天在处理一个接口时，发现返回的格式是这样的：\n```json\n{\n    \"meta\": {\n        \"has_next_msg\": false\n    },\n    \"objects\": [\n        {\n            \"text\": \"111\",\n            \"from_user_type\": \"PAT\",\n            \"pic\": \"\",\n            \"ts\": 1419939065\n        }\n    ]\n}\n```\n\n`ts` 那个属性我不太熟悉，不过我觉得应该是 timestamp 的意思吧。后来才知道，`ts` 就是该条消息的发送时间戳（timestamp），显示这条信息的时候应该显示为日期。\n\n## 把 Date 转化为 Timestamp\n\n我们都知道，在 js 里面把 date 转化为 timestamp 的方法比较简单，而且方法也有好多种，比如：\n\n```js\n// get the timestamp in seconds\nMath.floor(Date.now() / 1000);\n\n// or with a slightly way\nDate.now() / 1000 | 0\n\n// Year 2038 problem? lol...\nnew Date('Jan 1, 2039') / 1000 | 0 // -2117514496 \n\n/*----------*/\nMath.round(new Date().getTime()/1000);\n\n+new Date / 1000 | 0\n\n~~(Date.now() / 1000)\n\nnew Date / 1e3 | 0\n```\n\n## 把 Timestamp 转化为 Date\n\n还有一种需求，比如我要把 timestamp 转化为 `1991-10-03 06:01:54` ，那么就需要先把这个 timestamp 转化为日期， 然后再进行format吧，正好我找到一个比较方便的办法：\n```js\nDate.prototype.format = function(format) {\n    var o = {\n        'M+': this.getMonth() + 1,          // month\n        'd+': this.getDate(),                 // day\n        'h+': this.getHours(),                  // hour\n        'm+': this.getMinutes(),                  // minute\n        's+': this.getSeconds(),                    // second     \n        'q+': Math.floor((this.getMonth() + 3) / 3),  // quarter\n        'S' : this.getMilliseconds()                 // millisecond\n    };\n\n    // year\n    if (/(y+)/.test(format) || /(Y+)/.test(format)) {\n        format = format.replace(RegExp.$1, (this.getFullYear() + '')\n                       .substr(4 - RegExp.$1.length));\n    }\n\n    for (var k in o) {\n        if (new RegExp('(' + k + ')').test(format)) {\n            var first = RegExp.$1;\n            var str = first.length === 1\n                    ? o[k]\n                    : ('00' + o[k]).substr(('' + o[k]).length); // nb\n            format = format.replace(first, str);\n        }\n    }\n\n    return format;\n};\n\nfunction tsToDate(timestamp) {\n    return (new Date(timestamp * 1000)).format('yyyy-MM-dd hh:mm:ss');\n}\n\n\n// test it\n> tsToDate(1448967948)\n< \"2015-12-01 19:05:48\"\n```\n","source":"_posts/use-js-to-convert-ts-to-data.md","raw":"title: JavaScript 中 Timestamp 与 Date 的转化\ntags:\n  - ts\n  - date\n  - format\n  - js\ncategories:\n  - JavaScript\ndate: 2015-12-02 11:10:44\n---\n## 问题产生\n今天在处理一个接口时，发现返回的格式是这样的：\n```json\n{\n    \"meta\": {\n        \"has_next_msg\": false\n    },\n    \"objects\": [\n        {\n            \"text\": \"111\",\n            \"from_user_type\": \"PAT\",\n            \"pic\": \"\",\n            \"ts\": 1419939065\n        }\n    ]\n}\n```\n\n`ts` 那个属性我不太熟悉，不过我觉得应该是 timestamp 的意思吧。后来才知道，`ts` 就是该条消息的发送时间戳（timestamp），显示这条信息的时候应该显示为日期。\n\n## 把 Date 转化为 Timestamp\n\n我们都知道，在 js 里面把 date 转化为 timestamp 的方法比较简单，而且方法也有好多种，比如：\n\n```js\n// get the timestamp in seconds\nMath.floor(Date.now() / 1000);\n\n// or with a slightly way\nDate.now() / 1000 | 0\n\n// Year 2038 problem? lol...\nnew Date('Jan 1, 2039') / 1000 | 0 // -2117514496 \n\n/*----------*/\nMath.round(new Date().getTime()/1000);\n\n+new Date / 1000 | 0\n\n~~(Date.now() / 1000)\n\nnew Date / 1e3 | 0\n```\n\n## 把 Timestamp 转化为 Date\n\n还有一种需求，比如我要把 timestamp 转化为 `1991-10-03 06:01:54` ，那么就需要先把这个 timestamp 转化为日期， 然后再进行format吧，正好我找到一个比较方便的办法：\n```js\nDate.prototype.format = function(format) {\n    var o = {\n        'M+': this.getMonth() + 1,          // month\n        'd+': this.getDate(),                 // day\n        'h+': this.getHours(),                  // hour\n        'm+': this.getMinutes(),                  // minute\n        's+': this.getSeconds(),                    // second     \n        'q+': Math.floor((this.getMonth() + 3) / 3),  // quarter\n        'S' : this.getMilliseconds()                 // millisecond\n    };\n\n    // year\n    if (/(y+)/.test(format) || /(Y+)/.test(format)) {\n        format = format.replace(RegExp.$1, (this.getFullYear() + '')\n                       .substr(4 - RegExp.$1.length));\n    }\n\n    for (var k in o) {\n        if (new RegExp('(' + k + ')').test(format)) {\n            var first = RegExp.$1;\n            var str = first.length === 1\n                    ? o[k]\n                    : ('00' + o[k]).substr(('' + o[k]).length); // nb\n            format = format.replace(first, str);\n        }\n    }\n\n    return format;\n};\n\nfunction tsToDate(timestamp) {\n    return (new Date(timestamp * 1000)).format('yyyy-MM-dd hh:mm:ss');\n}\n\n\n// test it\n> tsToDate(1448967948)\n< \"2015-12-01 19:05:48\"\n```\n","slug":"use-js-to-convert-ts-to-data","published":1,"updated":"2016-11-22T01:40:09.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0br8002o8gnydhr1n4vj","content":"<h2 id=\"问题产生\"><a href=\"#问题产生\" class=\"headerlink\" title=\"问题产生\"></a>问题产生</h2><p>今天在处理一个接口时，发现返回的格式是这样的：<br></p><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span>\n<span class=\"line\">    <span class=\"attr\">\"meta\"</span>: &#123;</span>\n<span class=\"line\">        <span class=\"attr\">\"has_next_msg\"</span>: <span class=\"literal\">false</span></span>\n<span class=\"line\">    &#125;,</span>\n<span class=\"line\">    <span class=\"attr\">\"objects\"</span>: [</span>\n<span class=\"line\">        &#123;</span>\n<span class=\"line\">            <span class=\"attr\">\"text\"</span>: <span class=\"string\">\"111\"</span>,</span>\n<span class=\"line\">            <span class=\"attr\">\"from_user_type\"</span>: <span class=\"string\">\"PAT\"</span>,</span>\n<span class=\"line\">            <span class=\"attr\">\"pic\"</span>: <span class=\"string\">\"\"</span>,</span>\n<span class=\"line\">            <span class=\"attr\">\"ts\"</span>: <span class=\"number\">1419939065</span></span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\">    ]</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p><code>ts</code> 那个属性我不太熟悉，不过我觉得应该是 timestamp 的意思吧。后来才知道，<code>ts</code> 就是该条消息的发送时间戳（timestamp），显示这条信息的时候应该显示为日期。</p><h2 id=\"把-Date-转化为-Timestamp\"><a href=\"#把-Date-转化为-Timestamp\" class=\"headerlink\" title=\"把 Date 转化为 Timestamp\"></a>把 Date 转化为 Timestamp</h2><p>我们都知道，在 js 里面把 date 转化为 timestamp 的方法比较简单，而且方法也有好多种，比如：</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// get the timestamp in seconds</span></span>\n<span class=\"line\"><span class=\"built_in\">Math</span>.floor(<span class=\"built_in\">Date</span>.now() / <span class=\"number\">1000</span>);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// or with a slightly way</span></span>\n<span class=\"line\"><span class=\"built_in\">Date</span>.now() / <span class=\"number\">1000</span> | <span class=\"number\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// Year 2038 problem? lol...</span></span>\n<span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">'Jan 1, 2039'</span>) / <span class=\"number\">1000</span> | <span class=\"number\">0</span> <span class=\"comment\">// -2117514496 </span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">/*----------*/</span></span>\n<span class=\"line\"><span class=\"built_in\">Math</span>.round(<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>().getTime()/<span class=\"number\">1000</span>);</span>\n<span class=\"line\"></span>\n<span class=\"line\">+<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span> / <span class=\"number\">1000</span> | <span class=\"number\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">~~(<span class=\"built_in\">Date</span>.now() / <span class=\"number\">1000</span>)</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">Date</span> / <span class=\"number\">1e3</span> | <span class=\"number\">0</span></span>\n</pre></td></tr></table></figure><h2 id=\"把-Timestamp-转化为-Date\"><a href=\"#把-Timestamp-转化为-Date\" class=\"headerlink\" title=\"把 Timestamp 转化为 Date\"></a>把 Timestamp 转化为 Date</h2><p>还有一种需求，比如我要把 timestamp 转化为 <code>1991-10-03 06:01:54</code> ，那么就需要先把这个 timestamp 转化为日期， 然后再进行format吧，正好我找到一个比较方便的办法：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Date</span>.prototype.format = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">format</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">var</span> o = &#123;</span>\n<span class=\"line\">        <span class=\"string\">'M+'</span>: <span class=\"keyword\">this</span>.getMonth() + <span class=\"number\">1</span>,          <span class=\"comment\">// month</span></span>\n<span class=\"line\">        <span class=\"string\">'d+'</span>: <span class=\"keyword\">this</span>.getDate(),                 <span class=\"comment\">// day</span></span>\n<span class=\"line\">        <span class=\"string\">'h+'</span>: <span class=\"keyword\">this</span>.getHours(),                  <span class=\"comment\">// hour</span></span>\n<span class=\"line\">        <span class=\"string\">'m+'</span>: <span class=\"keyword\">this</span>.getMinutes(),                  <span class=\"comment\">// minute</span></span>\n<span class=\"line\">        <span class=\"string\">'s+'</span>: <span class=\"keyword\">this</span>.getSeconds(),                    <span class=\"comment\">// second     </span></span>\n<span class=\"line\">        <span class=\"string\">'q+'</span>: <span class=\"built_in\">Math</span>.floor((<span class=\"keyword\">this</span>.getMonth() + <span class=\"number\">3</span>) / <span class=\"number\">3</span>),  <span class=\"comment\">// quarter</span></span>\n<span class=\"line\">        <span class=\"string\">'S'</span> : <span class=\"keyword\">this</span>.getMilliseconds()                 <span class=\"comment\">// millisecond</span></span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"comment\">// year</span></span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"regexp\">/(y+)/</span>.test(format) || <span class=\"regexp\">/(Y+)/</span>.test(format)) &#123;</span>\n<span class=\"line\">        format = format.replace(<span class=\"built_in\">RegExp</span>.$<span class=\"number\">1</span>, (<span class=\"keyword\">this</span>.getFullYear() + <span class=\"string\">''</span>)</span>\n<span class=\"line\">                       .substr(<span class=\"number\">4</span> - <span class=\"built_in\">RegExp</span>.$<span class=\"number\">1.</span>length));</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> k <span class=\"keyword\">in</span> o) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"string\">'('</span> + k + <span class=\"string\">')'</span>).test(format)) &#123;</span>\n<span class=\"line\">            <span class=\"keyword\">var</span> first = <span class=\"built_in\">RegExp</span>.$<span class=\"number\">1</span>;</span>\n<span class=\"line\">            <span class=\"keyword\">var</span> str = first.length === <span class=\"number\">1</span></span>\n<span class=\"line\">                    ? o[k]</span>\n<span class=\"line\">                    : (<span class=\"string\">'00'</span> + o[k]).substr((<span class=\"string\">''</span> + o[k]).length); <span class=\"comment\">// nb</span></span>\n<span class=\"line\">            format = format.replace(first, str);</span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">return</span> format;</span>\n<span class=\"line\">&#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tsToDate</span>(<span class=\"params\">timestamp</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> (<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(timestamp * <span class=\"number\">1000</span>)).format(<span class=\"string\">'yyyy-MM-dd hh:mm:ss'</span>);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// test it</span></span>\n<span class=\"line\">&gt; tsToDate(<span class=\"number\">1448967948</span>)</span>\n<span class=\"line\">&lt; <span class=\"string\">\"2015-12-01 19:05:48\"</span></span>\n</pre></td></tr></table></figure><p></p>","excerpt":"","more":"<h2 id=\"问题产生\"><a href=\"#问题产生\" class=\"headerlink\" title=\"问题产生\"></a>问题产生</h2><p>今天在处理一个接口时，发现返回的格式是这样的：<br></p><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span>\n<span class=\"line\">    <span class=\"attr\">\"meta\"</span>: &#123;</span>\n<span class=\"line\">        <span class=\"attr\">\"has_next_msg\"</span>: <span class=\"literal\">false</span></span>\n<span class=\"line\">    &#125;,</span>\n<span class=\"line\">    <span class=\"attr\">\"objects\"</span>: [</span>\n<span class=\"line\">        &#123;</span>\n<span class=\"line\">            <span class=\"attr\">\"text\"</span>: <span class=\"string\">\"111\"</span>,</span>\n<span class=\"line\">            <span class=\"attr\">\"from_user_type\"</span>: <span class=\"string\">\"PAT\"</span>,</span>\n<span class=\"line\">            <span class=\"attr\">\"pic\"</span>: <span class=\"string\">\"\"</span>,</span>\n<span class=\"line\">            <span class=\"attr\">\"ts\"</span>: <span class=\"number\">1419939065</span></span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\">    ]</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p><p><code>ts</code> 那个属性我不太熟悉，不过我觉得应该是 timestamp 的意思吧。后来才知道，<code>ts</code> 就是该条消息的发送时间戳（timestamp），显示这条信息的时候应该显示为日期。</p><h2 id=\"把-Date-转化为-Timestamp\"><a href=\"#把-Date-转化为-Timestamp\" class=\"headerlink\" title=\"把 Date 转化为 Timestamp\"></a>把 Date 转化为 Timestamp</h2><p>我们都知道，在 js 里面把 date 转化为 timestamp 的方法比较简单，而且方法也有好多种，比如：</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// get the timestamp in seconds</span></span>\n<span class=\"line\"><span class=\"built_in\">Math</span>.floor(<span class=\"built_in\">Date</span>.now() / <span class=\"number\">1000</span>);</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// or with a slightly way</span></span>\n<span class=\"line\"><span class=\"built_in\">Date</span>.now() / <span class=\"number\">1000</span> | <span class=\"number\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// Year 2038 problem? lol...</span></span>\n<span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">'Jan 1, 2039'</span>) / <span class=\"number\">1000</span> | <span class=\"number\">0</span> <span class=\"comment\">// -2117514496 </span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">/*----------*/</span></span>\n<span class=\"line\"><span class=\"built_in\">Math</span>.round(<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>().getTime()/<span class=\"number\">1000</span>);</span>\n<span class=\"line\"></span>\n<span class=\"line\">+<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span> / <span class=\"number\">1000</span> | <span class=\"number\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">~~(<span class=\"built_in\">Date</span>.now() / <span class=\"number\">1000</span>)</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">Date</span> / <span class=\"number\">1e3</span> | <span class=\"number\">0</span></span>\n</pre></td></tr></table></figure><h2 id=\"把-Timestamp-转化为-Date\"><a href=\"#把-Timestamp-转化为-Date\" class=\"headerlink\" title=\"把 Timestamp 转化为 Date\"></a>把 Timestamp 转化为 Date</h2><p>还有一种需求，比如我要把 timestamp 转化为 <code>1991-10-03 06:01:54</code> ，那么就需要先把这个 timestamp 转化为日期， 然后再进行format吧，正好我找到一个比较方便的办法：<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Date</span>.prototype.format = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">format</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">var</span> o = &#123;</span>\n<span class=\"line\">        <span class=\"string\">'M+'</span>: <span class=\"keyword\">this</span>.getMonth() + <span class=\"number\">1</span>,          <span class=\"comment\">// month</span></span>\n<span class=\"line\">        <span class=\"string\">'d+'</span>: <span class=\"keyword\">this</span>.getDate(),                 <span class=\"comment\">// day</span></span>\n<span class=\"line\">        <span class=\"string\">'h+'</span>: <span class=\"keyword\">this</span>.getHours(),                  <span class=\"comment\">// hour</span></span>\n<span class=\"line\">        <span class=\"string\">'m+'</span>: <span class=\"keyword\">this</span>.getMinutes(),                  <span class=\"comment\">// minute</span></span>\n<span class=\"line\">        <span class=\"string\">'s+'</span>: <span class=\"keyword\">this</span>.getSeconds(),                    <span class=\"comment\">// second     </span></span>\n<span class=\"line\">        <span class=\"string\">'q+'</span>: <span class=\"built_in\">Math</span>.floor((<span class=\"keyword\">this</span>.getMonth() + <span class=\"number\">3</span>) / <span class=\"number\">3</span>),  <span class=\"comment\">// quarter</span></span>\n<span class=\"line\">        <span class=\"string\">'S'</span> : <span class=\"keyword\">this</span>.getMilliseconds()                 <span class=\"comment\">// millisecond</span></span>\n<span class=\"line\">    &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"comment\">// year</span></span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"regexp\">/(y+)/</span>.test(format) || <span class=\"regexp\">/(Y+)/</span>.test(format)) &#123;</span>\n<span class=\"line\">        format = format.replace(<span class=\"built_in\">RegExp</span>.$<span class=\"number\">1</span>, (<span class=\"keyword\">this</span>.getFullYear() + <span class=\"string\">''</span>)</span>\n<span class=\"line\">                       .substr(<span class=\"number\">4</span> - <span class=\"built_in\">RegExp</span>.$<span class=\"number\">1.</span>length));</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> k <span class=\"keyword\">in</span> o) &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"string\">'('</span> + k + <span class=\"string\">')'</span>).test(format)) &#123;</span>\n<span class=\"line\">            <span class=\"keyword\">var</span> first = <span class=\"built_in\">RegExp</span>.$<span class=\"number\">1</span>;</span>\n<span class=\"line\">            <span class=\"keyword\">var</span> str = first.length === <span class=\"number\">1</span></span>\n<span class=\"line\">                    ? o[k]</span>\n<span class=\"line\">                    : (<span class=\"string\">'00'</span> + o[k]).substr((<span class=\"string\">''</span> + o[k]).length); <span class=\"comment\">// nb</span></span>\n<span class=\"line\">            format = format.replace(first, str);</span>\n<span class=\"line\">        &#125;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">    <span class=\"keyword\">return</span> format;</span>\n<span class=\"line\">&#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tsToDate</span>(<span class=\"params\">timestamp</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> (<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(timestamp * <span class=\"number\">1000</span>)).format(<span class=\"string\">'yyyy-MM-dd hh:mm:ss'</span>);</span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"comment\">// test it</span></span>\n<span class=\"line\">&gt; tsToDate(<span class=\"number\">1448967948</span>)</span>\n<span class=\"line\">&lt; <span class=\"string\">\"2015-12-01 19:05:48\"</span></span>\n</pre></td></tr></table></figure><p></p>"},{"title":"wamp mysql 中文显示为？","id":"235","date":"2015-08-09T05:25:28.000Z","_content":"\n发现中文显示为“？”，然后我看了一下 mysql.ini，添加了两行\n\n```\n[mysqld]\nport=3306\n#下面的两行是添加的\ncharacter_set_client=utf8\ncharacter_set_server=utf8\n```\n\n后来再看 mysql 中的信息发现这样了，不过中文问题已经解决了。\n```sql\nmysql> show variables like 'character%';\n+--------------------------+----------------------------------------------------\n+\n| Variable_name            | Value\n|\n+--------------------------+----------------------------------------------------\n+\n| character_set_client     | gbk\n|\n| character_set_connection | gbk\n|\n| character_set_database   | utf8\n|\n| character_set_filesystem | binary\n|\n| character_set_results    | gbk\n|\n| character_set_server     | utf8\n|\n| character_set_system     | utf8\n|\n| character_sets_dir       | E:\\Soft\\wamp\\bin\\mysql\\mysql5.6.12\\share\\charsets\\\n|\n+--------------------------+----------------------------------------------------\n```","source":"_posts/wamp-mysql-chinese-question-mark.md","raw":"title: wamp mysql 中文显示为？\ntags:\n  - mysql\n  - 中文乱码\nid: 235\ncategories:\n  - MySQL\ndate: 2015-08-09 13:25:28\n---\n\n发现中文显示为“？”，然后我看了一下 mysql.ini，添加了两行\n\n```\n[mysqld]\nport=3306\n#下面的两行是添加的\ncharacter_set_client=utf8\ncharacter_set_server=utf8\n```\n\n后来再看 mysql 中的信息发现这样了，不过中文问题已经解决了。\n```sql\nmysql> show variables like 'character%';\n+--------------------------+----------------------------------------------------\n+\n| Variable_name            | Value\n|\n+--------------------------+----------------------------------------------------\n+\n| character_set_client     | gbk\n|\n| character_set_connection | gbk\n|\n| character_set_database   | utf8\n|\n| character_set_filesystem | binary\n|\n| character_set_results    | gbk\n|\n| character_set_server     | utf8\n|\n| character_set_system     | utf8\n|\n| character_sets_dir       | E:\\Soft\\wamp\\bin\\mysql\\mysql5.6.12\\share\\charsets\\\n|\n+--------------------------+----------------------------------------------------\n```","slug":"wamp-mysql-chinese-question-mark","published":1,"updated":"2016-11-22T01:40:09.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0br9002s8gnyo4cz79rk","content":"<p>发现中文显示为“？”，然后我看了一下 mysql.ini，添加了两行</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">[mysqld]</span>\n<span class=\"line\">port=3306</span>\n<span class=\"line\">#下面的两行是添加的</span>\n<span class=\"line\">character_set_client=utf8</span>\n<span class=\"line\">character_set_server=utf8</span>\n</pre></td></tr></table></figure><p>后来再看 mysql 中的信息发现这样了，不过中文问题已经解决了。<br></p><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like 'character%';</span>\n<span class=\"line\">+--------------------------+----------------------------------------------------</span>\n<span class=\"line\">+</span>\n<span class=\"line\">| Variable_name            | Value</span>\n<span class=\"line\">|</span>\n<span class=\"line\">+--------------------------+----------------------------------------------------</span>\n<span class=\"line\">+</span>\n<span class=\"line\">| character_set_client     | gbk</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_connection | gbk</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_database   | utf8</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_filesystem | binary</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_results    | gbk</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_server     | utf8</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_system     | utf8</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_sets_dir       | E:\\Soft\\wamp\\bin\\mysql\\mysql5.6.12\\share\\charsets\\</span>\n<span class=\"line\">|</span>\n<span class=\"line\">+--------------------------+----------------------------------------------------</span>\n</pre></td></tr></table></figure><p></p>","excerpt":"","more":"<p>发现中文显示为“？”，然后我看了一下 mysql.ini，添加了两行</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">[mysqld]</span>\n<span class=\"line\">port=3306</span>\n<span class=\"line\">#下面的两行是添加的</span>\n<span class=\"line\">character_set_client=utf8</span>\n<span class=\"line\">character_set_server=utf8</span>\n</pre></td></tr></table></figure><p>后来再看 mysql 中的信息发现这样了，不过中文问题已经解决了。<br></p><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like 'character%';</span>\n<span class=\"line\">+--------------------------+----------------------------------------------------</span>\n<span class=\"line\">+</span>\n<span class=\"line\">| Variable_name            | Value</span>\n<span class=\"line\">|</span>\n<span class=\"line\">+--------------------------+----------------------------------------------------</span>\n<span class=\"line\">+</span>\n<span class=\"line\">| character_set_client     | gbk</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_connection | gbk</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_database   | utf8</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_filesystem | binary</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_results    | gbk</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_server     | utf8</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_set_system     | utf8</span>\n<span class=\"line\">|</span>\n<span class=\"line\">| character_sets_dir       | E:\\Soft\\wamp\\bin\\mysql\\mysql5.6.12\\share\\charsets\\</span>\n<span class=\"line\">|</span>\n<span class=\"line\">+--------------------------+----------------------------------------------------</span>\n</pre></td></tr></table></figure><p></p>"},{"title":"webpack-dev-server 在 webstorm 中失效的问题","date":"2016-12-08T11:32:09.000Z","_content":"\n最近换了公司 ！！！\n\n重新用上了高大上的 win7 系统，还是熟悉的画面，然后又装上了 WebStorm，准备开始我的性福人生。\n\n但天有不测风云，在使用一个基于 webpack 构建的项目中，每次修改代码之后，webpack-dev-server 总是不能够自动重新编译，很烦！！！\n\n这可急坏了宝宝！！！\n\n但是我非常冷静的分析了一下原因，可能是因为webstorm有自动保存的机制， 是不是很机智，一下子就命中了要害（但其实这中间的过程可复杂了）\n\n![正常](../images/webstorm-save-file.png)\n\n如上图， 在 `File -> Settings -> Appearance & Behavior -> System Settings` 里面，取消勾选上面红框的两项。\n\n每次修改之后，`ctrl + s` 就可以了。\n ","source":"_posts/webpack-dev-server-vs-webstorm.md","raw":"title: webpack-dev-server 在 webstorm 中失效的问题\ntags:\n  - webpack-dev-server\n  - webpack\n  - webstorm\ncategories:\n  - WebStorm\ndate: 2016-12-08 19:32:09\n---\n\n最近换了公司 ！！！\n\n重新用上了高大上的 win7 系统，还是熟悉的画面，然后又装上了 WebStorm，准备开始我的性福人生。\n\n但天有不测风云，在使用一个基于 webpack 构建的项目中，每次修改代码之后，webpack-dev-server 总是不能够自动重新编译，很烦！！！\n\n这可急坏了宝宝！！！\n\n但是我非常冷静的分析了一下原因，可能是因为webstorm有自动保存的机制， 是不是很机智，一下子就命中了要害（但其实这中间的过程可复杂了）\n\n![正常](../images/webstorm-save-file.png)\n\n如上图， 在 `File -> Settings -> Appearance & Behavior -> System Settings` 里面，取消勾选上面红框的两项。\n\n每次修改之后，`ctrl + s` 就可以了。\n ","slug":"webpack-dev-server-vs-webstorm","published":1,"updated":"2017-01-24T06:24:24.860Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bra002u8gnyneqvextn","content":"<p>最近换了公司 ！！！</p><p>重新用上了高大上的 win7 系统，还是熟悉的画面，然后又装上了 WebStorm，准备开始我的性福人生。</p><p>但天有不测风云，在使用一个基于 webpack 构建的项目中，每次修改代码之后，webpack-dev-server 总是不能够自动重新编译，很烦！！！</p><p>这可急坏了宝宝！！！</p><p>但是我非常冷静的分析了一下原因，可能是因为webstorm有自动保存的机制， 是不是很机智，一下子就命中了要害（但其实这中间的过程可复杂了）</p><p><img src=\"../images/webstorm-save-file.png\" alt=\"正常\"></p><p>如上图， 在 <code>File -&gt; Settings -&gt; Appearance &amp; Behavior -&gt; System Settings</code> 里面，取消勾选上面红框的两项。</p><p>每次修改之后，<code>ctrl + s</code> 就可以了。</p>","excerpt":"","more":"<p>最近换了公司 ！！！</p><p>重新用上了高大上的 win7 系统，还是熟悉的画面，然后又装上了 WebStorm，准备开始我的性福人生。</p><p>但天有不测风云，在使用一个基于 webpack 构建的项目中，每次修改代码之后，webpack-dev-server 总是不能够自动重新编译，很烦！！！</p><p>这可急坏了宝宝！！！</p><p>但是我非常冷静的分析了一下原因，可能是因为webstorm有自动保存的机制， 是不是很机智，一下子就命中了要害（但其实这中间的过程可复杂了）</p><p><img src=\"../images/webstorm-save-file.png\" alt=\"正常\"></p><p>如上图， 在 <code>File -&gt; Settings -&gt; Appearance &amp; Behavior -&gt; System Settings</code> 里面，取消勾选上面红框的两项。</p><p>每次修改之后，<code>ctrl + s</code> 就可以了。</p>"},{"title":"编写一个可以兼容 AMD 和 CMD 的 js 模块","date":"2015-11-29T12:11:07.000Z","_content":"\n没什么好解释的，直接看代码吧。\n\n```js\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        //define(['jquery', 'underscore'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS style for Browserify/Seajs\n        module.exports = factory(require('jquery'), require('underscore'));\n    } else {\n        // Browser globals\n        factory(jQuery, _);\n        //factory();\n    }\n}(function ($, _) {\n    //doSomething...\n}));\n```\n\n还有一种写法\n```js\n// from: http://segmentfault.com/a/1190000003732752\n;(function(){\n    function MyModule() {\n        // ...\n    }\n    \n    var moduleName = MyModule;\n    if (typeof module !== 'undefined' && typeof exports === 'object') {\n        module.exports = moduleName;\n    } else if (typeof define === 'function' && (define.amd || define.cmd)) {\n        define(function() { return moduleName; });\n    } else {\n        this.moduleName = moduleName;\n    }\n}).call(function() {\n    return this || (typeof window !== 'undefined' ? window : global);\n});\n```","source":"_posts/write-a-compatible-js-module.md","raw":"title: 编写一个可以兼容 AMD 和 CMD 的 js 模块\ntags:\n  - compatible module\n  - AMD\n  - CMD\ncategories:\n  - JavaScript\ndate: 2015-11-29 20:11:07\n---\n\n没什么好解释的，直接看代码吧。\n\n```js\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        //define(['jquery', 'underscore'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS style for Browserify/Seajs\n        module.exports = factory(require('jquery'), require('underscore'));\n    } else {\n        // Browser globals\n        factory(jQuery, _);\n        //factory();\n    }\n}(function ($, _) {\n    //doSomething...\n}));\n```\n\n还有一种写法\n```js\n// from: http://segmentfault.com/a/1190000003732752\n;(function(){\n    function MyModule() {\n        // ...\n    }\n    \n    var moduleName = MyModule;\n    if (typeof module !== 'undefined' && typeof exports === 'object') {\n        module.exports = moduleName;\n    } else if (typeof define === 'function' && (define.amd || define.cmd)) {\n        define(function() { return moduleName; });\n    } else {\n        this.moduleName = moduleName;\n    }\n}).call(function() {\n    return this || (typeof window !== 'undefined' ? window : global);\n});\n```","slug":"write-a-compatible-js-module","published":1,"updated":"2016-11-22T01:40:09.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0brc002y8gnyswmwx15l","content":"<p>没什么好解释的，直接看代码吧。</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">factory</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> define === <span class=\"string\">'function'</span> &amp;&amp; define.amd) &#123;</span>\n<span class=\"line\">        <span class=\"comment\">// AMD. Register as an anonymous module.</span></span>\n<span class=\"line\">        <span class=\"comment\">//define(['jquery', 'underscore'], factory);</span></span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> exports === <span class=\"string\">'object'</span>) &#123;</span>\n<span class=\"line\">        <span class=\"comment\">// Node/CommonJS style for Browserify/Seajs</span></span>\n<span class=\"line\">        <span class=\"built_in\">module</span>.exports = factory(<span class=\"built_in\">require</span>(<span class=\"string\">'jquery'</span>), <span class=\"built_in\">require</span>(<span class=\"string\">'underscore'</span>));</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">        <span class=\"comment\">// Browser globals</span></span>\n<span class=\"line\">        factory(jQuery, _);</span>\n<span class=\"line\">        <span class=\"comment\">//factory();</span></span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">&#125;(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">$, _</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"comment\">//doSomething...</span></span>\n<span class=\"line\">&#125;));</span>\n</pre></td></tr></table></figure><p>还有一种写法<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// from: http://segmentfault.com/a/1190000003732752</span></span>\n<span class=\"line\">;(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span>\n<span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MyModule</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">        <span class=\"comment\">// ...</span></span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">    </span>\n<span class=\"line\">    <span class=\"keyword\">var</span> moduleName = MyModule;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> <span class=\"built_in\">module</span> !== <span class=\"string\">'undefined'</span> &amp;&amp; <span class=\"keyword\">typeof</span> exports === <span class=\"string\">'object'</span>) &#123;</span>\n<span class=\"line\">        <span class=\"built_in\">module</span>.exports = moduleName;</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> define === <span class=\"string\">'function'</span> &amp;&amp; (define.amd || define.cmd)) &#123;</span>\n<span class=\"line\">        define(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> moduleName; &#125;);</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">this</span>.moduleName = moduleName;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">&#125;).call(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span> || (<span class=\"keyword\">typeof</span> <span class=\"built_in\">window</span> !== <span class=\"string\">'undefined'</span> ? <span class=\"built_in\">window</span> : global);</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p></p>","excerpt":"","more":"<p>没什么好解释的，直接看代码吧。</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">factory</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> define === <span class=\"string\">'function'</span> &amp;&amp; define.amd) &#123;</span>\n<span class=\"line\">        <span class=\"comment\">// AMD. Register as an anonymous module.</span></span>\n<span class=\"line\">        <span class=\"comment\">//define(['jquery', 'underscore'], factory);</span></span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> exports === <span class=\"string\">'object'</span>) &#123;</span>\n<span class=\"line\">        <span class=\"comment\">// Node/CommonJS style for Browserify/Seajs</span></span>\n<span class=\"line\">        <span class=\"built_in\">module</span>.exports = factory(<span class=\"built_in\">require</span>(<span class=\"string\">'jquery'</span>), <span class=\"built_in\">require</span>(<span class=\"string\">'underscore'</span>));</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">        <span class=\"comment\">// Browser globals</span></span>\n<span class=\"line\">        factory(jQuery, _);</span>\n<span class=\"line\">        <span class=\"comment\">//factory();</span></span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">&#125;(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">$, _</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"comment\">//doSomething...</span></span>\n<span class=\"line\">&#125;));</span>\n</pre></td></tr></table></figure><p>还有一种写法<br></p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// from: http://segmentfault.com/a/1190000003732752</span></span>\n<span class=\"line\">;(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span>\n<span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MyModule</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">        <span class=\"comment\">// ...</span></span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">    </span>\n<span class=\"line\">    <span class=\"keyword\">var</span> moduleName = MyModule;</span>\n<span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> <span class=\"built_in\">module</span> !== <span class=\"string\">'undefined'</span> &amp;&amp; <span class=\"keyword\">typeof</span> exports === <span class=\"string\">'object'</span>) &#123;</span>\n<span class=\"line\">        <span class=\"built_in\">module</span>.exports = moduleName;</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> define === <span class=\"string\">'function'</span> &amp;&amp; (define.amd || define.cmd)) &#123;</span>\n<span class=\"line\">        define(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> moduleName; &#125;);</span>\n<span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span>\n<span class=\"line\">        <span class=\"keyword\">this</span>.moduleName = moduleName;</span>\n<span class=\"line\">    &#125;</span>\n<span class=\"line\">&#125;).call(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span> || (<span class=\"keyword\">typeof</span> <span class=\"built_in\">window</span> !== <span class=\"string\">'undefined'</span> ? <span class=\"built_in\">window</span> : global);</span>\n<span class=\"line\">&#125;);</span>\n</pre></td></tr></table></figure><p></p>"},{"title":"Wrong clearfix Make me crazy!","date":"2015-11-11T09:45:59.000Z","_content":"\nClearfix 就是这么简单！\n```css\n.clearfix:after,\n.clearfix:before {\n    display: table;\n    content: \" \"\n}\n\n.clearfix:after {\n    clear: both\n}\n```\n","source":"_posts/wrong-clearfix-make-me-crazy.md","raw":"title: 'Wrong clearfix Make me crazy!'\ndate: 2015-11-11 17:45:59\ntags:\n  - html\n  - css\ncategories:\n  - css\n---\n\nClearfix 就是这么简单！\n```css\n.clearfix:after,\n.clearfix:before {\n    display: table;\n    content: \" \"\n}\n\n.clearfix:after {\n    clear: both\n}\n```\n","slug":"wrong-clearfix-make-me-crazy","published":1,"updated":"2016-11-22T01:40:09.782Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0bre00318gnyvhuv6ii0","content":"<p>Clearfix 就是这么简单！<br></p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.clearfix</span><span class=\"selector-pseudo\">:after</span>,</span>\n<span class=\"line\"><span class=\"selector-class\">.clearfix</span><span class=\"selector-pseudo\">:before</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">display</span>: table;</span>\n<span class=\"line\">    <span class=\"attribute\">content</span>: <span class=\"string\">\" \"</span></span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"selector-class\">.clearfix</span><span class=\"selector-pseudo\">:after</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">clear</span>: both</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p>","excerpt":"","more":"<p>Clearfix 就是这么简单！<br></p><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.clearfix</span><span class=\"selector-pseudo\">:after</span>,</span>\n<span class=\"line\"><span class=\"selector-class\">.clearfix</span><span class=\"selector-pseudo\">:before</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">display</span>: table;</span>\n<span class=\"line\">    <span class=\"attribute\">content</span>: <span class=\"string\">\" \"</span></span>\n<span class=\"line\">&#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\"><span class=\"selector-class\">.clearfix</span><span class=\"selector-pseudo\">:after</span> &#123;</span>\n<span class=\"line\">    <span class=\"attribute\">clear</span>: both</span>\n<span class=\"line\">&#125;</span>\n</pre></td></tr></table></figure><p></p>"},{"title":"Zepto 插件写法","date":"2016-06-20T06:32:33.000Z","_content":"一般是这样的...  比较水, 并没有怎么写过.\n\n我只是把 bootstrap 的 button 组件改了一下, 删掉了 data-api 部分, 感觉这样该够用了。\n\n```js\n\n+function ($) {\n  'use strict';\n\n  // BUTTON PUBLIC CLASS DEFINITION\n  // ==============================\n\n  var Button = function (element, options) {\n    this.$element  = $(element);\n    this.options   = $.extend({}, Button.DEFAULTS, options);\n  }\n\n  Button.DEFAULTS = {\n    loadingText: 'loading...';\n  }\n\n  Button.prototype.setState = function (state) {};\n\n  Button.prototype.toggle = function () {};\n\n\n  // BUTTON PLUGIN DEFINITION\n  // ========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this    = $(this),\n          lookup   = $.fn.button.lookup,\n          instance = lookup[$this.data('bs.button')];\n\n      if (!instance) {\n        lookup[++lookup.i] = (instance = new Button(this, options));\n        $this.data('bs.button', lookup.i);\n      }\n\n      // button method\n      // if (option == 'toggle') {\n      //   data.toggle();\n      // } else if (option) {\n      //   data.setState(option);\n      // }\n    });\n  }\n\n  var old = $.fn.button;\n\n  $.fn.button             = Plugin;\n  $.fn.button.lookup      = { i: 0 };\n  $.fn.button.Constructor = Button;\n\n\n  // BUTTON NO CONFLICT\n  // ==================\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old;\n    return this;\n  };\n\n} (Zepto);\n\n```\n","source":"_posts/zepto-plugin.md","raw":"title:  Zepto 插件写法\ntags:\n  - zepto\ncategories:\n  - JavaScript\ndate: 2016-06-20 14:32:33\n---\n一般是这样的...  比较水, 并没有怎么写过.\n\n我只是把 bootstrap 的 button 组件改了一下, 删掉了 data-api 部分, 感觉这样该够用了。\n\n```js\n\n+function ($) {\n  'use strict';\n\n  // BUTTON PUBLIC CLASS DEFINITION\n  // ==============================\n\n  var Button = function (element, options) {\n    this.$element  = $(element);\n    this.options   = $.extend({}, Button.DEFAULTS, options);\n  }\n\n  Button.DEFAULTS = {\n    loadingText: 'loading...';\n  }\n\n  Button.prototype.setState = function (state) {};\n\n  Button.prototype.toggle = function () {};\n\n\n  // BUTTON PLUGIN DEFINITION\n  // ========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this    = $(this),\n          lookup   = $.fn.button.lookup,\n          instance = lookup[$this.data('bs.button')];\n\n      if (!instance) {\n        lookup[++lookup.i] = (instance = new Button(this, options));\n        $this.data('bs.button', lookup.i);\n      }\n\n      // button method\n      // if (option == 'toggle') {\n      //   data.toggle();\n      // } else if (option) {\n      //   data.setState(option);\n      // }\n    });\n  }\n\n  var old = $.fn.button;\n\n  $.fn.button             = Plugin;\n  $.fn.button.lookup      = { i: 0 };\n  $.fn.button.Constructor = Button;\n\n\n  // BUTTON NO CONFLICT\n  // ==================\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old;\n    return this;\n  };\n\n} (Zepto);\n\n```\n","slug":"zepto-plugin","published":1,"updated":"2016-11-22T01:40:09.782Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0brg00348gnygyvw6171","content":"<p>一般是这样的… 比较水, 并没有怎么写过.</p><p>我只是把 bootstrap 的 button 组件改了一下, 删掉了 data-api 部分, 感觉这样该够用了。</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\">+<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">$</span>) </span>&#123;</span>\n<span class=\"line\"><span class=\"meta\">  'use strict'</span>;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"comment\">// BUTTON PUBLIC CLASS DEFINITION</span></span>\n<span class=\"line\">  <span class=\"comment\">// ==============================</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">var</span> Button = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element, options</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.$element  = $(element);</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.options   = $.extend(&#123;&#125;, Button.DEFAULTS, options);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  Button.DEFAULTS = &#123;</span>\n<span class=\"line\">    <span class=\"attr\">loadingText</span>: <span class=\"string\">'loading...'</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  Button.prototype.setState = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">state</span>) </span>&#123;&#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  Button.prototype.toggle = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;&#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"comment\">// BUTTON PLUGIN DEFINITION</span></span>\n<span class=\"line\">  <span class=\"comment\">// ========================</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Plugin</span>(<span class=\"params\">option</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.each(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> $<span class=\"keyword\">this</span>    = $(<span class=\"keyword\">this</span>),</span>\n<span class=\"line\">          lookup   = $.fn.button.lookup,</span>\n<span class=\"line\">          instance = lookup[$<span class=\"keyword\">this</span>.data(<span class=\"string\">'bs.button'</span>)];</span>\n<span class=\"line\"></span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (!instance) &#123;</span>\n<span class=\"line\">        lookup[++lookup.i] = (instance = <span class=\"keyword\">new</span> Button(<span class=\"keyword\">this</span>, options));</span>\n<span class=\"line\">        $<span class=\"keyword\">this</span>.data(<span class=\"string\">'bs.button'</span>, lookup.i);</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">      <span class=\"comment\">// button method</span></span>\n<span class=\"line\">      <span class=\"comment\">// if (option == 'toggle') &#123;</span></span>\n<span class=\"line\">      <span class=\"comment\">//   data.toggle();</span></span>\n<span class=\"line\">      <span class=\"comment\">// &#125; else if (option) &#123;</span></span>\n<span class=\"line\">      <span class=\"comment\">//   data.setState(option);</span></span>\n<span class=\"line\">      <span class=\"comment\">// &#125;</span></span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">var</span> old = $.fn.button;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  $.fn.button             = Plugin;</span>\n<span class=\"line\">  $.fn.button.lookup      = &#123; <span class=\"attr\">i</span>: <span class=\"number\">0</span> &#125;;</span>\n<span class=\"line\">  $.fn.button.Constructor = Button;</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"comment\">// BUTTON NO CONFLICT</span></span>\n<span class=\"line\">  <span class=\"comment\">// ==================</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">  $.fn.button.noConflict = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    $.fn.button = old;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125; (Zepto);</span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<p>一般是这样的… 比较水, 并没有怎么写过.</p><p>我只是把 bootstrap 的 button 组件改了一下, 删掉了 data-api 部分, 感觉这样该够用了。</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n<span class=\"line\">4</span>\n<span class=\"line\">5</span>\n<span class=\"line\">6</span>\n<span class=\"line\">7</span>\n<span class=\"line\">8</span>\n<span class=\"line\">9</span>\n<span class=\"line\">10</span>\n<span class=\"line\">11</span>\n<span class=\"line\">12</span>\n<span class=\"line\">13</span>\n<span class=\"line\">14</span>\n<span class=\"line\">15</span>\n<span class=\"line\">16</span>\n<span class=\"line\">17</span>\n<span class=\"line\">18</span>\n<span class=\"line\">19</span>\n<span class=\"line\">20</span>\n<span class=\"line\">21</span>\n<span class=\"line\">22</span>\n<span class=\"line\">23</span>\n<span class=\"line\">24</span>\n<span class=\"line\">25</span>\n<span class=\"line\">26</span>\n<span class=\"line\">27</span>\n<span class=\"line\">28</span>\n<span class=\"line\">29</span>\n<span class=\"line\">30</span>\n<span class=\"line\">31</span>\n<span class=\"line\">32</span>\n<span class=\"line\">33</span>\n<span class=\"line\">34</span>\n<span class=\"line\">35</span>\n<span class=\"line\">36</span>\n<span class=\"line\">37</span>\n<span class=\"line\">38</span>\n<span class=\"line\">39</span>\n<span class=\"line\">40</span>\n<span class=\"line\">41</span>\n<span class=\"line\">42</span>\n<span class=\"line\">43</span>\n<span class=\"line\">44</span>\n<span class=\"line\">45</span>\n<span class=\"line\">46</span>\n<span class=\"line\">47</span>\n<span class=\"line\">48</span>\n<span class=\"line\">49</span>\n<span class=\"line\">50</span>\n<span class=\"line\">51</span>\n<span class=\"line\">52</span>\n<span class=\"line\">53</span>\n<span class=\"line\">54</span>\n<span class=\"line\">55</span>\n<span class=\"line\">56</span>\n<span class=\"line\">57</span>\n<span class=\"line\">58</span>\n<span class=\"line\">59</span>\n<span class=\"line\">60</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\"></span>\n<span class=\"line\">+<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">$</span>) </span>&#123;</span>\n<span class=\"line\"><span class=\"meta\">  'use strict'</span>;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"comment\">// BUTTON PUBLIC CLASS DEFINITION</span></span>\n<span class=\"line\">  <span class=\"comment\">// ==============================</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">var</span> Button = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">element, options</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.$element  = $(element);</span>\n<span class=\"line\">    <span class=\"keyword\">this</span>.options   = $.extend(&#123;&#125;, Button.DEFAULTS, options);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  Button.DEFAULTS = &#123;</span>\n<span class=\"line\">    <span class=\"attr\">loadingText</span>: <span class=\"string\">'loading...'</span>;</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  Button.prototype.setState = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">state</span>) </span>&#123;&#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  Button.prototype.toggle = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;&#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"comment\">// BUTTON PLUGIN DEFINITION</span></span>\n<span class=\"line\">  <span class=\"comment\">// ========================</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Plugin</span>(<span class=\"params\">option</span>) </span>&#123;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.each(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">      <span class=\"keyword\">var</span> $<span class=\"keyword\">this</span>    = $(<span class=\"keyword\">this</span>),</span>\n<span class=\"line\">          lookup   = $.fn.button.lookup,</span>\n<span class=\"line\">          instance = lookup[$<span class=\"keyword\">this</span>.data(<span class=\"string\">'bs.button'</span>)];</span>\n<span class=\"line\"></span>\n<span class=\"line\">      <span class=\"keyword\">if</span> (!instance) &#123;</span>\n<span class=\"line\">        lookup[++lookup.i] = (instance = <span class=\"keyword\">new</span> Button(<span class=\"keyword\">this</span>, options));</span>\n<span class=\"line\">        $<span class=\"keyword\">this</span>.data(<span class=\"string\">'bs.button'</span>, lookup.i);</span>\n<span class=\"line\">      &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">      <span class=\"comment\">// button method</span></span>\n<span class=\"line\">      <span class=\"comment\">// if (option == 'toggle') &#123;</span></span>\n<span class=\"line\">      <span class=\"comment\">//   data.toggle();</span></span>\n<span class=\"line\">      <span class=\"comment\">// &#125; else if (option) &#123;</span></span>\n<span class=\"line\">      <span class=\"comment\">//   data.setState(option);</span></span>\n<span class=\"line\">      <span class=\"comment\">// &#125;</span></span>\n<span class=\"line\">    &#125;);</span>\n<span class=\"line\">  &#125;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"keyword\">var</span> old = $.fn.button;</span>\n<span class=\"line\"></span>\n<span class=\"line\">  $.fn.button             = Plugin;</span>\n<span class=\"line\">  $.fn.button.lookup      = &#123; <span class=\"attr\">i</span>: <span class=\"number\">0</span> &#125;;</span>\n<span class=\"line\">  $.fn.button.Constructor = Button;</span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\">  <span class=\"comment\">// BUTTON NO CONFLICT</span></span>\n<span class=\"line\">  <span class=\"comment\">// ==================</span></span>\n<span class=\"line\"></span>\n<span class=\"line\">  $.fn.button.noConflict = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span>\n<span class=\"line\">    $.fn.button = old;</span>\n<span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;</span>\n<span class=\"line\">  &#125;;</span>\n<span class=\"line\"></span>\n<span class=\"line\">&#125; (Zepto);</span>\n</pre></td></tr></table></figure>"},{"title":"删除 .svn 文件夹","date":"2017-01-22T02:09:47.000Z","_content":"\n新建 remove-svn.bat, 放到项目根目录执行就好了。（本来以为 svn 会提供这样的功能，结果还要自己写，😒）\n\n```bat\n@echo on\n@for /r . %%a in (.) do @if exist \"%%a\\.svn\" rd /s /q \"%%a\\.svn\"\n@pause\n```\n","source":"_posts/remove-svn-folder.md","raw":"title: 删除 .svn 文件夹\ntags:\n  - svn\ncategories:\n  - SVN\ndate: 2017-01-22 10:09:47\n---\n\n新建 remove-svn.bat, 放到项目根目录执行就好了。（本来以为 svn 会提供这样的功能，结果还要自己写，😒）\n\n```bat\n@echo on\n@for /r . %%a in (.) do @if exist \"%%a\\.svn\" rd /s /q \"%%a\\.svn\"\n@pause\n```\n","slug":"remove-svn-folder","published":1,"updated":"2017-01-22T02:30:05.297Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciybc0brj00398gny164akz4o","content":"<p>新建 remove-svn.bat, 放到项目根目录执行就好了。（本来以为 svn 会提供这样的功能，结果还要自己写，😒）</p><figure class=\"highlight bat\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"built_in\">echo</span> on</span>\n<span class=\"line\">@<span class=\"keyword\">for</span> /r . <span class=\"variable\">%%a</span> <span class=\"keyword\">in</span> (.) <span class=\"keyword\">do</span> @<span class=\"keyword\">if</span> <span class=\"keyword\">exist</span> \"<span class=\"variable\">%%a</span>\\.svn\" <span class=\"built_in\">rd</span> /s /q \"<span class=\"variable\">%%a</span>\\.svn\"</span>\n<span class=\"line\">@<span class=\"built_in\">pause</span></span>\n</pre></td></tr></table></figure>","excerpt":"","more":"<p>新建 remove-svn.bat, 放到项目根目录执行就好了。（本来以为 svn 会提供这样的功能，结果还要自己写，😒）</p><figure class=\"highlight bat\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span>\n<span class=\"line\">2</span>\n<span class=\"line\">3</span>\n</pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"built_in\">echo</span> on</span>\n<span class=\"line\">@<span class=\"keyword\">for</span> /r . <span class=\"variable\">%%a</span> <span class=\"keyword\">in</span> (.) <span class=\"keyword\">do</span> @<span class=\"keyword\">if</span> <span class=\"keyword\">exist</span> \"<span class=\"variable\">%%a</span>\\.svn\" <span class=\"built_in\">rd</span> /s /q \"<span class=\"variable\">%%a</span>\\.svn\"</span>\n<span class=\"line\">@<span class=\"built_in\">pause</span></span>\n</pre></td></tr></table></figure>"}],"PostAsset":[],"PostCategory":[{"post_id":"ciybc0bol00028gnywn791n7e","category_id":"ciybc0bos00068gny2oyrnxbs","_id":"ciybc0bpb000g8gny8xzr5gzm"},{"post_id":"ciybc0bou00088gnyvx0ypf5b","category_id":"ciybc0bp8000c8gny2tbjbcbn","_id":"ciybc0bpm000l8gnytjblvgwp"},{"post_id":"ciybc0bpx000r8gnydt60t3x2","category_id":"ciybc0bq0000t8gnyvzlws774","_id":"ciybc0bqc00118gny2m1gtxyc"},{"post_id":"ciybc0bq6000x8gnyi12ugxli","category_id":"ciybc0bos00068gny2oyrnxbs","_id":"ciybc0bqe00158gny6grtm4a6"},{"post_id":"ciybc0bpy000s8gnybk95ae17","category_id":"ciybc0bq8000y8gnymgvbqwrk","_id":"ciybc0bqg00188gnyns08ye2r"},{"post_id":"ciybc0bqd00128gnydox1zkmx","category_id":"ciybc0bq8000y8gnymgvbqwrk","_id":"ciybc0bqi001c8gny6hur93t7"},{"post_id":"ciybc0bq2000v8gnydc3eui3p","category_id":"ciybc0bqe00138gnynt2v9yo5","_id":"ciybc0bqj001f8gnyg7wyjdfy"},{"post_id":"ciybc0bqh001b8gny0ap40r8t","category_id":"ciybc0bp8000c8gny2tbjbcbn","_id":"ciybc0bql001l8gny7up1ycrx"},{"post_id":"ciybc0bq4000w8gnynyu057ma","category_id":"ciybc0bqh00198gnyp3tn6bw4","_id":"ciybc0bqo001o8gnygsuttopc"},{"post_id":"ciybc0bqk001j8gnyd4ap54dn","category_id":"ciybc0bos00068gny2oyrnxbs","_id":"ciybc0bqs001s8gnyo3pgpb12"},{"post_id":"ciybc0bqe00168gnyunlkcu6m","category_id":"ciybc0bqr001q8gny3y9kkqqd","_id":"ciybc0bqw00208gnytpcm9xho"},{"post_id":"ciybc0bqi001e8gnynelqi2pa","category_id":"ciybc0bqw00228gnyx3k6xlkg","_id":"ciybc0br2002b8gnymry5mp7k"},{"post_id":"ciybc0bqx00258gnyp645kl2b","category_id":"ciybc0bos00068gny2oyrnxbs","_id":"ciybc0br3002g8gnye58ktdpf"},{"post_id":"ciybc0bql001m8gny66j9zpvt","category_id":"ciybc0bqy00268gny82sccime","_id":"ciybc0br4002j8gnyakx0bptf"},{"post_id":"ciybc0bqa00108gnyfl4zajdo","category_id":"ciybc0bqj001h8gny5b6p8cco","_id":"ciybc0br8002p8gnyh5fclqim"},{"post_id":"ciybc0bqa00108gnyfl4zajdo","category_id":"ciybc0br3002e8gny3wsh3jwz","_id":"ciybc0bra002t8gnyywxh51r9"},{"post_id":"ciybc0br7002n8gnya3r5vau3","category_id":"ciybc0bqy00268gny82sccime","_id":"ciybc0brb002v8gnyi417ebjb"},{"post_id":"ciybc0bqo001p8gny8nkt90ia","category_id":"ciybc0br6002l8gny7fcykmdf","_id":"ciybc0brd002z8gnyyjqxigjy"},{"post_id":"ciybc0br8002o8gnydhr1n4vj","category_id":"ciybc0bos00068gny2oyrnxbs","_id":"ciybc0brf00328gnyu1gcvo4k"},{"post_id":"ciybc0bra002u8gnyneqvextn","category_id":"ciybc0bqe00138gnynt2v9yo5","_id":"ciybc0brh00368gnymdbp3y0p"},{"post_id":"ciybc0brc002y8gnyswmwx15l","category_id":"ciybc0bos00068gny2oyrnxbs","_id":"ciybc0brk003a8gnyzhuln117"},{"post_id":"ciybc0bqt001u8gny0jf9ocy4","category_id":"ciybc0brb002w8gnyvpljhre6","_id":"ciybc0brl003c8gnyej84wf6g"},{"post_id":"ciybc0brg00348gnygyvw6171","category_id":"ciybc0bos00068gny2oyrnxbs","_id":"ciybc0brm003e8gnyby02lcjh"},{"post_id":"ciybc0bqv001x8gny58m57mr8","category_id":"ciybc0brb002w8gnyvpljhre6","_id":"ciybc0brm003g8gnyei483145"},{"post_id":"ciybc0bqf00178gnyuq4yo8y5","category_id":"ciybc0bqu001v8gnyrmuufd59","_id":"ciybc0brn003k8gnyzcw29dav"},{"post_id":"ciybc0bqf00178gnyuq4yo8y5","category_id":"ciybc0brl003b8gny097mold8","_id":"ciybc0bro003n8gnyr9f526dq"},{"post_id":"ciybc0bqw00248gnyc5u39ta7","category_id":"ciybc0brm003i8gnyiyh2catw","_id":"ciybc0brp003p8gnyihshsqwb"},{"post_id":"ciybc0br1002a8gnysmvuxz54","category_id":"ciybc0brq003r8gnyisfu9ybo","_id":"ciybc0brq003v8gnyands3ijo"},{"post_id":"ciybc0br4002i8gnyfccttere","category_id":"ciybc0brq003t8gnycioe4yjm","_id":"ciybc0brt003z8gny2gq6j96w"},{"post_id":"ciybc0br5002k8gnyspdkuaqd","category_id":"ciybc0brq003w8gnyv9zsjc4h","_id":"ciybc0bru00448gnyakgmt1nz"},{"post_id":"ciybc0br9002s8gnyo4cz79rk","category_id":"ciybc0brb002w8gnyvpljhre6","_id":"ciybc0brw00498gnydehkbe14"},{"post_id":"ciybc0bqs001t8gnyxgetdfka","category_id":"ciybc0br9002q8gnyi0c3425x","_id":"ciybc0brw004c8gnyzmnklc7c"},{"post_id":"ciybc0bqs001t8gnyxgetdfka","category_id":"ciybc0bru00468gnyfjor89ok","_id":"ciybc0brx004e8gnyvsjge1fw"},{"post_id":"ciybc0bre00318gnyvhuv6ii0","category_id":"ciybc0brw004a8gnys9fvmpbp","_id":"ciybc0brx004g8gnywrjm3n9t"},{"post_id":"ciybc0brj00398gny164akz4o","category_id":"ciybc0brx004d8gny1yqcj1wa","_id":"ciybc0bry004k8gnyao1n5ccl"},{"post_id":"ciybc0bqz00288gnyv020m6zt","category_id":"ciybc0brn003l8gnyvc6b2qnj","_id":"ciybc0brz004o8gnyrdkapnsi"},{"post_id":"ciybc0bqz00288gnyv020m6zt","category_id":"ciybc0bry004h8gnyjlpa4zmy","_id":"ciybc0bs0004r8gnydxb4bfci"}],"PostTag":[{"post_id":"ciybc0bol00028gnywn791n7e","tag_id":"ciybc0bot00078gnyrahz4x54","_id":"ciybc0bpa000e8gnyr0bu1kak"},{"post_id":"ciybc0bou00088gnyvx0ypf5b","tag_id":"ciybc0bp9000d8gnyv3m0xdb5","_id":"ciybc0bpl000j8gnynomggwtv"},{"post_id":"ciybc0bpx000r8gnydt60t3x2","tag_id":"ciybc0bq1000u8gnyf5pe6x8o","_id":"ciybc0bqi001d8gnyqy1or0qc"},{"post_id":"ciybc0bpx000r8gnydt60t3x2","tag_id":"ciybc0bq9000z8gnyv2gvjbk7","_id":"ciybc0bqj001g8gnymd087k01"},{"post_id":"ciybc0bpx000r8gnydt60t3x2","tag_id":"ciybc0bqe00148gnycd2rpipq","_id":"ciybc0bql001k8gnybfaxk9xo"},{"post_id":"ciybc0bpy000s8gnybk95ae17","tag_id":"ciybc0bqh001a8gnys0ryd0qs","_id":"ciybc0bqn001n8gnycutaksfb"},{"post_id":"ciybc0bq2000v8gnydc3eui3p","tag_id":"ciybc0bqj001i8gnyfwy9ycfl","_id":"ciybc0bqv001y8gnyqh675wl9"},{"post_id":"ciybc0bq2000v8gnydc3eui3p","tag_id":"ciybc0bqr001r8gny80ny7uip","_id":"ciybc0bqw00218gnyyvwn7jif"},{"post_id":"ciybc0bq4000w8gnynyu057ma","tag_id":"ciybc0bqu001w8gnyff58zn7v","_id":"ciybc0br100298gny2t45a114"},{"post_id":"ciybc0bq4000w8gnynyu057ma","tag_id":"ciybc0bqw00238gny4qzqed1b","_id":"ciybc0br2002c8gny15qsu9pm"},{"post_id":"ciybc0bq6000x8gnyi12ugxli","tag_id":"ciybc0bqy00278gnykqlm6xlr","_id":"ciybc0br4002h8gnyxo9oibmi"},{"post_id":"ciybc0bqa00108gnyfl4zajdo","tag_id":"ciybc0br3002f8gnymukyqqjs","_id":"ciybc0bre00308gny8uahaoom"},{"post_id":"ciybc0bqa00108gnyfl4zajdo","tag_id":"ciybc0br7002m8gnyiuq5nn9b","_id":"ciybc0brg00338gny37mqjnkp"},{"post_id":"ciybc0bqa00108gnyfl4zajdo","tag_id":"ciybc0br9002r8gnyt0a771sb","_id":"ciybc0brj00388gnyn5nlbat5"},{"post_id":"ciybc0bqd00128gnydox1zkmx","tag_id":"ciybc0brc002x8gnyctqz3ivw","_id":"ciybc0brm003f8gnyl1m9vm9s"},{"post_id":"ciybc0bqd00128gnydox1zkmx","tag_id":"ciybc0brh00378gnyhyuqtsnz","_id":"ciybc0brm003h8gny4lzqv7me"},{"post_id":"ciybc0bqe00168gnyunlkcu6m","tag_id":"ciybc0brm003d8gnyb5d43aa3","_id":"ciybc0brp003o8gnywcyuzc0i"},{"post_id":"ciybc0bqe00168gnyunlkcu6m","tag_id":"ciybc0brn003j8gny63b6ytx5","_id":"ciybc0brq003q8gnyl4369b14"},{"post_id":"ciybc0bqf00178gnyuq4yo8y5","tag_id":"ciybc0brn003m8gnycdv4y80d","_id":"ciybc0brr003y8gnyb70b4t8u"},{"post_id":"ciybc0bqf00178gnyuq4yo8y5","tag_id":"ciybc0brq003s8gnydrc2cql6","_id":"ciybc0brt00408gny8c4p9rdl"},{"post_id":"ciybc0bqf00178gnyuq4yo8y5","tag_id":"ciybc0brq003u8gnyz8lgm762","_id":"ciybc0bru00438gnyraj3uufw"},{"post_id":"ciybc0bqh001b8gny0ap40r8t","tag_id":"ciybc0bp9000d8gnyv3m0xdb5","_id":"ciybc0bru00458gnyb3tvv3pv"},{"post_id":"ciybc0bqh001b8gny0ap40r8t","tag_id":"ciybc0brr003x8gnyhgfogp5m","_id":"ciybc0brv00488gny5eowin0o"},{"post_id":"ciybc0bqi001e8gnynelqi2pa","tag_id":"ciybc0brt00428gnyqddvfbq6","_id":"ciybc0bry004j8gnycrjuv7bv"},{"post_id":"ciybc0bqi001e8gnynelqi2pa","tag_id":"ciybc0brv00478gny68qhkzir","_id":"ciybc0bry004l8gnyhc5datcq"},{"post_id":"ciybc0bqi001e8gnynelqi2pa","tag_id":"ciybc0brw004b8gny4sn3jf6q","_id":"ciybc0bry004n8gnyg9ngk9wk"},{"post_id":"ciybc0bqi001e8gnynelqi2pa","tag_id":"ciybc0brx004f8gny0nxk4y5v","_id":"ciybc0brz004p8gnyqwbwqpzs"},{"post_id":"ciybc0bqk001j8gnyd4ap54dn","tag_id":"ciybc0bry004i8gnyrnsxkcyz","_id":"ciybc0bs0004s8gnyeitwgmpv"},{"post_id":"ciybc0bqk001j8gnyd4ap54dn","tag_id":"ciybc0br9002r8gnyt0a771sb","_id":"ciybc0bs0004t8gnybubzx8x0"},{"post_id":"ciybc0bql001m8gny66j9zpvt","tag_id":"ciybc0brz004q8gnyi8onvl8p","_id":"ciybc0bs0004v8gnyfzirvsrq"},{"post_id":"ciybc0bqo001p8gny8nkt90ia","tag_id":"ciybc0brz004q8gnyi8onvl8p","_id":"ciybc0bs1004x8gnybqoksd3y"},{"post_id":"ciybc0bqs001t8gnyxgetdfka","tag_id":"ciybc0bs0004w8gnym7a5drlp","_id":"ciybc0bs1004z8gnyr84bt57r"},{"post_id":"ciybc0bqt001u8gny0jf9ocy4","tag_id":"ciybc0bs1004y8gnynb2e4wz7","_id":"ciybc0bs200528gny2gqto5g0"},{"post_id":"ciybc0bqt001u8gny0jf9ocy4","tag_id":"ciybc0bs100508gny1t8yrsav","_id":"ciybc0bs200538gnyvbrchxob"},{"post_id":"ciybc0bqv001x8gny58m57mr8","tag_id":"ciybc0bs1004y8gnynb2e4wz7","_id":"ciybc0bs400568gnyq2w2zmi1"},{"post_id":"ciybc0bqv001x8gny58m57mr8","tag_id":"ciybc0bs300548gnyaair82du","_id":"ciybc0bs400578gnyx4aftt5f"},{"post_id":"ciybc0bqw00248gnyc5u39ta7","tag_id":"ciybc0bs400558gnybfavuc72","_id":"ciybc0bs6005c8gnyiqn22ci5"},{"post_id":"ciybc0bqw00248gnyc5u39ta7","tag_id":"ciybc0bs400588gnyyqfe9dal","_id":"ciybc0bs6005d8gnyhvjz5y6f"},{"post_id":"ciybc0bqw00248gnyc5u39ta7","tag_id":"ciybc0bs500598gnynvee8i1k","_id":"ciybc0bs6005f8gnyyqit9ky2"},{"post_id":"ciybc0bqw00248gnyc5u39ta7","tag_id":"ciybc0bs5005a8gny2mqiszcr","_id":"ciybc0bs6005g8gnyc2apx7ju"},{"post_id":"ciybc0bqx00258gnyp645kl2b","tag_id":"ciybc0bs6005b8gnyfougt6ul","_id":"ciybc0bs6005i8gnynzh5a66x"},{"post_id":"ciybc0bqz00288gnyv020m6zt","tag_id":"ciybc0bs6005e8gny6iirwf9c","_id":"ciybc0bs8005l8gny9jzdt7sk"},{"post_id":"ciybc0bqz00288gnyv020m6zt","tag_id":"ciybc0bs6005h8gnycx2d8cko","_id":"ciybc0bs8005m8gnyb44c7izh"},{"post_id":"ciybc0bqz00288gnyv020m6zt","tag_id":"ciybc0br9002r8gnyt0a771sb","_id":"ciybc0bs8005o8gnycgj4mz53"},{"post_id":"ciybc0br1002a8gnysmvuxz54","tag_id":"ciybc0bs8005k8gnyvtlm0q5n","_id":"ciybc0bsa005p8gnypfns5tcp"},{"post_id":"ciybc0br4002i8gnyfccttere","tag_id":"ciybc0bs8005n8gnyzz4q5jz3","_id":"ciybc0bsa005r8gny6zdxxbgk"},{"post_id":"ciybc0br5002k8gnyspdkuaqd","tag_id":"ciybc0bs6005e8gny6iirwf9c","_id":"ciybc0bsb005u8gny8747wxf4"},{"post_id":"ciybc0br5002k8gnyspdkuaqd","tag_id":"ciybc0bsa005s8gny7xenaoym","_id":"ciybc0bsb005v8gnyjej76hic"},{"post_id":"ciybc0br7002n8gnya3r5vau3","tag_id":"ciybc0bsb005t8gnym6d8ajfk","_id":"ciybc0bsc005x8gnyneecyafk"},{"post_id":"ciybc0br8002o8gnydhr1n4vj","tag_id":"ciybc0bsc005w8gny3xqddlj9","_id":"ciybc0bsg00628gny9tjcojgt"},{"post_id":"ciybc0br8002o8gnydhr1n4vj","tag_id":"ciybc0bsd005y8gny8iwri25g","_id":"ciybc0bsg00638gny78gpj3w9"},{"post_id":"ciybc0br8002o8gnydhr1n4vj","tag_id":"ciybc0bsd005z8gnyq81wc29w","_id":"ciybc0bsg00658gny8ctqgwg7"},{"post_id":"ciybc0br8002o8gnydhr1n4vj","tag_id":"ciybc0br9002r8gnyt0a771sb","_id":"ciybc0bsg00668gny2hqzg17i"},{"post_id":"ciybc0br9002s8gnyo4cz79rk","tag_id":"ciybc0bs1004y8gnynb2e4wz7","_id":"ciybc0bsg00688gnyaae5fakr"},{"post_id":"ciybc0br9002s8gnyo4cz79rk","tag_id":"ciybc0bsg00648gnyzhembinb","_id":"ciybc0bsg00698gny97p7lvmi"},{"post_id":"ciybc0bra002u8gnyneqvextn","tag_id":"ciybc0bsg00678gnygqe1kenx","_id":"ciybc0bsh006d8gnyh64sjms4"},{"post_id":"ciybc0bra002u8gnyneqvextn","tag_id":"ciybc0bsh006a8gnyxnjcmmtx","_id":"ciybc0bsi006e8gnyzgc50yld"},{"post_id":"ciybc0bra002u8gnyneqvextn","tag_id":"ciybc0bsh006b8gnyigtp72bx","_id":"ciybc0bsi006g8gnyjr7rk6hi"},{"post_id":"ciybc0brc002y8gnyswmwx15l","tag_id":"ciybc0bsh006c8gnyzpc7jadb","_id":"ciybc0bsj006j8gnybj0crp0p"},{"post_id":"ciybc0brc002y8gnyswmwx15l","tag_id":"ciybc0bsi006f8gny481ky7z6","_id":"ciybc0bsj006k8gnyuvrhzgpj"},{"post_id":"ciybc0brc002y8gnyswmwx15l","tag_id":"ciybc0bsi006h8gny573nppzs","_id":"ciybc0bsj006m8gnyj89scjrq"},{"post_id":"ciybc0bre00318gnyvhuv6ii0","tag_id":"ciybc0bsj006i8gnytpbjh7qn","_id":"ciybc0bsk006n8gny0kohvfd6"},{"post_id":"ciybc0bre00318gnyvhuv6ii0","tag_id":"ciybc0bqu001w8gnyff58zn7v","_id":"ciybc0bsl006p8gnyatgggpxi"},{"post_id":"ciybc0brg00348gnygyvw6171","tag_id":"ciybc0bsj006l8gnyd9fle6xh","_id":"ciybc0bsl006q8gny8kqf4sa4"},{"post_id":"ciybc0brj00398gny164akz4o","tag_id":"ciybc0bsk006o8gny3efj1zwf","_id":"ciybc0bsl006r8gnyck6h25bo"}],"Tag":[{"name":"canvas","_id":"ciybc0bot00078gnyrahz4x54"},{"name":"git","_id":"ciybc0bp9000d8gnyv3m0xdb5"},{"name":"backbone","_id":"ciybc0bq1000u8gnyf5pe6x8o"},{"name":"base","_id":"ciybc0bq9000z8gnyv2gvjbk7"},{"name":"view","_id":"ciybc0bqe00148gnycd2rpipq"},{"name":"建造公式","_id":"ciybc0bqh001a8gnys0ryd0qs"},{"name":"markdown","_id":"ciybc0bqj001i8gnyfwy9ycfl"},{"name":"webstrom","_id":"ciybc0bqr001r8gny80ny7uip"},{"name":"css","_id":"ciybc0bqu001w8gnyff58zn7v"},{"name":"animation","_id":"ciybc0bqw00238gny4qzqed1b"},{"name":"decorator","_id":"ciybc0bqy00278gnykqlm6xlr"},{"name":"dva","_id":"ciybc0br3002f8gnymukyqqjs"},{"name":"react","_id":"ciybc0br7002m8gnyiuq5nn9b"},{"name":"js","_id":"ciybc0br9002r8gnyt0a771sb"},{"name":"埃塞克斯","_id":"ciybc0brc002x8gnyctqz3ivw"},{"name":"航母","_id":"ciybc0brh00378gnyhyuqtsnz"},{"name":"scss","_id":"ciybc0brm003d8gnyb5d43aa3"},{"name":"for","_id":"ciybc0brn003j8gny63b6ytx5"},{"name":"formData","_id":"ciybc0brn003m8gnycdv4y80d"},{"name":"ajax","_id":"ciybc0brq003s8gnydrc2cql6"},{"name":"image upload","_id":"ciybc0brq003u8gnyz8lgm762"},{"name":"记住密码","_id":"ciybc0brr003x8gnyhgfogp5m"},{"name":"文学","_id":"ciybc0brt00428gnyqddvfbq6"},{"name":"日本文学","_id":"ciybc0brv00478gny68qhkzir"},{"name":"东野圭吾","_id":"ciybc0brw004b8gny4sn3jf6q"},{"name":"东野圭吾作品全集","_id":"ciybc0brx004f8gny0nxk4y5v"},{"name":"this","_id":"ciybc0bry004i8gnyrnsxkcyz"},{"name":"端口占用","_id":"ciybc0brz004q8gnyi8onvl8p"},{"name":"nav","_id":"ciybc0bs0004w8gnym7a5drlp"},{"name":"mysql","_id":"ciybc0bs1004y8gnynb2e4wz7"},{"name":"navicat","_id":"ciybc0bs100508gny1t8yrsav"},{"name":"paswword","_id":"ciybc0bs300548gnyaair82du"},{"name":"tedx","_id":"ciybc0bs400558gnybfavuc72"},{"name":"在网络暴力中捍卫自己","_id":"ciybc0bs400588gnyyqfe9dal"},{"name":"演讲稿","_id":"ciybc0bs500598gnynvee8i1k"},{"name":"袁姗姗","_id":"ciybc0bs5005a8gny2mqiszcr"},{"name":"imgage error","_id":"ciybc0bs6005b8gnyfougt6ul"},{"name":"splice","_id":"ciybc0bs6005e8gny6iirwf9c"},{"name":"array","_id":"ciybc0bs6005h8gnycx2d8cko"},{"name":"微信开发","_id":"ciybc0bs8005k8gnyvtlm0q5n"},{"name":"textarea","_id":"ciybc0bs8005n8gnyzz4q5jz3"},{"name":"slice","_id":"ciybc0bsa005s8gny7xenaoym"},{"name":"win10","_id":"ciybc0bsb005t8gnym6d8ajfk"},{"name":"ts","_id":"ciybc0bsc005w8gny3xqddlj9"},{"name":"date","_id":"ciybc0bsd005y8gny8iwri25g"},{"name":"format","_id":"ciybc0bsd005z8gnyq81wc29w"},{"name":"中文乱码","_id":"ciybc0bsg00648gnyzhembinb"},{"name":"webpack-dev-server","_id":"ciybc0bsg00678gnygqe1kenx"},{"name":"webpack","_id":"ciybc0bsh006a8gnyxnjcmmtx"},{"name":"webstorm","_id":"ciybc0bsh006b8gnyigtp72bx"},{"name":"compatible module","_id":"ciybc0bsh006c8gnyzpc7jadb"},{"name":"AMD","_id":"ciybc0bsi006f8gny481ky7z6"},{"name":"CMD","_id":"ciybc0bsi006h8gny573nppzs"},{"name":"html","_id":"ciybc0bsj006i8gnytpbjh7qn"},{"name":"zepto","_id":"ciybc0bsj006l8gnyd9fle6xh"},{"name":"svn","_id":"ciybc0bsk006o8gny3efj1zwf"}]}}